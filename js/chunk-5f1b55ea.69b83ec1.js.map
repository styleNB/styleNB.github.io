{"version":3,"sources":["webpack:///./src/views/generalize/list.vue?779b","webpack:///src/views/generalize/list.vue","webpack:///./src/views/generalize/list.vue?fb32","webpack:///./src/views/generalize/list.vue","webpack:///./src/mixins/event.js","webpack:///./node_modules/_core-js@3.8.2@core-js/modules/es.array.splice.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","_v","on","$event","resetForm","export2Excel","tableData","_l","item","i","key","filterVal","staticClass","queryInit","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","name","mixins","data","tHeader","components","LayoutBox","methods","$refs","formName","resetFields","_export2Excel","created","_getAllReferrer","component","MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL","addAll","successCut","errCut","AddGoodsCmp","$data","multipleSelection","length","goodsAndActivity","includes","prodId","id","push","$notify","error","title","message","$message","success","dialogVisible","onOldUpdate","scope","oldUpdateIndex","$index","onUpdate","updateIndex","onOldSave","onSave","onDelete","splice","onAddGoods","MIXINS_UPLOADFILE_EVNET","uploadFile","params","formData","_uploadFile","$http","post","then","res","webUrl","isJPG","file","type","isLt2M","size","FormData","append","MIXINS_VALIDATION_NUMBER","_validationNumber","obj","replace","_verifyNumber","_validationMoney","MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT","samllProdId","MIXINS_EXPORT2EXCEL_EVNET","require","export_json_to_excel","formatJson","jsonData","map","v","j","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","TypeError"],"mappings":"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","file":"js/chunk-5f1b55ea.69b83ec1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('LayoutBox',{attrs:{\"one\":\"推广\",\"two\":\"统计\"}},[_c('el-form',{ref:\"seach\",attrs:{\"size\":\"small\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input')],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-search\"}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.resetForm('seach')}}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-printer\"},on:{\"click\":_vm.export2Excel}},[_vm._v(\"导出数据\")])],1)],1),_c('el-table',{attrs:{\"data\":_vm.tableData,\"border\":\"\",\"size\":\"small\"}},_vm._l((_vm.tHeader),function(item,i){return _c('el-table-column',{key:i,attrs:{\"prop\":_vm.filterVal[i],\"label\":item,\"align\":\"center\"}})}),1),_c('el-pagination',{staticClass:\"mt-1 text-right\",attrs:{\"background\":\"\",\"current-page\":_vm.queryInit.pageNo,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.queryInit.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.queryInit.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <LayoutBox one=\"推广\" two=\"统计\">\r\n      <el-form ref=\"seach\" size=\"small\" inline>\r\n        <el-form-item label=\"用户名\">\r\n          <el-input></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" icon=\"el-icon-search\">搜索</el-button>\r\n          <el-button icon=\"el-icon-delete\" @click=\"resetForm('seach')\">重置</el-button>\r\n          <el-button icon=\"el-icon-printer\" @click=\"export2Excel\">导出数据</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n      <el-table :data=\"tableData\" border size=\"small\">\r\n        <el-table-column v-for=\"(item, i) in tHeader\" :key=\"i\" :prop=\"filterVal[i]\" :label=\"item\" align=\"center\"></el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination class=\"mt-1 text-right\" background :current-page=\"queryInit.pageNo\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"queryInit.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"queryInit.total\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n    </LayoutBox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LayoutBox from '@/components/LayoutBox/index'\r\nimport { MIXINS_EXPORT2EXCEL_EVNET } from '@/mixins/event.js'\r\n\r\nexport default {\r\n  name: 'generalizeList',\r\n\r\n  mixins: [\r\n    MIXINS_EXPORT2EXCEL_EVNET\r\n  ],\r\n\r\n  data() {\r\n    return {\r\n      tableData: [],\r\n      queryInit: { // 初始化分页\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      tHeader: ['推广人员手机号', '总推广人数', '今日推广人数'], // 表头\r\n      filterVal: ['referrerPhone', 'totalPromotions', 'totalPromotionsToday'], // 表内容\r\n    }\r\n  },\r\n\r\n  components: {\r\n    LayoutBox\r\n  },\r\n\r\n  methods: {\r\n    // 分页每页显示多少条\r\n    handleSizeChange (pageSize) {\r\n      this.queryInit.pageSize = pageSize\r\n    },\r\n    // 分页选择显示的是第几页\r\n    handleCurrentChange (pageNo) {\r\n      this.queryInit.pageNo = pageNo\r\n    },\r\n    // 点击重置\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields()\r\n    },\r\n    // 点击打印\r\n    export2Excel () {\r\n      this._export2Excel(this.tableData, this.tHeader, this.filterVal)\r\n    },\r\n\r\n    // 私有方法--------------------------------\r\n    // 分页查询\r\n    async _getAllReferrer () {\r\n      // eslint-disable-next-line \r\n      const data = {\r\n        ...this.queryInit\r\n      }\r\n      const res = await this.$http.get(this.$api.getAllReferrer)\r\n      console.log(res)\r\n      if (res.data.success) {\r\n        this.tableData = res.data.data\r\n      } else {\r\n        this.$message.error(res.data.msg)\r\n      }\r\n    }\r\n  },\r\n\r\n  created () {\r\n    this._getAllReferrer()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=3343ed33&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3343ed33\",\n  null\n  \n)\n\nexport default component.exports","const MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL = {\r\n  /**\r\n   * leeappparent\\web\\src\\views\\marketing\\mark\\bargains\\add_bargains\\add_bargains.vue\r\n   * leeappparent\\web\\src\\views\\marketing\\mark\\team_buy\\add_team_buy\\add_team_buy.vue\r\n   */\r\n  methods: {\r\n    // 点击添加（批量）\r\n    addAll () {\r\n      let successCut = 0 // 成功的数量\r\n      let errCut = 0 // 失败的数量\r\n      for (let i = 0; i < this.$refs.AddGoodsCmp.$data.multipleSelection.length; i++) {\r\n        if (this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[i])) {\r\n          errCut++\r\n        } else {\r\n          successCut++\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].prodId = this.$refs.AddGoodsCmp.$data.multipleSelection[i].id\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].id = ''\r\n          this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[i])\r\n        }\r\n      }\r\n      if (errCut !== 0) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `有${errCut}个重复了`\r\n        })\r\n      }\r\n      if (successCut !== 0) {\r\n        this.$message.success(`有${successCut}个添加成功`)\r\n        this.dialogVisible = false\r\n      }\r\n    },\r\n    // 分页\r\n    handleCurrentChange () {\r\n\r\n    },\r\n    // 已关联商品的编辑\r\n    onOldUpdate (scope) {\r\n      this.oldUpdateIndex = scope.$index\r\n    },\r\n    // 编辑\r\n    onUpdate (scope) {\r\n      this.updateIndex = scope.$index\r\n    },\r\n    // 已关联商品的完成\r\n    onOldSave() {\r\n      this.oldUpdateIndex = ''\r\n    },\r\n    // 完成\r\n    onSave(scope) {\r\n      this.updateIndex = ''\r\n    },\r\n    // 删除\r\n    onDelete(scope) {\r\n      this.goodsAndActivity.splice(scope.$index, 1)\r\n    },\r\n    // 添加商品\r\n    onAddGoods() {\r\n      this.dialogVisible = true\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 自定义组件地区选择的公共方法\r\n * wohoWeb\\src\\views\\ad\\ad_add\\ad_add.vue\r\n */\r\nconst MIXINS_AREASELECT_EVNET = {\r\n  methods: {\r\n    // 子组件传给父组件的发货区域\r\n    _areaSelect (e) {\r\n      let area = e[0] + ',' + e[1]\r\n      if (e.length === 3) {\r\n        return area + ',' + e[2]\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 单图片上传的公共方法\r\n * wohoWeb\\src\\views\\commodity\\category\\Category.vue\r\n * wohoWeb\\src\\components\\chat_window_cmp\\index.vue\r\n */\r\nconst MIXINS_UPLOADFILE_EVNET = {\r\n  methods: {\r\n    // 自定义覆盖主图图片上传方法\r\n    uploadFile (params) {\r\n      let formData = this._uploadFile(params)\r\n      if (formData) {\r\n        return this.$http.post('/common/oss/uploadFile', formData).then(res => res.data.data.webUrl)\r\n      }\r\n    },\r\n    // 上传图片前的处理\r\n    _uploadFile (params) {\r\n      const isJPG = params.file.type === 'image/jpeg' || params.file.type === 'image/png'\r\n      const isLt2M = params.file.size / 1024 / 1024 < 10\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!')\r\n        return false\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 10MB!')\r\n        return false\r\n      }\r\n      const formData = new FormData()\r\n      formData.append('file', params.file)\r\n      return formData\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 公共的方法验证是否是数字\r\n * wohoWeb\\src\\views\\commodity\\CommitAdd.vue\r\n */\r\nconst MIXINS_VALIDATION_NUMBER = {\r\n  methods: {\r\n    // 验证是数字加小数点\r\n    _validationNumber (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d.]/g, '') // 先把非数字的都替换掉，除了数字和.\r\n      obj = obj.replace(/^\\./g, '') // 必须保证第一个为数字而不是.\r\n      obj = obj.replace(/\\.{2,}/g, '.') // 保证只有出现一个.而没有多个.\r\n      obj = obj.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.') // 保证.只出现一次，而不能出现两次以上\r\n      return obj\r\n    },\r\n    // 验证是数字\r\n    _verifyNumber (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d]/g, '') // 先把非数字的都替换掉，除了数字和.\r\n      return obj\r\n    },\r\n    // 验证是金额 后面两位小数点\r\n    _validationMoney (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d.]/g, '')\r\n      obj = obj.replace(/^0\\d+|^\\./g, '')\r\n      obj = obj.replace(/\\.{2,}/g, '.')\r\n      obj = obj.replace('.', '$#$')\r\n      obj = obj.replace(/\\./g, '')\r\n      obj = obj.replace('$#$', '.')\r\n      obj = obj.replace(/^(\\d+)\\.(\\d\\d).*$/, '$1.$2')\r\n      return obj\r\n    },\r\n  }\r\n}\r\n\r\nconst MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT = {\r\n  /**\r\n   * src\\views\\super_market\\mark\\bargains\\add_bargains\\add_bargains.vue\r\n   */\r\n  methods: {\r\n    // 点击添加（批量）\r\n    addAll () {\r\n      let successCut = 0 // 成功的数量\r\n      let errCut = 0 // 失败的数量\r\n      for (let i = 0; i < this.$refs.AddGoodsCmp.$data.multipleSelection.length; i++) {\r\n        if (this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[i])) {\r\n          errCut++\r\n        } else {\r\n          successCut++\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].samllProdId = this.$refs.AddGoodsCmp.$data.multipleSelection[i].id\r\n          this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[i])\r\n        }\r\n      }\r\n      if (errCut !== 0) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `有${errCut}个重复了`\r\n        })\r\n      }\r\n      if (successCut !== 0) {\r\n        this.$message.success(`有${successCut}个添加成功`)\r\n        this.dialogVisible = false\r\n      }\r\n    },\r\n    // 分页\r\n    handleCurrentChange () {\r\n\r\n    },\r\n    // 已关联商品的编辑\r\n    onOldUpdate (scope) {\r\n      this.oldUpdateIndex = scope.$index\r\n    },\r\n    // 编辑\r\n    onUpdate (scope) {\r\n      this.updateIndex = scope.$index\r\n    },\r\n    // 已关联商品的完成\r\n    onOldSave() {\r\n      this.oldUpdateIndex = ''\r\n    },\r\n    // 完成\r\n    onSave(scope) {\r\n      this.updateIndex = ''\r\n    },\r\n    // 删除\r\n    onDelete(scope) {\r\n      this.goodsAndActivity.splice(scope.$index, 1)\r\n    },\r\n    // 添加商品\r\n    onAddGoods() {\r\n      this.dialogVisible = true\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 打印Excel\r\n * woho/wohoWeb/src/views/generalize/list.vue\r\n */\r\nconst MIXINS_EXPORT2EXCEL_EVNET = {\r\n  methods: {\r\n    _export2Excel (tableData, tHeader, filterVal) {\r\n      require.ensure([], () => {\r\n        const { export_json_to_excel } = require('../vendor/Export2Excel')\r\n        // 一个方法 我也不知道干嘛的\r\n        const data = this.formatJson(filterVal, tableData)\r\n        export_json_to_excel(tHeader, data, '统计')\r\n      })\r\n    },\r\n    formatJson (filterVal, jsonData) {\r\n      return jsonData.map(v => filterVal.map(j => v[j]))\r\n    },\r\n  }\r\n}\r\n\r\nexport {\r\n  MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL,\r\n  MIXINS_VALIDATION_NUMBER,\r\n  MIXINS_AREASELECT_EVNET,\r\n  MIXINS_UPLOADFILE_EVNET,\r\n  MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT,\r\n  MIXINS_EXPORT2EXCEL_EVNET,\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n"],"sourceRoot":""}