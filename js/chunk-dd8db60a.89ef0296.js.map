{"version":3,"sources":["webpack:///./src/views/order/comment_list.vue?51de","webpack:///./src/views/order/comment_list.vue?4d12","webpack:///src/views/order/comment_list.vue","webpack:///./src/views/order/comment_list.vue?b6eb","webpack:///./src/views/order/comment_list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","ref","form","model","value","callback","$$v","$set","expression","startTime","endTime","staticStyle","on","onSearch","$event","onReset","onCommentType","commentType","commentList","scopedSlots","_u","key","fn","scope","row","type","_s","evaluate","createTime","reply","slot","_e","addEvaluate","addReply","prodName","price","handleClick","userName","onReply","commentTotle","handleCurrentChange","replyDialog","minRows","maxRows","replyData","nativeOn","preventDefault","reply_submit","staticRenderFns","name","components","LayoutBox","data","pageNo","commentId","mounted","_getCommentList","methods","id","val","_reply_submit","$refs","formName","resetFields","Object","assign","$http","post","replyKey","paramType","console","log","DATA","component"],"mappings":"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","file":"js/chunk-dd8db60a.89ef0296.js","sourcesContent":["export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./comment_list.vue?vue&type=style&index=0&id=93e4779c&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box-card\"},[_c('LayoutBox',{attrs:{\"one\":\"评论管理\"}},[_c('h4',[_vm._v(\"评价管理\")]),_c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"size\":\"mini\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\"}},[_c('el-input')],1),_c('el-form-item',{attrs:{\"label\":\"订单编号\",\"prop\":\"orderId\"}},[_c('el-input',{model:{value:(_vm.form.orderCode),callback:function ($$v) {_vm.$set(_vm.form, \"orderCode\", $$v)},expression:\"form.orderCode\"}})],1),_c('el-form-item',{attrs:{\"label\":\"买家昵称\",\"prop\":\"userName\"}},[_c('el-input',{model:{value:(_vm.form.userName),callback:function ($$v) {_vm.$set(_vm.form, \"userName\", $$v)},expression:\"form.userName\"}})],1)],1),_c('el-form',{attrs:{\"label-width\":\"80px\",\"size\":\"mini\"}},[_c('el-form-item',{attrs:{\"label\":\"评价时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}}),_vm._v(\" 至 \"),_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\"},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1)],1),_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"80px\"}},[_c('el-form-item',[_c('el-button',{staticClass:\"inquire1\",staticStyle:{\"width\":\"80px\"},attrs:{\"type\":\"success\"},on:{\"click\":_vm.onSearch}},[_vm._v(\"查询\")]),_c('el-button',{staticStyle:{\"width\":\"80px\"},on:{\"click\":function($event){return _vm.onReset('form')}}},[_vm._v(\"重置\")])],1)],1)],1)]),_c('div',{staticClass:\"comment_type\"},[_c('el-form',{attrs:{\"size\":\"mini\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"评价类型\"}},[_c('el-radio-group',{on:{\"change\":_vm.onCommentType},model:{value:(_vm.commentType),callback:function ($$v) {_vm.commentType=$$v},expression:\"commentType\"}},[_c('el-radio',{attrs:{\"label\":2}},[_vm._v(\"好评\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"中评\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"差评\")])],1)],1)],1)],1),_c('el-card',{staticStyle:{\"min-width\":\"1100px\"}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.commentList}},[_c('el-table-column',{attrs:{\"label\":\"评价\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.type === 2)?_c('div',[_c('p',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('p',[_vm._v(\"好评\")])]):(scope.row.type === 1)?_c('div',[_c('p',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('p',[_vm._v(\"中评\")])]):_c('div',[_c('p',{staticClass:\"iconfont\"},[_vm._v(\"\")]),_c('p',[_vm._v(\"差评\")])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"orderCode\",\"label\":\"订单号\",\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"label\":\"评价内容\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"comment_group\"},[_c('p',{staticClass:\"m-0\"},[_vm._v(_vm._s(scope.row.evaluate))]),_c('p',{staticClass:\"comment_time m-0\"},[_vm._v(\"初次评价: \"+_vm._s(scope.row.createTime))]),(scope.row.reply)?_c('el-popover',{staticClass:\"reply\",attrs:{\"placement\":\"top-start\",\"title\":\"商家回复：\",\"width\":\"100\",\"trigger\":\"hover\",\"content\":scope.row.reply}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"mini\"},slot:\"reference\"},[_vm._v(\"已回复\")])],1):_vm._e()],1),_c('el-divider',{staticClass:\"mt-1 mb-1\"}),(scope.row.addEvaluate)?_c('div',{staticClass:\"comment_group\"},[_c('p',{staticClass:\"m-0\"},[_vm._v(\"[追加评论] \"+_vm._s(scope.row.addEvaluate))]),_c('p',{staticClass:\"comment_time m-0\"},[_vm._v(\"追加评价: \"+_vm._s(scope.row.createTime))]),(scope.row.addReply)?_c('el-popover',{staticClass:\"reply\",attrs:{\"placement\":\"top-start\",\"title\":\"商家追加回复：\",\"width\":\"100\",\"trigger\":\"hover\",\"content\":scope.row.addReply}},[_c('el-button',{attrs:{\"slot\":\"reference\",\"type\":\"danger\",\"size\":\"mini\"},slot:\"reference\"},[_vm._v(\"已回复\")])],1):_vm._e()],1):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"label\":\"商品信息\",\"show-overflow-tooltip\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{staticStyle:{\"color\":\"#329fec\"}},[_vm._v(_vm._s(scope.row.prodName))]),_c('p',{staticStyle:{\"color\":\"#f6a337\"}},[_vm._v(\"￥\"+_vm._s(scope.row.price))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"昵称\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(_vm._s(scope.row.userName))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!scope.row.reply)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onReply(scope)}}},[_vm._v(\"回复\")]):(!scope.row.reply && scope.row.addEvaluate)?_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.onReply(scope)}}},[_vm._v(\"回复\")]):_vm._e()]}}])})],1),_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.commentTotle},on:{\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"回复解释\",\"visible\":_vm.replyDialog},on:{\"update:visible\":function($event){_vm.replyDialog=$event}}},[_c('el-form',{staticClass:\"reply_dialog_form\",attrs:{\"label-width\":\"80px\"}},[_c('span',{staticClass:\"required\"},[_vm._v(\"*\")]),_c('el-form-item',{attrs:{\"label\":\"回复内容\"}},[_c('el-input',{staticStyle:{\"width\":\"531px\"},attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入回复内容，最多500字。\",\"maxlength\":\"500\",\"autosize\":{ minRows: 7, maxRows: 7 },\"show-word-limit\":\"\"},model:{value:(_vm.replyData),callback:function ($$v) {_vm.replyData=$$v},expression:\"replyData\"}})],1),_c('el-form-item',[_c('p',{staticClass:\"prompt\"},[_vm._v(\"回复信息泄露买家隐私和信息将受到淘宝处罚，请谨慎\")])]),_c('el-form-item',{attrs:{\"size\":\"medium\"}},[_c('el-button',{staticClass:\"inquire1\",attrs:{\"type\":\"success\"},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.reply_submit($event)}}},[_vm._v(\"确认\")]),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"box-card\">\r\n    <LayoutBox one=\"评论管理\">\r\n      <h4>评价管理</h4>\r\n      <div>\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" size=\"mini\" inline>\r\n          <el-form-item label=\"商品名称\">\r\n            <el-input></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"订单编号\" prop=\"orderId\">\r\n            <el-input v-model=\"form.orderCode\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"买家昵称\" prop=\"userName\">\r\n            <el-input v-model=\"form.userName\"></el-input>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-form label-width=\"80px\" size=\"mini\">\r\n          <el-form-item label=\"评价时间\">\r\n            <el-date-picker v-model=\"startTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker> 至 <el-date-picker v-model=\"endTime\" type=\"date\" placeholder=\"选择日期\"></el-date-picker>\r\n          </el-form-item>\r\n        </el-form>\r\n        <el-form size=\"mini\" label-width=\"80px\">\r\n          <el-form-item>\r\n            <el-button class=\"inquire1\" type=\"success\" style=\"width: 80px\" @click=\"onSearch\">查询</el-button>\r\n            <el-button style=\"width: 80px\" @click=\"onReset('form')\">重置</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n    </LayoutBox>\r\n\r\n    <div class=\"comment_type\">\r\n      <el-form size=\"mini\" label-width=\"80px\">\r\n        <el-form-item label=\"评价类型\">\r\n          <el-radio-group v-model=\"commentType\" @change=\"onCommentType\">\r\n            <el-radio :label=\"2\">好评</el-radio>\r\n            <el-radio :label=\"1\">中评</el-radio>\r\n            <el-radio :label=\"0\">差评</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n\r\n    <el-card style=\"min-width: 1100px\">\r\n      <el-table :data=\"commentList\" style=\"width: 100%\">\r\n        <el-table-column label=\"评价\" width=\"80\">\r\n          <template slot-scope=\"scope\">\r\n            <!-- 评价类型 0-不满意 1-一般 2-满意 -->\r\n            <div v-if=\"scope.row.type === 2\">\r\n              <p class=\"iconfont\">&#xe607;</p>\r\n              <p>好评</p>\r\n            </div>\r\n            <div v-else-if=\"scope.row.type === 1\">\r\n              <p class=\"iconfont\">&#xe600;</p>\r\n              <p>中评</p>\r\n            </div>\r\n            <div v-else>\r\n              <p class=\"iconfont\">&#xe625;</p>\r\n              <p>差评</p>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"orderCode\" label=\"订单号\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"评价内容\" show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            <div class=\"comment_group\">\r\n              <p class=\"m-0\">{{ scope.row.evaluate }}</p>\r\n              <p class=\"comment_time m-0\">初次评价: {{ scope.row.createTime }}</p>\r\n              <el-popover v-if=\"scope.row.reply\" class=\"reply\" placement=\"top-start\" title=\"商家回复：\" width=\"100\" trigger=\"hover\" :content=\"scope.row.reply\">\r\n                <el-button slot=\"reference\" type=\"danger\" size=\"mini\">已回复</el-button>\r\n              </el-popover>\r\n            </div>\r\n            <el-divider class=\"mt-1 mb-1\"></el-divider>\r\n            <div v-if=\"scope.row.addEvaluate\" class=\"comment_group\">\r\n              <p class=\"m-0\">[追加评论] {{ scope.row.addEvaluate }}</p>\r\n              <p class=\"comment_time m-0\">追加评价: {{ scope.row.createTime }}</p>\r\n              <el-popover v-if=\"scope.row.addReply\" class=\"reply\" placement=\"top-start\" title=\"商家追加回复：\" width=\"100\" trigger=\"hover\" :content=\"scope.row.addReply\">\r\n                <el-button slot=\"reference\" type=\"danger\" size=\"mini\">已回复</el-button>\r\n              </el-popover>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"商品信息\" show-overflow-tooltip>\r\n          <template slot-scope=\"scope\">\r\n            <p style=\"color: #329fec\">{{ scope.row.prodName }}</p>\r\n            <p style=\"color: #f6a337\">￥{{ scope.row.price }}</p>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"昵称\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" size=\"small\" @click=\"handleClick(scope.row)\">{{ scope.row.userName }}</el-button>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"100\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button v-if=\"!scope.row.reply\" type=\"primary\" size=\"small\" @click=\"onReply(scope)\">回复</el-button>\r\n            <el-button v-else-if=\"!scope.row.reply && scope.row.addEvaluate\" type=\"primary\" size=\"small\" @click=\"onReply(scope)\">回复</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination background layout=\"prev, pager, next\" :total=\"commentTotle\" @current-change=\"handleCurrentChange\"></el-pagination>\r\n    </el-card>\r\n    <el-dialog title=\"回复解释\" :visible.sync=\"replyDialog\">\r\n      <el-form class=\"reply_dialog_form\" label-width=\"80px\">\r\n        <span class=\"required\">*</span>\r\n        <el-form-item label=\"回复内容\">\r\n          <el-input v-model=\"replyData\" type=\"textarea\" placeholder=\"请输入回复内容，最多500字。\" maxlength=\"500\" :autosize=\"{ minRows: 7, maxRows: 7 }\" style=\"width: 531px\" show-word-limit></el-input>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <p class=\"prompt\">回复信息泄露买家隐私和信息将受到淘宝处罚，请谨慎</p>\r\n        </el-form-item>\r\n        <el-form-item size=\"medium\">\r\n          <el-button class=\"inquire1\" type=\"success\" @click.native.prevent=\"reply_submit\">确认</el-button>\r\n          <el-button>取消</el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LayoutBox from '@/components/LayoutBox/index'\r\n\r\nexport default {\r\n  name: 'CommentList',\r\n\r\n  components: {\r\n    LayoutBox\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      startTime: '', // 评价开始时间\r\n      endTime: '', // 评价结束时间\r\n      commentType: '', // 评价类型\r\n      replyDialog: false,\r\n      pageNo: 1, // 分页的当前页数默认第一页为1\r\n      commentTotle: 0, // 总页数\r\n      commentList: [], // 评论列表\r\n      replyData: '', // 回复的内容\r\n      form: {}, // 模糊查询查找\r\n      commentId: '', // 选择的评价id\r\n    }\r\n  },\r\n\r\n  mounted () {\r\n    this._getCommentList()\r\n  },\r\n\r\n  methods: {\r\n    // 点击回复按钮弹出回复窗口\r\n    onReply (scope) {\r\n      this.commentId = scope.row.id\r\n      this.replyDialog = true\r\n    },\r\n    // 评论列表分页\r\n    handleCurrentChange (val) {\r\n      this.pageNo = val\r\n      this._getCommentList()\r\n    },\r\n    // 回复提交\r\n    reply_submit () {\r\n      this._reply_submit()\r\n    },\r\n    // 查询\r\n    onSearch () {\r\n      this._getCommentList()\r\n    },\r\n    // 重置\r\n    onReset (formName) {\r\n      this.$refs[formName].resetFields()\r\n      this.startTime = ''\r\n      this.endTime = ''\r\n    },\r\n    // 查询评价类型\r\n    onCommentType (e) {\r\n      this._getCommentList()\r\n    },\r\n\r\n    // api-------------------------------------------------\r\n    // 获取评论列表\r\n    _getCommentList () {\r\n      let data = {\r\n        pageNo: this.pageNo,\r\n      }\r\n      // 模糊查询\r\n      Object.assign(data, this.form)\r\n      data.startTime = this.startTime\r\n      data.endTime = this.endTime\r\n      data.commentType = this.commentType\r\n      this.$http.post('/woho/order/evaluate/queryList', data)\r\n        .then((res) => {\r\n          this.commentList = res.data.data.list\r\n          this.commentTotle = res.data.data.totle\r\n        })\r\n    },\r\n    // 提交回复\r\n    _reply_submit () {\r\n      let replyKey = 'reply'\r\n      let paramType = 2\r\n      if (this.commentList.addEvaluate) {\r\n        replyKey = 'addReply'\r\n        paramType = 3\r\n      }\r\n      const DATA = {\r\n        [replyKey]: this.replyData,\r\n        id: this.commentId,\r\n        paramType\r\n      }\r\n      console.log('DATA', DATA)\r\n      this.$http.post('/woho/order/evaluate/insertOrUpdate', DATA)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$message.success('回复成功')\r\n            this._getCommentList()\r\n            this.replyDialog = false\r\n          } else {\r\n            this.$message.success(res.data.msg)\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .box-card {\r\n    min-width: 1100px;\r\n    margin-top:15px;\r\n  }\r\n  .comment_type{\r\n    margin: 15px;\r\n  }\r\n  .iconfont{\r\n    margin: 5px 0px 0px 0px;\r\n    font-size: 30px;\r\n    color: #ff632d;\r\n  }\r\n  .comment_group{\r\n    position: relative;\r\n    .comment_time{\r\n      font-size: 13px;\r\n      color: #999999;\r\n    }\r\n    .reply{\r\n      position: absolute;\r\n      top: 0px;\r\n      right: 0px;\r\n    }\r\n  }\r\n  .reply_dialog_form{\r\n    position: relative;\r\n    .required{\r\n      position: absolute;\r\n      top: 10px;\r\n      color: red;\r\n    }\r\n    .prompt{\r\n      color: #999999;\r\n      margin: 0px;\r\n      padding: 0px;\r\n    }\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./comment_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./comment_list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./comment_list.vue?vue&type=template&id=93e4779c&scoped=true&\"\nimport script from \"./comment_list.vue?vue&type=script&lang=js&\"\nexport * from \"./comment_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment_list.vue?vue&type=style&index=0&id=93e4779c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93e4779c\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}