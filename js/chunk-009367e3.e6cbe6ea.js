(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009367e3"],{"0a3b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Layout-box",{attrs:{one:"店铺绑定主播"}},[n("el-button",{attrs:{size:"small"},on:{click:function(e){return t.$router.push("/live/addShopZhuBo")}}},[t._v("新增主播")]),n("table-cmp",{attrs:{tableData:t.tableData,tableColumn:t.tableColumn},on:{delete:t.childDelete}}),n("el-pagination",{staticClass:"mt-1 text-right",attrs:{background:"","current-page":t.queryInit.pageNo,"page-sizes":[10,20,30,40],"page-size":t.queryInit.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.queryInit.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},r=[],o=(n("51d7"),n("d211")),s=(n("6a61"),n("2e91")),u=n("1b00"),i=n("b73d"),c={name:"shop_zhu_bo",data:function(){return{queryInit:{pageNo:1,pageSize:10,total:0},tableData:[],tableColumn:[{prop:"anchor",label:"姓名",type:"text",formatter:"shopZhuBoAnchorFormatter"},{prop:"status",label:"状态",type:"text",formatter:"shopZhuBoStatusFormatter"},{label:"操作",type:"button",btnGroup:[{name:"解绑",value:"delete"}]}]}},components:{LayoutBox:u["a"],tableCmp:i["a"]},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.apiQueryAnchor();case 2:case"end":return e.stop()}}),e)})))()},methods:{handleSizeChange:function(t){this.queryInit.pageSize=t},handleCurrentChange:function(t){this.queryInit.pageNo=t},childDelete:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.$http.get("".concat(e.$api.deleteAnchorShop,"/").concat(t.row.id));case 2:if(a=n.sent,!a.data.success){n.next=9;break}return e.$message.success("删除成功"),n.next=7,e.apiQueryAnchor();case 7:n.next=10;break;case 9:e.$message.error(a.data.msg);case 10:case"end":return n.stop()}}),n)})))()},apiQueryAnchor:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(o["a"])({},t.queryInit),e.next=3,t.$http.post(t.$api.findAnchorShop,n);case 3:a=e.sent,t.tableData=a.data.data.list,t.queryInit=a.data.data;case 6:case"end":return e.stop()}}),e)})))()}}},l=c,p=n("5d22"),h=Object(p["a"])(l,a,r,!1,null,"a0ef4830",null);e["default"]=h.exports},"6ac5":function(t,e,n){var a=n("9ba3"),r=/"/g;t.exports=function(t,e,n,o){var s=String(a(t)),u="<"+e;return""!==n&&(u+=" "+n+'="'+String(o).replace(r,"&quot;")+'"'),u+">"+s+"</"+e+">"}},b73d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,size:"small"}},t._l(t.tableColumn,(function(e,a){return n("el-table-column",{key:a,attrs:{label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(a){return["text"===e.type?n("div",["shopZhuBoStatusFormatter"===e.formatter?n("span",[t._v(t._s(t.shopZhuBoStatusFormatter(a)))]):"shopZhuBoAnchorFormatter"===e.formatter?n("span",[t._v(t._s(t.shopZhuBoAnchorFormatter(a)))]):n("span",[t._v(t._s(a.row[e.prop]))])]):"image"===e.type?n("div",[n("el-image",{attrs:{fit:"contain",src:a.row[e.prop]}})],1):"button"===e.type?n("div",t._l(e.btnGroup,(function(e,r){return n("div",{key:r,staticStyle:{display:"inline-block"}},["delete"===e.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"danger",size:"small"},on:{click:function(e){return t.onDelete(a)}}},[t._v(t._s(e.name))]):t._e(),"edit"===e.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"success",size:"small"},on:{click:function(e){return t.$emit("edit",a)}}},[t._v(t._s(e.name))]):t._e(),"shengHeListCustom"===e.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.shengHeListCustom(a)}}},[t._v(t._s(e.name))]):t._e()],1)})),0):t._e()]}}],null,!0)})})),1)},r=[],o=(n("c67c"),{name:"table_cmp",props:{tableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}}},methods:{shopZhuBoStatusFormatter:function(t){return 1===t.row.status?"已通过":2===t.row.status?"未通过":"待审核"},shopZhuBoAnchorFormatter:function(t){return t.row.anchor.realName},onDelete:function(t){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$emit("delete",t)})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},shengHeListCustom:function(t){var e=this;if(0!==t.row.status)return this.$message.error("已审核");this.$prompt("请输入备注","审核",{distinguishCancelAndClose:!0,closeOnClickModal:!1,confirmButtonText:"通过",cancelButtonText:"拒绝"}).then((function(n){var a=n.action;"confirm"===a&&e.$emit("shengHeListCustom",{scope:t,status:1})})).catch((function(n){"cancel"===n&&e.$emit("shengHeListCustom",{scope:t,status:2,details:n})}))}}}),s=o,u=n("5d22"),i=Object(u["a"])(s,a,r,!1,null,"399ff7d1",null);e["a"]=i.exports},c67c:function(t,e,n){"use strict";var a=n("bbcf"),r=n("6ac5"),o=n("f836");a({target:"String",proto:!0,forced:o("anchor")},{anchor:function(t){return r(this,"a","name",t)}})},f836:function(t,e,n){var a=n("e4bd");t.exports=function(t){return a((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-009367e3.e6cbe6ea.js.map