(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-61099486"],{3548:function(e,r,s){"use strict";s.r(r);var a=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",[s("LayoutBox",{attrs:{one:"APP管理"}},[s("div",{staticClass:"title"},[s("h4",[e._v("安卓")]),e.isAndroidUpdate?s("el-button",{attrs:{type:"primary"},on:{click:e.androidUpdate}},[e._v("保存android")]):s("el-button",{attrs:{type:"primary"},on:{click:e.androidUpdate}},[e._v("修改android")])],1),s("el-form",{ref:"androidForm",attrs:{model:e.androidForm,rules:e.androidRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"版本号",prop:"appVersion"}},[e.isAndroidUpdate?s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.androidForm.appVersion,callback:function(r){e.$set(e.androidForm,"appVersion",r)},expression:"androidForm.appVersion"}}):s("span",[e._v(e._s(e.androidForm.appVersion))])],1),s("el-form-item",{attrs:{label:"下载地址",prop:"appUrl"}},[e.isAndroidUpdate?s("el-upload",{staticClass:"upload-demo",attrs:{action:"http://39.100.129.155:8090/common/oss/uploadFile/",limit:1,"on-success":e.onUploadSuccess}},[s("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1):s("span",[e._v(e._s(e.androidForm.appUrl))])],1),s("el-form-item",{attrs:{label:"版本描述",prop:"appDescribe"}},[e.isAndroidUpdate?s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.androidForm.appDescribe,callback:function(r){e.$set(e.androidForm,"appDescribe",r)},expression:"androidForm.appDescribe"}}):s("span",[e._v(e._s(e.androidForm.appDescribe))])],1)],1),s("div",{staticClass:"title"},[s("h4",[e._v("ios")]),e.isIosUpdate?s("el-button",{attrs:{type:"primary"},on:{click:e.iosUpdate}},[e._v("保存ios")]):s("el-button",{attrs:{type:"primary"},on:{click:e.iosUpdate}},[e._v("修改ios")])],1),s("el-form",{ref:"iosForm",attrs:{model:e.iosForm,rules:e.iosRules,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"版本号",prop:"appVersion"}},[e.isIosUpdate?s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.iosForm.appVersion,callback:function(r){e.$set(e.iosForm,"appVersion",r)},expression:"iosForm.appVersion"}}):s("span",[e._v(e._s(e.iosForm.appVersion))])],1),s("el-form-item",{attrs:{label:"下载地址",prop:"appUrl"}},[e.isIosUpdate?s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.iosForm.appUrl,callback:function(r){e.$set(e.iosForm,"appUrl",r)},expression:"iosForm.appUrl"}}):s("span",[e._v(e._s(e.iosForm.appUrl))])],1),s("el-form-item",{attrs:{label:"版本描述",prop:"appDescribe"}},[e.isIosUpdate?s("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.iosForm.appDescribe,callback:function(r){e.$set(e.iosForm,"appDescribe",r)},expression:"iosForm.appDescribe"}}):s("span",[e._v(e._s(e.iosForm.appDescribe))])],1)],1)],1)],1)},o=[],t=s("1b00"),i={name:"app",components:{LayoutBox:t["a"]},data:function(){return{isAndroidUpdate:!1,isIosUpdate:!1,androidForm:{},androidRules:{appVersion:[{required:!0,message:"请输入版本号",trigger:"blur"}],appUrl:[{required:!0,message:"请输入下载地址",trigger:"blur"}],appDescribe:[{required:!0,message:"请输入版本描述",trigger:"blur"}]},iosForm:{},iosRules:{appVersion:[{required:!0,message:"请输入版本号",trigger:"blur"}],appUrl:[{required:!0,message:"请输入下载地址",trigger:"blur"}],appDescribe:[{required:!0,message:"请输入版本描述",trigger:"blur"}]}}},methods:{androidUpdate:function(){var e=this;if(this.isAndroidUpdate){var r=this._formRules("androidForm");r&&(r.appType=0,this.apiAppVersion(r).then((function(r){r.data.success?e.isAndroidUpdate=!e.isAndroidUpdate:e.$message.error(r.data.msg)})))}else this.isAndroidUpdate=!this.isAndroidUpdate},iosUpdate:function(){var e=this;if(this.isIosUpdate){var r=this._formRules("iosForm");r&&(r.appType=1,this.apiAppVersion(r).then((function(r){r.data.success?e.isIosUpdate=!e.isIosUpdate:e.$message.error(r.data.msg)})))}else this.isIosUpdate=!this.isIosUpdate},onUploadSuccess:function(e){this.androidForm.appUrl=e.data.webUrl},_formRules:function(e){var r=this,s=!1;return this.$refs[e].validate((function(a){if(!a)return console.log("error submit!!"),void(s=!1);s=r[e]})),s},apiGetActivity:function(){var e=this;this.$http.get("/woho/appVersion/getActivity/0").then((function(r){r.data.success?e.androidForm=r.data.data:e.$message.error(r.data.msg)})),this.$http.get("/woho/appVersion/getActivity/1").then((function(r){console.log(r.data.data),r.data.success?e.iosForm=r.data.data:e.$message.error(r.data.msg)}))},apiAppVersion:function(e){return this.$http.post("/woho/appVersion/add",e).then((function(e){return e}))}},created:function(){this.apiGetActivity()}},p=i,n=(s("721b"),s("5d22")),d=Object(n["a"])(p,a,o,!1,null,"331dc6fe",null);r["default"]=d.exports},"6c79":function(e,r,s){},"721b":function(e,r,s){"use strict";s("6c79")}}]);
//# sourceMappingURL=chunk-61099486.62fd501b.js.map