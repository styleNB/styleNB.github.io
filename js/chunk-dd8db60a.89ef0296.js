(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dd8db60a"],{"259b":function(t,e,a){"use strict";a("46c7")},"46c7":function(t,e,a){},"84fb":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box-card"},[a("LayoutBox",{attrs:{one:"评论管理"}},[a("h4",[t._v("评价管理")]),a("div",[a("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini",inline:""}},[a("el-form-item",{attrs:{label:"商品名称"}},[a("el-input")],1),a("el-form-item",{attrs:{label:"订单编号",prop:"orderId"}},[a("el-input",{model:{value:t.form.orderCode,callback:function(e){t.$set(t.form,"orderCode",e)},expression:"form.orderCode"}})],1),a("el-form-item",{attrs:{label:"买家昵称",prop:"userName"}},[a("el-input",{model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1)],1),a("el-form",{attrs:{"label-width":"80px",size:"mini"}},[a("el-form-item",{attrs:{label:"评价时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v(" 至 "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)],1),a("el-form",{attrs:{size:"mini","label-width":"80px"}},[a("el-form-item",[a("el-button",{staticClass:"inquire1",staticStyle:{width:"80px"},attrs:{type:"success"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{staticStyle:{width:"80px"},on:{click:function(e){return t.onReset("form")}}},[t._v("重置")])],1)],1)],1)]),a("div",{staticClass:"comment_type"},[a("el-form",{attrs:{size:"mini","label-width":"80px"}},[a("el-form-item",{attrs:{label:"评价类型"}},[a("el-radio-group",{on:{change:t.onCommentType},model:{value:t.commentType,callback:function(e){t.commentType=e},expression:"commentType"}},[a("el-radio",{attrs:{label:2}},[t._v("好评")]),a("el-radio",{attrs:{label:1}},[t._v("中评")]),a("el-radio",{attrs:{label:0}},[t._v("差评")])],1)],1)],1)],1),a("el-card",{staticStyle:{"min-width":"1100px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.commentList}},[a("el-table-column",{attrs:{label:"评价",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[2===e.row.type?a("div",[a("p",{staticClass:"iconfont"},[t._v("")]),a("p",[t._v("好评")])]):1===e.row.type?a("div",[a("p",{staticClass:"iconfont"},[t._v("")]),a("p",[t._v("中评")])]):a("div",[a("p",{staticClass:"iconfont"},[t._v("")]),a("p",[t._v("差评")])])]}}])}),a("el-table-column",{attrs:{prop:"orderCode",label:"订单号",width:"180"}}),a("el-table-column",{attrs:{label:"评价内容","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"comment_group"},[a("p",{staticClass:"m-0"},[t._v(t._s(e.row.evaluate))]),a("p",{staticClass:"comment_time m-0"},[t._v("初次评价: "+t._s(e.row.createTime))]),e.row.reply?a("el-popover",{staticClass:"reply",attrs:{placement:"top-start",title:"商家回复：",width:"100",trigger:"hover",content:e.row.reply}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v("已回复")])],1):t._e()],1),a("el-divider",{staticClass:"mt-1 mb-1"}),e.row.addEvaluate?a("div",{staticClass:"comment_group"},[a("p",{staticClass:"m-0"},[t._v("[追加评论] "+t._s(e.row.addEvaluate))]),a("p",{staticClass:"comment_time m-0"},[t._v("追加评价: "+t._s(e.row.createTime))]),e.row.addReply?a("el-popover",{staticClass:"reply",attrs:{placement:"top-start",title:"商家追加回复：",width:"100",trigger:"hover",content:e.row.addReply}},[a("el-button",{attrs:{slot:"reference",type:"danger",size:"mini"},slot:"reference"},[t._v("已回复")])],1):t._e()],1):t._e()]}}])}),a("el-table-column",{attrs:{label:"商品信息","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",{staticStyle:{color:"#329fec"}},[t._v(t._s(e.row.prodName))]),a("p",{staticStyle:{color:"#f6a337"}},[t._v("￥"+t._s(e.row.price))])]}}])}),a("el-table-column",{attrs:{label:"昵称",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return t.handleClick(e.row)}}},[t._v(t._s(e.row.userName))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.reply?!e.row.reply&&e.row.addEvaluate?a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.onReply(e)}}},[t._v("回复")]):t._e():a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.onReply(e)}}},[t._v("回复")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.commentTotle},on:{"current-change":t.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"回复解释",visible:t.replyDialog},on:{"update:visible":function(e){t.replyDialog=e}}},[a("el-form",{staticClass:"reply_dialog_form",attrs:{"label-width":"80px"}},[a("span",{staticClass:"required"},[t._v("*")]),a("el-form-item",{attrs:{label:"回复内容"}},[a("el-input",{staticStyle:{width:"531px"},attrs:{type:"textarea",placeholder:"请输入回复内容，最多500字。",maxlength:"500",autosize:{minRows:7,maxRows:7},"show-word-limit":""},model:{value:t.replyData,callback:function(e){t.replyData=e},expression:"replyData"}})],1),a("el-form-item",[a("p",{staticClass:"prompt"},[t._v("回复信息泄露买家隐私和信息将受到淘宝处罚，请谨慎")])]),a("el-form-item",{attrs:{size:"medium"}},[a("el-button",{staticClass:"inquire1",attrs:{type:"success"},nativeOn:{click:function(e){return e.preventDefault(),t.reply_submit(e)}}},[t._v("确认")]),a("el-button",[t._v("取消")])],1)],1)],1)],1)},l=[],s=a("28f8"),i=a("1b00"),r={name:"CommentList",components:{LayoutBox:i["a"]},data:function(){return{startTime:"",endTime:"",commentType:"",replyDialog:!1,pageNo:1,commentTotle:0,commentList:[],replyData:"",form:{},commentId:""}},mounted:function(){this._getCommentList()},methods:{onReply:function(t){this.commentId=t.row.id,this.replyDialog=!0},handleCurrentChange:function(t){this.pageNo=t,this._getCommentList()},reply_submit:function(){this._reply_submit()},onSearch:function(){this._getCommentList()},onReset:function(t){this.$refs[t].resetFields(),this.startTime="",this.endTime=""},onCommentType:function(t){this._getCommentList()},_getCommentList:function(){var t=this,e={pageNo:this.pageNo};Object.assign(e,this.form),e.startTime=this.startTime,e.endTime=this.endTime,e.commentType=this.commentType,this.$http.post("/woho/order/evaluate/queryList",e).then((function(e){t.commentList=e.data.data.list,t.commentTotle=e.data.data.totle}))},_reply_submit:function(){var t,e=this,a="reply",o=2;this.commentList.addEvaluate&&(a="addReply",o=3);var l=(t={},Object(s["a"])(t,a,this.replyData),Object(s["a"])(t,"id",this.commentId),Object(s["a"])(t,"paramType",o),t);console.log("DATA",l),this.$http.post("/woho/order/evaluate/insertOrUpdate",l).then((function(t){t.data.success?(e.$message.success("回复成功"),e._getCommentList(),e.replyDialog=!1):e.$message.success(t.data.msg)}))}}},n=r,c=(a("259b"),a("5d22")),m=Object(c["a"])(n,o,l,!1,null,"93e4779c",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-dd8db60a.89ef0296.js.map