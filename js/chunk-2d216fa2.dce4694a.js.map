{"version":3,"sources":["webpack:///./src/views/admin_video_mg/topic/list.vue?0828","webpack:///src/views/admin_video_mg/topic/list.vue","webpack:///./src/views/admin_video_mg/topic/list.vue?94fc","webpack:///./src/views/admin_video_mg/topic/list.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","on","$event","dialogVisible","_v","staticStyle","tagList","scopedSlots","_u","key","fn","scope","onEdit","onDelete","row","id","staticClass","queryInit","pageNo","pageSize","total","handleSizeChange","handleCurrentChange","tagId","ref","addForm","addRules","model","value","callback","$$v","$set","expression","slot","onCancel","onSave","onSubmit","staticRenderFns","name","components","LayoutBox","data","methods","JSON","parse","stringify","component"],"mappings":"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","file":"js/chunk-2d216fa2.dce4694a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Layout-box',{attrs:{\"one\":\"话题管理\"}},[_c('div',[_c('el-form',{attrs:{\"inline\":\"\"}},[_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"新增话题\")])],1)],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tagList,\"size\":\"small\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.onEdit(scope)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){return _vm.onDelete(scope.row.id)}}},[_vm._v(\"删除\")])]}}])})],1),_c('el-pagination',{staticClass:\"mt-1 text-right\",attrs:{\"background\":\"\",\"current-page\":_vm.queryInit.pageNo,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.queryInit.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.queryInit.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"width\":\"30%\",\"title\":_vm.tagId ? '编辑话题' : '新增话题',\"visible\":_vm.dialogVisible,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"destroy-on-close\":\"\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.addRules,\"size\":\"small\",\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"名称：\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.onCancel}},[_vm._v(\"取 消\")]),(_vm.tagId)?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSave}},[_vm._v(\"保 存\")]):_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Layout-box one=\"话题管理\">\r\n      <div>\r\n        <el-form inline>\r\n          <el-form-item>\r\n            <el-button size=\"small\" @click=\"dialogVisible = true\">新增话题</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </div>\r\n      \r\n      <el-table :data=\"tagList\" style=\"width: 100%\" size=\"small\">\r\n        <el-table-column prop=\"name\" label=\"名称\" />\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button type=\"text\" @click=\"onEdit(scope)\">编辑</el-button>\r\n            <el-button type=\"text\" @click=\"onDelete(scope.row.id)\">删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <!-- 分页 -->\r\n      <el-pagination class=\"mt-1 text-right\" background :current-page=\"queryInit.pageNo\" :page-sizes=\"[10, 20, 30, 40]\" :page-size=\"queryInit.pageSize\" layout=\"total, sizes, prev, pager, next, jumper\" :total=\"queryInit.total\" @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" />\r\n    </Layout-box>\r\n\r\n    <el-dialog\r\n      width=\"30%\"\r\n      :title=\"tagId ? '编辑话题' : '新增话题'\"\r\n      :visible.sync=\"dialogVisible\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      :show-close=\"false\"\r\n      destroy-on-close\r\n    >\r\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"addRules\" size=\"small\" label-width=\"100px\">\r\n        <el-form-item label=\"名称：\" prop=\"name\">\r\n          <el-input v-model=\"addForm.name\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"onCancel\">取 消</el-button>\r\n        <el-button v-if=\"tagId\" type=\"primary\" @click=\"onSave\">保 存</el-button>\r\n        <el-button v-else type=\"primary\" @click=\"onSubmit\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LayoutBox from '@/components/LayoutBox/index'\r\n\r\nexport default {\r\n  name: 'topicList',\r\n\r\n  components: {\r\n    LayoutBox,\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      queryInit: {\r\n        pageNo: 1,\r\n        pageSize: 10,\r\n        total: 0,\r\n      },\r\n      addForm: {\r\n        name: '',\r\n      },\r\n      addRules: {\r\n        name: [\r\n          { required: true, message: '请输入名称', trigger: 'blur' },\r\n        ]\r\n      },\r\n      tagList: [], // 话题列表\r\n      tagId: '', // 编辑时的数据\r\n\r\n      // -----------------------\r\n      dialogVisible: false, // 新增话题窗口\r\n    }\r\n  },\r\n\r\n  async created () {\r\n    await this.apiQueryTag()\r\n  },\r\n\r\n  methods: {\r\n    async handleSizeChange (pageSize) {\r\n      this.queryInit.pageSize = pageSize\r\n      await this.apiQueryTag()\r\n    },\r\n    async handleCurrentChange (pageNo) {\r\n      this.queryInit.pageNo = pageNo\r\n      await this.apiQueryTag()\r\n    },\r\n    // 点击提交\r\n    async onSubmit () {\r\n      await this.$refs.addForm.validate(async (valid) => {\r\n        if (valid) {\r\n          const data = {\r\n            ...this.addForm\r\n          }\r\n          const res = await this.$http.post(this.$api.insertTag, data)\r\n          if (res.data.success) {\r\n            this.$message.success('添加成功')\r\n            await this.apiQueryTag()\r\n            this.onCancel()\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 点击编辑\r\n    onEdit (scope) {\r\n      this.tagId = scope.row.id\r\n      this.addForm = JSON.parse(JSON.stringify(scope.row))\r\n      this.dialogVisible = true\r\n    },\r\n    // 点击删除\r\n    async onDelete (id) {\r\n      await this.$confirm(`是否确定要删除该话题 \"是否继续\"`, '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(async () => {\r\n        const res = await this.$http.delete(`${this.$api.deleteTag}/${id}`)\r\n        if (res.data.success) {\r\n          this.$message.success('删除成功')\r\n          await this.apiQueryTag()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n      })\r\n    },\r\n    // 点击保存\r\n    async onSave () {\r\n      await this.$refs.addForm.validate(async (valid) => {\r\n        if (valid) {\r\n          const data = {\r\n            ...this.addForm\r\n          }\r\n          const res = await this.$http.put(this.$api.updateTag, data)\r\n          if (res.data.success) {\r\n            this.$message.success('添加成功')\r\n            await this.apiQueryTag()\r\n            this.onCancel()\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        } else {\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 点击取消\r\n    onCancel () {\r\n      this.addForm = {}\r\n      this.dialogVisible = false\r\n      this.tagId = ''\r\n    },\r\n\r\n    // ----------------------------------------------------------------------\r\n    // 话题分页查询\r\n    async apiQueryTag () {\r\n      const data = {\r\n        ...this.queryInit\r\n      }\r\n      const res = await this.$http.post(this.$api.queryTag, data)\r\n      this.tagList = res.data.data.list\r\n      this.queryInit = res.data.data\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list.vue?vue&type=template&id=fb4422fa&scoped=true&\"\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb4422fa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}