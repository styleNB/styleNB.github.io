(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37836080"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"290e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("评论管理")])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"tool_group"},[a("div",{staticClass:"btn_box"},[a("router-link",{attrs:{to:{path:"/admin/adAdd"}}},[a("el-button",{staticClass:"inquire1",attrs:{type:"success",icon:"el-icon-plus",size:"mini"}},[t._v("添加广告")])],1)],1),a("el-form",{ref:"ruleForm",attrs:{inline:!0,model:t.search,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"地区",prop:"area"}},[a("areaSelectCmp2",{attrs:{areaParent:t.search.area,size:"mini"},on:{childFn2:t.onChildFn2}})],1),a("el-form-item",{attrs:{label:"广告名称",prop:"name"}},[a("el-input",{staticClass:"input_name",attrs:{size:"mini"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("el-form-item",[a("el-button",{staticClass:"inquire",staticStyle:{width:"80px"},attrs:{type:"success",size:"mini"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{staticStyle:{width:"80px"},attrs:{size:"mini"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"main_group"},[a("div",{staticClass:"table_box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.AdList,height:"500"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"sn",label:"排序",align:"center"}}),a("el-table-column",{attrs:{label:"图片",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticClass:"cover",attrs:{src:t.row.imageUrl,fit:"cover"}})]}}])}),a("el-table-column",{attrs:{prop:"area",label:"地区",align:"center"}}),a("el-table-column",{attrs:{prop:"advertisingUrl",label:"链接",width:"250",align:"center"}}),a("el-table-column",{attrs:{prop:"createTime",label:"加入时间",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"switch_group"},[a("div",{staticClass:"switch_btn"},[a("el-switch",{staticStyle:{"pointer-events":"auto"},attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",width:50},on:{change:function(a){return t.onSwitch(e)}},model:{value:e.row.enableStatus,callback:function(a){t.$set(e.row,"enableStatus",a)},expression:"scope.row.enableStatus"}}),e.row.enableStatus?a("span",{staticClass:"switch_text_true"},[t._v("启用")]):a("span",{staticClass:"switch_text_false"},[t._v("禁用")])],1),a("router-link",{staticClass:"edit_btn",attrs:{to:{path:"/admin/adAdd",query:{id:e.row.id}}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.deleteAd(e,t.AdList)}}},[a("span",{staticClass:"delete_btn"},[t._v("删除")])])],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.AdListTotal},on:{"current-change":t.handleCurrentChange}})],1)])])],1)},i=[],r=(a("51d7"),a("957b"),a("b4e6"),a("6a22"),a("dfce"),a("d211")),s=a("809e"),l={name:"AdList",data:function(){return{pageNo:1,AdList:[],AdListTotal:0,search:{area:"",name:""}}},components:{areaSelectCmp2:s["a"]},methods:{deleteAd:function(t,e){this._deleteAdItem(t.row.id).then((function(a){a&&e.splice(t.$index,1)}))},handleCurrentChange:function(t){this.pageNo=t,this._getAdList()},onSwitch:function(t){var e=t.row.enableStatus?0:1;this.apiEnableOrdisable(t.row.id,e)},handleSelect:function(t){this._getAdList()},onSearch:function(){this._getAdList()},onChildFn2:function(t){this.search.area=t},resetForm:function(){this.search.area=[],this.$refs.ruleForm.resetFields()},_getAdList:function(){var t=this,e=Object(r["a"])({pageNo:this.pageNo},this.search);this.$http.post("/woho/advertising/manage/query",e).then((function(e){console.log(e);var a=e.data.data.list;a.map((function(t){0===t.enableStatus||""===t.enableStatus?t.enableStatus=!0:t.enableStatus=!1})),t.AdList=a,t.AdListTotal=e.data.data.total}))},_deleteAdItem:function(t){return this.$http.delete("/woho/advertising/manage/delete/".concat(t)).then((function(t){return t.data.success}))},apiEnableOrdisable:function(t,e){this.$http.post("/woho/advertising/manage/enableOrdisable/".concat(t,"/").concat(e))}},created:function(){this._getAdList()}},o=l,c=(a("aa44"),a("5d22")),u=Object(c["a"])(o,n,i,!1,null,"6906fa0e",null);e["default"]=u.exports},"6bc4":function(t,e,a){},"809e":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-cascader",{attrs:{options:t.positionJson,size:t.size},on:{change:function(e){return t.handleChange(e)}},model:{value:t.areaGroup,callback:function(e){t.areaGroup=e},expression:"areaGroup"}})],1)},i=[],r=(a("3f4b"),a("6a22"),a("5f89"),a("dc37")),s={name:"areaSelectCmp2",props:{areaParent:{type:[String,Array],default:""},size:{type:String,default:""}},data:function(){return{area:[],positionJson:r}},methods:{handleChange:function(t){var e=this.positionJson.filter((function(e){return e.value===t[0]}));this.area=e[0].label,e=e[0].children.filter((function(e){return e.value===t[1]})),this.area=this.area+","+e[0].label,e=e[0].children.filter((function(e){return e.value===t[2]})),this.area=this.area+","+e[0].label,4===t.length&&(e=e[0].children.filter((function(e){return e.value===t[3]})),this.area=this.area+","+e[0].label),this.$emit("childFn2",this.area)}},computed:{areaGroup:{get:function(){var t=this.areaParent.split(","),e=[],a=this.positionJson.filter((function(e){return e.label===t[0]}));try{e.push(a[0].value),a=a[0].children.filter((function(e){return e.label===t[1]})),e.push(a[0].value),a=a[0].children.filter((function(e){return e.label===t[2]})),e.push(a[0].value),4===t.length&&(a=a[0].children.filter((function(e){return e.label===t[3]})),e.push(a[0].value))}catch(n){}return e},set:function(){}}}},l=s,o=a("5d22"),c=Object(o["a"])(l,n,i,!1,null,"18ba29b2",null);e["a"]=c.exports},aa44:function(t,e,a){"use strict";a("6bc4")},b4e6:function(t,e,a){"use strict";var n=a("bbcf"),i=a("5501"),r=a("285a"),s=a("5152"),l=a("529d"),o=a("5c1e"),c=a("7389"),u=a("780c"),d=a("e9a9"),h=u("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,b=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!f},{splice:function(t,e){var a,n,u,d,h,f,g=l(this),w=s(g.length),_=i(t,w),S=arguments.length;if(0===S?a=n=0:1===S?(a=0,n=w-_):(a=S-2,n=b(p(r(e),0),w-_)),w+a-n>m)throw TypeError(v);for(u=o(g,n),d=0;d<n;d++)h=_+d,h in g&&c(u,d,g[h]);if(u.length=n,a<n){for(d=_;d<w-n;d++)h=d+n,f=d+a,h in g?g[f]=g[h]:delete g[f];for(d=w;d>w-n+a;d--)delete g[d-1]}else if(a>n)for(d=w-n;d>_;d--)h=d+n-1,f=d+a-1,h in g?g[f]=g[h]:delete g[f];for(d=0;d<a;d++)g[d+_]=arguments[d+2];return g.length=w-n+a,u}})},dfce:function(t,e,a){"use strict";var n=a("ebfe"),i=a("708d"),r=a("9ba3"),s=a("0c9c"),l=a("97d7");n("search",1,(function(t,e,a){return[function(e){var a=r(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var r=i(t),o=String(this),c=r.lastIndex;s(c,0)||(r.lastIndex=0);var u=l(r,o);return s(r.lastIndex,c)||(r.lastIndex=c),null===u?-1:u.index}]}))}}]);
//# sourceMappingURL=chunk-37836080.6ca6ef7e.js.map