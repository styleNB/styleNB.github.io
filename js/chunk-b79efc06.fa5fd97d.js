(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b79efc06"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},3098:function(t,e,n){"use strict";var r=n("bbcf"),o=n("6921"),i=n("4c16"),a=n("631e"),s=n("2fb1"),u=n("60ce").f,c=n("7e26"),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new l(t):void 0===t?l():l(t);return""===t&&(d[e]=!0),e};c(h,l);var f=h.prototype=l.prototype;f.constructor=h;var p=f.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=p.call(t);if(a(d,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},"4c09":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ed16");function o(t){if(Array.isArray(t))return Object(r["a"])(t)}n("f869"),n("3098"),n("eb14"),n("3e68"),n("4d20"),n("2181"),n("659e");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=n("69a9");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return o(t)||i(t)||Object(a["a"])(t)||s()}},"69a9":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("3e68"),n("eb27"),n("1e6a"),n("4d20"),n("8d56"),n("2181");var r=n("ed16");function o(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},"92c7":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LayoutBox",{attrs:{one:"分类管理"}},[n("el-form",{attrs:{inline:!0,size:"small"}},[n("el-form-item",{attrs:{model:t.formSearch}},[n("div",{staticClass:"header_box"},[n("el-button",{staticClass:"inquire",attrs:{icon:"el-icon-plus",type:"success",size:"small"},on:{click:t.onAdd}},[t._v("新增分类")])],1)]),n("el-form-item",{attrs:{label:"分类名称"}},[n("el-input",{model:{value:t.formSearch.categoryName,callback:function(e){t.$set(t.formSearch,"categoryName",e)},expression:"formSearch.categoryName"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1),n("el-table",{attrs:{data:t.sortList,height:"530"}},[n("el-table-column",{attrs:{prop:"categoryName",label:"分类名称",align:"center"}}),n("el-table-column",{attrs:{label:"级别",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(1===e.row.level?"一级":2===e.row.level?"二级":"三级"))])]}}])}),n("el-table-column",{attrs:{prop:"rank",label:"排序",align:"center"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建日期",align:"center"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{color:"#5bd9be"},attrs:{type:"text",size:"mini"},on:{click:function(n){return t.onUpdate(e)}}},[t._v("修改")]),n("el-button",{staticStyle:{color:"#e52424"},attrs:{type:"text",size:"mini"},on:{click:function(n){return t.onDelete(e)}}},[t._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),n("el-dialog",{staticStyle:{"min-width":"1000px"},attrs:{title:t.id?"编辑商品分类":"新增商品分类",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,size:"mini","label-width":"120px"}},[n("el-form-item",{attrs:{label:"分类名称：",prop:"categoryName"}},[n("el-input",{model:{value:t.form.categoryName,callback:function(e){t.$set(t.form,"categoryName",e)},expression:"form.categoryName"}})],1),n("el-form-item",{attrs:{label:"级别：",prop:"level"}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.onLevel},model:{value:t.form.level,callback:function(e){t.$set(t.form,"level",e)},expression:"form.level"}},[n("el-option",{attrs:{label:"一级",value:1}}),n("el-option",{attrs:{label:"二级",value:2}}),n("el-option",{attrs:{label:"三级",value:3}})],1)],1),2===t.form.level||3===t.form.level?n("el-form-item",{attrs:{label:"父级分类：",required:""}},[n("el-select",{attrs:{placeholder:"请选择"},on:{change:t.onParentId},model:{value:t.parentId,callback:function(e){t.parentId=e},expression:"parentId"}},t._l(t.parentLevelList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.categoryName,value:t.id}})})),1)],1):t._e(),1===t.form.level?n("el-form-item",{attrs:{label:"图标：",required:""}},[n("el-upload",{ref:"upload",attrs:{action:"http-request","http-request":t.onUpload,"list-type":"picture-card","on-remove":t.onRemove,"file-list":t.imageUrlList,limit:1}},[n("i",{staticClass:"el-icon-plus"})])],1):t._e(),n("el-form-item",{attrs:{label:"排序：",prop:"rank"}},[n("el-input",{model:{value:t.form.rank,callback:function(e){t.$set(t.form,"rank",t._n(e))},expression:"form.rank"}})],1),n("el-form-item",[t.id?n("el-button",{staticClass:"inquire1",staticStyle:{width:"80px"},attrs:{type:"success"},on:{click:function(e){return t.onSave("form")}}},[t._v("保存")]):n("el-button",{staticClass:"inquire1",staticStyle:{width:"80px"},attrs:{type:"success"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("提交")]),n("el-button",{staticStyle:{width:"80px"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")])],1)],1)],1)],1)},o=[],i=(n("b4e6"),n("d211")),a=n("1b00"),s=n("a8dc"),u={name:"SortList",components:{LayoutBox:a["a"]},mixins:[s["k"],s["c"],s["f"],s["B"]],data:function(){return{id:"",sortList:[],pageNo:1,total:0,imageUrlList:[],dialogVisible:!1,parentLevelList:[],parentId:"",formSearch:{},form:{categoryName:"",log:"",level:"",parentId:"",rank:"",platformType:1},rules:{categoryName:[{required:!0,message:"请输入分类名称",trigger:"blur"}],rank:[{required:!0,message:"请输入分类排序",trigger:"blur"}],level:[{required:!0,message:"请选择级别",trigger:"change"}]}}},created:function(){this.apiGetSortList()},methods:{onSubmit:function(t){var e=this._formRules(t);e&&this.apiInsertAdvertising(e)},onSave:function(t){var e=this._formRules(t);e&&(e.id=this.id,this.apiUpdateAdvertising(e))},onAdd:function(){this.id="",this.form={},this.imageUrlList=[],this.dialogVisible=!0},onUpdate:function(t){var e=this,n={id:t.row.id};this.apiFindByIdAdvertising(n).then((function(t){if(200===t.status)return e.form=t.data,e._parentLevel(e.form.level-1);e.$message.error(t.statusText)})).then((function(t){t.data.success?(e.parentLevelList=t.data.data,e.parentId=e.form.parentId,e.imageUrlList=[{url:e.form.log}],e.id=e.form.id,e.dialogVisible=!0):e.$message.error(t.data.msg)}))},onDelete:function(t){this.apiDeleteAdvertising(t)},onRemove:function(t,e){this.imageUrlList=[]},onUpload:function(t){var e=this,n=t.file,r="image/jpeg"===n.type||"image/png"===n.type;if(!r)return this.$message.error("上传的图标只能是 JPG/PNG 格式!"),void(this.imageUrlList=[]);var o=new FileReader;o.readAsDataURL(n),o.onload=function(t){var r=new Image;if(r.src=t.target.result,r.complete){if(!e._uploadValidate(r))return;e.apiUpload(n)}else r.onload=function(){e._uploadValidate(r)&&e.apiUpload(n)}}},handleCurrentChange:function(t){this.pageNo=t,this.apiGetSortList()},onLevel:function(t){var e=this;1===t?this.form.parentId=0:this._parentLevel(t-1).then((function(t){t.data.success?(e.parentLevelList=t.data.data,e.form.parentId="",e.parentId=""):e.$message.error(t.data.msg)}))},onParentId:function(t){this.form.parentId=t},onSearch:function(){this.apiGetSortList()},_uploadValidate:function(t){return t.width!==t.height?(this.$message.error("图标必须是正方形或者是圆形"),this.imageUrlList=[],!1):!(t.width>150||t.width<100)||(this.$message.error("图标尺寸不能大于150*150或者小于100*100"),this.imageUrlList=[],!1)},_formRules:function(t){var e=this,n="";if("0"===this.form.parentId){if(this.imageUrlList.length<1)return this.$message.error("请选择图标"),!1;this.form.log=this.imageUrlList[0].url}return this.$refs[t].validate((function(t){n=!!t&&e.form})),n},_parentLevel:function(t){var e={level:t,pageSize:999};return this.getSmallParentCategory(e).then((function(t){return t}))},apiUpload:function(t){var e=this,n=new FormData;n.append("file",t),this.$http.post("/common/oss/uploadFile",n).then((function(t){if(t.data.success){e.form.imageUrlList;e.imageUrlList=[{url:t.data.data.webUrl}]}else e.$message.error(t.data.msg)}))},apiUpdateAdvertising:function(t){var e=this;this.updateCategory(t).then((function(t){t.data.success&&(e.$message.success("添加成功"),e.dialogVisible=!1,e.apiGetSortList())}))},apiInsertAdvertising:function(t){var e=this;this.$http.post("/SmallProductCategory/addCategory",t).then((function(t){t.data.success?(e.$message.success("添加成功"),e.dialogVisible=!1,e.apiGetSortList()):e.$message.error(t.data.msg)}))},apiGetSortList:function(){var t=this,e=Object(i["a"])({pageNo:this.pageNo},this.formSearch);this.getSmallParentCategory(e).then((function(e){e.data.success?(t.sortList=e.data.data,t.total=e.data.data[0].count):t.$message.error(e.data.msg)}))},apiDeleteAdvertising:function(t){var e=this;this.deleteAdvertising(t.row.id).then((function(n){n.data.success&&(e.$message.success("删除成功"),e.sortList.splice(t.$index,1))}))}}},c=u,l=(n("e07f"),n("5d22")),d=Object(l["a"])(c,r,o,!1,null,"fc40b4ce",null);e["default"]=d.exports},"945a":function(t,e,n){},a8dc:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"r",(function(){return a})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return u})),n.d(e,"j",(function(){return c})),n.d(e,"o",(function(){return l})),n.d(e,"p",(function(){return d})),n.d(e,"k",(function(){return b})),n.d(e,"c",(function(){return $})),n.d(e,"z",(function(){return w})),n.d(e,"A",(function(){return A})),n.d(e,"m",(function(){return L})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"x",(function(){return p})),n.d(e,"y",(function(){return m})),n.d(e,"w",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"B",(function(){return y})),n.d(e,"g",(function(){return I})),n.d(e,"u",(function(){return C})),n.d(e,"D",(function(){return P})),n.d(e,"t",(function(){return S})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return x})),n.d(e,"s",(function(){return U})),n.d(e,"l",(function(){return _})),n.d(e,"C",(function(){return q})),n.d(e,"v",(function(){return N}));n("51d7"),n("6a22"),n("80cf"),n("dfce");var r=n("4c09"),o={methods:{apiInsertMerActivity:function(){var t=this.form;return t.rpl=this.goodsAndActivity,t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/insertMerActivity",t).then((function(t){return t}))},apiUpdateMerActivity:function(){var t=this.form;return t.rpl=[].concat(Object(r["a"])(this.goodsAndActivity),Object(r["a"])(this.oldGoodsAndActivity)),t=JSON.parse(JSON.stringify(t).replace(/originalPrice/g,"price")),t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/updateMerActivity",t).then((function(t){return t}))},apiFindById:function(){var t=this;this.$http.post("/woho/activity/manage/findByActivityIdGetProduct/".concat(this.$route.query.id)).then((function(e){t.form=e.data,t.oldGoodsAndActivity=e.data.rpl}))}}},i={methods:{apiProductQueryChoose:function(t){return this.$http.post("/woho/product/head/queryChoose",t).then((function(t){return t}))}}},a={methods:{productBatchVip:function(t){return this.$http.post("/woho/product/head/batchVip",t).then((function(t){return t}))}}},s={methods:{postAdd:function(t){return this.$http.post("/woho/post/add",t).then((function(t){return t}))}}},u={methods:{postEetPostRule:function(t){var e=t.no,n=t.size;t.search;return this.$http.get("/woho/post/getPostRule?no=".concat(e,"&size=").concat(n)).then((function(t){return t}))}}},c={methods:{getPostRule:function(t){return this.$http.get("/woho/post/getPostRule/".concat(t)).then((function(t){return t}))}}},l={methods:{postDelete:function(t){var e=t.ruleIds;return this.$http.get("/woho/post/delete/".concat(e)).then((function(t){return t}))}}},d={methods:{postEdit:function(t){return this.$http.post("/woho/post/edit",t).then((function(t){return t}))}}},h={methods:{adminPostFindById:function(t){return this.$http.post("/woho/post/query",t).then((function(t){return t}))}}},f={methods:{adminPostUpdate:function(t){return this.$http.post("/woho/post/update",t).then((function(t){return t}))}}},p={methods:{superGetCost:function(t){return this.$http.post("/woho/post/getCost",t).then((function(t){return t}))}}},m={methods:{superUpdateShopPostage:function(t){return this.$http.post("/woho/post/updateShopPostage",t).then((function(t){return t}))}}},g={methods:{superAddShopPostage:function(t){return this.$http.post("/woho/post/addShopPostage",t).then((function(t){return t}))}}},v={methods:{deleteAdvertising:function(t){return this.$http.get("/SmallProductCategory/deleteCategory?id=".concat(t)).then((function(t){return t}))}}},y={methods:{updateCategory:function(t){return this.$http.post("/SmallProductCategory/updateCategory",t).then((function(t){return t}))}}},b={methods:{getSmallParentCategory:function(t){return this.$http.post("/SmallProductCategory/getParentCategory",t).then((function(t){return t}))}}},S={methods:{queryParentNoPage:function(t){return this.$http.post("/SmallProductCategory/queryParentNoPage",t).then((function(t){return t}))}}},$={methods:{apiFindByIdAdvertising:function(t){return this.$http.get("/SmallProductCategory/findById/".concat(t.id)).then((function(t){return t}))}}},w={methods:{tradeAddTrade:function(t){return this.$http.post("/woho/trade/manage/addTrade",t).then((function(t){return t}))}}},A={methods:{tradeQueryList:function(t){return this.$http.post("/woho/trade/manage/queryList",t).then((function(t){return t}))}}},L={methods:{orderHeadFindById:function(t){return this.$http.post("/woho/order/head/findById/".concat(t)).then((function(t){return t}))}}},I={methods:{forgetPassword:function(t){return this.$http.post("/admin/forget-password",t).then((function(t){return t}))}}},C={methods:{queryRiders:function(t){return this.$Http24.get("/timely/courier/queryRiders/".concat(t)).then((function(t){return t}))}}},P={methods:{zhiDing:function(t){return this.$Http24.get("/timely/courier/zhiDing?id=".concat(t.selectRiderId,"&orderId=").concat(t.orderId,"&shopId=").concat(t.shopId)).then((function(t){return t}))}}},k={methods:{getCount:function(){return this.$http.get("/woho/sys/user/getCount").then((function(t){return t}))}}},x={methods:{getFeedBack:function(t){return this.$http.post("/woho/feedback/manage/getFeedBack",t).then((function(t){return t}))}}},U={methods:{quaryActivityType:function(t){return this.$http.get("/woho/activity/type/quaryActivityType",t).then((function(t){return t}))}}},_={methods:{insertActivityType:function(t){return this.$http.post("/woho/activity/type/insertActivityType",t).then((function(t){return t}))}}},q={methods:{updateRecom:function(t,e){return this.$http.get("woho/small/product/updateRecom/".concat(t,"/").concat(e)).then((function(t){return t}))}}},N={methods:{shopmanagequery:function(t){return this.$http.post("/woho/shop/manage/query",t).then((function(t){return t}))}}}},b4e6:function(t,e,n){"use strict";var r=n("bbcf"),o=n("5501"),i=n("285a"),a=n("5152"),s=n("529d"),u=n("5c1e"),c=n("7389"),l=n("780c"),d=n("e9a9"),h=l("splice"),f=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!h||!f},{splice:function(t,e){var n,r,l,d,h,f,y=s(this),b=a(y.length),S=o(t,b),$=arguments.length;if(0===$?n=r=0:1===$?(n=0,r=b-S):(n=$-2,r=m(p(i(e),0),b-S)),b+n-r>g)throw TypeError(v);for(l=u(y,r),d=0;d<r;d++)h=S+d,h in y&&c(l,d,y[h]);if(l.length=r,n<r){for(d=S;d<b-r;d++)h=d+r,f=d+n,h in y?y[f]=y[h]:delete y[f];for(d=b;d>b-r+n;d--)delete y[d-1]}else if(n>r)for(d=b-r;d>S;d--)h=d+r-1,f=d+n-1,h in y?y[f]=y[h]:delete y[f];for(d=0;d<n;d++)y[d+S]=arguments[d+2];return y.length=b-r+n,l}})},dfce:function(t,e,n){"use strict";var r=n("ebfe"),o=n("708d"),i=n("9ba3"),a=n("0c9c"),s=n("97d7");r("search",1,(function(t,e,n){return[function(e){var n=i(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),u=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var l=s(i,u);return a(i.lastIndex,c)||(i.lastIndex=c),null===l?-1:l.index}]}))},e07f:function(t,e,n){"use strict";n("945a")},eb14:function(t,e,n){var r=n("41ba");r("iterator")},ed16:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-b79efc06.fa5fd97d.js.map