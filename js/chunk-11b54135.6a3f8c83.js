(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-11b54135"],{"55d5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[t._v("首页")]),a("el-breadcrumb-item",[a("a",{attrs:{href:"/"}},[t._v("秒杀")])])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"tool_group"},[a("div",{staticClass:"btn_group"},[a("router-link",{attrs:{to:"/super/market/bargains/add"}},[a("el-button",{staticClass:"inquire",attrs:{type:"success",size:"small",icon:"el-icon-plus",round:""}},[t._v("新增活动")])],1)],1),a("el-form",{staticClass:"input_group",attrs:{model:t.form,inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{attrs:{placeholder:"产品名称"},model:{value:t.form.secondsKillName,callback:function(e){t.$set(t.form,"secondsKillName",e)},expression:"form.secondsKillName"}})],1),a("el-form-item",{attrs:{label:"时间筛选 "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v("至 "),a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),a("el-form-item",[a("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.bargainsList,height:"520"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"secondsKillName",label:"名称",align:"center"}}),a("el-table-column",{attrs:{prop:"secondsStartTime",label:"活动时间",align:"center"}}),a("el-table-column",{attrs:{label:"活动状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[(new Date).getTime()<new Date(e.row.secondsStartTime).getTime()?a("span",[t._v("未开始")]):(new Date).getTime()>new Date(e.row.secondsStartTime).getTime()&&(new Date).getTime()<new Date(e.row.secondsStopTime).getTime()?a("span",[t._v("进行中")]):(new Date).getTime()>new Date(e.row.secondsStopTime).getTime()?a("span",[t._v("已结束")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.state?a("el-button",{staticStyle:{color:"#fd9a30"},attrs:{type:"text"},on:{click:function(a){return t.onEnd(e)}}},[t._v("终止")]):0===e.row.state?a("el-button",{staticStyle:{color:"#fd9a30"},attrs:{type:"text"},on:{click:function(a){return t.onStart(e)}}},[t._v("启用")]):t._e(),a("el-popconfirm",{attrs:{"confirm-button-text":"好的","cancel-button-text":"不用了",icon:"el-icon-info","icon-color":"red",title:"这是一段内容确定删除吗？"},on:{confirm:function(a){return t.onDelete(e)}}},[a("el-button",{staticStyle:{color:"#ff474c"},attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.bargainsTotal},on:{"current-change":t.handleCurrentChange}})],1)],1)},n=[],o=(a("51d7"),a("957b"),a("b4e6"),a("6a22"),a("80cf"),{name:"BargainsList",data:function(){return{form:{},bargainsTotal:0,activeId:"",pageNo:1,bargainsList:[],activityData:{}}},created:function(){this.activeId=1,this.apiActivityList()},methods:{delData:function(){console.log(111)},cancelData:function(){console.log(222)},handleCurrentChange:function(t){this.pageNo=t,this.apiActivityList()},onEnd:function(t){var e=this;this.apiActivityUpOrDown(t.row.id,0).then((function(a){e.$message.success("已终止活动"),t.row.state=0}))},onStart:function(t){var e=this;this.apiActivityUpOrDown(t.row.id,1).then((function(a){e.$message.success("已启用活动"),t.row.state=1}))},onDelete:function(t){this.apiActivityDelete(t)},onUpdate:function(t){this.$router.push({path:"/mark/list/bargainsList/addBargains",query:{id:t.row.id}})},onContent:function(t){this.apiFindById(t.row.id)},onSearch:function(){this.apiActivityList()},apiActivityList:function(){var t=this,e={pageNo:this.pageNo,pageSize:10,activeType:this.activeId};Object.assign(e,this.form),this.$http.post(this.$api.querySmallSeckill,e).then((function(e){t.bargainsList=e.data.data.list,console.log(e),t.bargainsTotal=e.data.data.total,t.bargainsList.map((function(t){t.startTimeDate=new Date(t.startTime.replace(/-/g,"/")).getTime(),t.endTimeDate=new Date(t.endTime.replace(/-/g,"/")).getTime()}))}))},apiActivityUpOrDown:function(t,e){var a=this;return this.$http.post("/woho/activity/manage/upOrDown/".concat(t,"/").concat(e)).then((function(t){t.data.success||a.$message.error(t.data.msg)}))},apiActivityDelete:function(t){var e=this;this.$http.get("".concat(this.$api.deleteSmallSeckill,"/").concat(t.row.id," ")).then((function(a){a.data.success&&(e.$message.success("删除成功"),e.bargainsList.splice(t.$index,1))}))}}}),s=o,r=(a("d9e1"),a("5d22")),c=Object(r["a"])(s,i,n,!1,null,"9c933c04",null);e["default"]=c.exports},b4e6:function(t,e,a){"use strict";var i=a("bbcf"),n=a("5501"),o=a("285a"),s=a("5152"),r=a("529d"),c=a("5c1e"),l=a("7389"),u=a("780c"),d=a("e9a9"),p=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var a,i,u,d,p,m,v=r(this),w=s(v.length),y=n(t,w),T=arguments.length;if(0===T?a=i=0:1===T?(a=0,i=w-y):(a=T-2,i=h(f(o(e),0),w-y)),w+a-i>g)throw TypeError(b);for(u=c(v,i),d=0;d<i;d++)p=y+d,p in v&&l(u,d,v[p]);if(u.length=i,a<i){for(d=y;d<w-i;d++)p=d+i,m=d+a,p in v?v[m]=v[p]:delete v[m];for(d=w;d>w-i+a;d--)delete v[d-1]}else if(a>i)for(d=w-i;d>y;d--)p=d+i-1,m=d+a-1,p in v?v[m]=v[p]:delete v[m];for(d=0;d<a;d++)v[d+y]=arguments[d+2];return v.length=w-i+a,u}})},d9e1:function(t,e,a){"use strict";a("ede8")},ede8:function(t,e,a){}}]);
//# sourceMappingURL=chunk-11b54135.6a3f8c83.js.map