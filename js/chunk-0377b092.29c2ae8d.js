(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0377b092"],{"6ac5":function(e,t,n){var a=n("9ba3"),o=/"/g;e.exports=function(e,t,n,r){var i=String(a(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+i+"</"+t+">"}},a0c03:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Layout-box",{attrs:{one:"热门兑换商品"}},[n("el-button",{on:{click:e.onAdd}},[e._v("添加商品")]),n("table-cmp",{attrs:{tableData:e.tableData,tableColumn:e.tableColumn},on:{delete:e.onDelete,edit:e.onEdit}}),n("el-pagination",{staticClass:"mt-1 text-right",attrs:{background:"","current-page":e.queryInit.pageNo,"page-sizes":[10,20,30,40],"page-size":e.queryInit.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryInit.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("article",[n("hot-goods-add",{attrs:{dialogVisible:e.dialogVisible},on:{close:e.onClose}}),n("hot-goods-edit",{attrs:{dialogVisible:e.editVisible,selectData:e.selectData},on:{close:e.onCloseEdit}})],1)],1)},o=[],r=n("d211"),i=(n("6a61"),n("2e91")),s=n("1b00"),l=n("b73d"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"添加商品","close-on-click-modal":!1,visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"商品："}},[n("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:e.form.prodId,callback:function(t){e.$set(e.form,"prodId",t)},expression:"form.prodId"}},e._l(e.tableData,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"蜗币兑换数量："}},[n("el-input",{model:{value:e.form.wohoCoin,callback:function(t){e.$set(e.form,"wohoCoin",e._n(t))},expression:"form.wohoCoin"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)},u=[],d={name:"hotGoodsAdd",props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{tableData:[],form:{prodId:"",wohoCoin:""}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiForGoods();case 2:case"end":return t.stop()}}),t)})))()},methods:{handleClose:function(){this.$emit("close")},onSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(r["a"])({},e.form),t.next=3,e.$http.post(e.$api.integralSignInAdd,n);case 3:a=t.sent,a.data.success?(e.$message.success("保存成功"),e.handleClose(),e.reload()):e.$message.error(a.data.msg);case 5:case"end":return t.stop()}}),t)})))()},apiForGoods:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={pageSize:9999},t.next=3,e.$http.post(e.$api.forGoods,n);case 3:a=t.sent,e.tableData=a.data.data.list;case 5:case"end":return t.stop()}}),t)})))()}},inject:["reload"]},p=d,m=n("5d22"),f=Object(m["a"])(p,c,u,!1,null,"3d824a64",null),h=f.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"修改商品","close-on-click-modal":!1,visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.form}},[n("el-form-item",{attrs:{label:"商品："}},[n("span",[e._v(e._s(e.selectData.name))])]),n("el-form-item",{attrs:{label:"蜗币兑换数量："}},[n("el-input",{model:{value:e.form.wohoCoin,callback:function(t){e.$set(e.form,"wohoCoin",e._n(t))},expression:"form.wohoCoin"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleClose}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.onSave}},[e._v("确 定")])],1)],1)},g=[],v={name:"hotGoodsEdit",props:{dialogVisible:{type:Boolean,default:!1},selectData:{type:Object,default:function(){return{}}}},data:function(){return{tableData:[],form:{prodId:"",wohoCoin:""}}},watch:{selectData:function(e,t){this.form={prodId:e.id,wohoCoin:e.wohoCoin}}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiForGoods();case 2:e.form={prodId:e.selectData.id,wohoCoin:e.selectData.wohoCoin};case 3:case"end":return t.stop()}}),t)})))()},methods:{handleClose:function(){this.$emit("close")},onSave:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(r["a"])({},e.form),t.next=3,e.$http.post(e.$api.integralSignInUpdate,n);case 3:a=t.sent,a.data.success?(e.$message.success("保存成功"),e.handleClose(),e.reload()):e.$message.error(a.data.msg);case 5:case"end":return t.stop()}}),t)})))()},apiForGoods:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={pageSize:9999},t.next=3,e.$http.post(e.$api.forGoods,n);case 3:a=t.sent,e.tableData=a.data.data.list;case 5:case"end":return t.stop()}}),t)})))()}},inject:["reload"]},w=v,C=Object(m["a"])(w,b,g,!1,null,"bc952d36",null),x=C.exports,y={name:"addHotGoods",data:function(){return{queryInit:{pageNo:1,pageSize:10,total:0},tableData:[],tableColumn:[{label:"名称",prop:"name",type:"text"},{label:"积分",prop:"wohoCoin",type:"text"},{label:"操作",type:"button",btnGroup:[{value:"delete",name:"删除"},{value:"edit",name:"修改"}]}],dialogVisible:!1,editVisible:!1,selectData:{}}},components:{LayoutBox:s["a"],tableCmp:l["a"],hotGoodsAdd:h,hotGoodsEdit:x},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiForGoods();case 2:case"end":return t.stop()}}),t)})))()},methods:{handleSizeChange:function(e){this.queryInit.pageSize=e},handleCurrentChange:function(e){this.queryInit.pageNo=e},onAdd:function(){this.dialogVisible=!0},onClose:function(){this.dialogVisible=!1},onCloseEdit:function(e){this.editVisible=!1},onDelete:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={prodId:e.row.id,type:1},n.next=3,t.$http.post(t.$api.integralSignInUpdate,a);case 3:if(o=n.sent,!o.data.success){n.next=10;break}return t.$message.success("删除成功"),n.next=8,t.apiForGoods();case 8:n.next=11;break;case 10:t.$message.error(o.data.msg);case 11:case"end":return n.stop()}}),n)})))()},onEdit:function(e){this.selectData=e.row,this.editVisible=!0},apiForGoods:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=Object(r["a"])({},e.queryInit),t.next=3,e.$http.post(e.$api.findIntegralProd,n);case 3:a=t.sent,e.tableData=a.data.data.list,e.queryInit=a.data.data;case 6:case"end":return t.stop()}}),t)})))()}}},_=y,$=Object(m["a"])(_,a,o,!1,null,"e13f1f58",null);t["default"]=$.exports},b73d:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small"}},e._l(e.tableColumn,(function(t,a){return n("el-table-column",{key:a,attrs:{label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(a){return["text"===t.type?n("div",["shopZhuBoStatusFormatter"===t.formatter?n("span",[e._v(e._s(e.shopZhuBoStatusFormatter(a)))]):"shopZhuBoAnchorFormatter"===t.formatter?n("span",[e._v(e._s(e.shopZhuBoAnchorFormatter(a)))]):n("span",[e._v(e._s(a.row[t.prop]))])]):"image"===t.type?n("div",[n("el-image",{attrs:{fit:"contain",src:a.row[t.prop]}})],1):"button"===t.type?n("div",e._l(t.btnGroup,(function(t,o){return n("div",{key:o,staticStyle:{display:"inline-block"}},["delete"===t.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"danger",size:"small"},on:{click:function(t){return e.onDelete(a)}}},[e._v(e._s(t.name))]):e._e(),"edit"===t.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"success",size:"small"},on:{click:function(t){return e.$emit("edit",a)}}},[e._v(e._s(t.name))]):e._e(),"shengHeListCustom"===t.value?n("el-button",{staticStyle:{margin:"0px 1px"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.shengHeListCustom(a)}}},[e._v(e._s(t.name))]):e._e()],1)})),0):e._e()]}}],null,!0)})})),1)},o=[],r=(n("c67c"),{name:"table_cmp",props:{tableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}}},methods:{shopZhuBoStatusFormatter:function(e){return 1===e.row.status?"已通过":2===e.row.status?"未通过":"待审核"},shopZhuBoAnchorFormatter:function(e){return e.row.anchor.realName},onDelete:function(e){var t=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$emit("delete",e)})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},shengHeListCustom:function(e){var t=this;if(0!==e.row.status)return this.$message.error("已审核");this.$prompt("请输入备注","审核",{distinguishCancelAndClose:!0,closeOnClickModal:!1,confirmButtonText:"通过",cancelButtonText:"拒绝"}).then((function(n){var a=n.action;"confirm"===a&&t.$emit("shengHeListCustom",{scope:e,status:1})})).catch((function(n){"cancel"===n&&t.$emit("shengHeListCustom",{scope:e,status:2,details:n})}))}}}),i=r,s=n("5d22"),l=Object(s["a"])(i,a,o,!1,null,"399ff7d1",null);t["a"]=l.exports},c67c:function(e,t,n){"use strict";var a=n("bbcf"),o=n("6ac5"),r=n("f836");a({target:"String",proto:!0,forced:r("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},f836:function(e,t,n){var a=n("e4bd");e.exports=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-0377b092.29c2ae8d.js.map