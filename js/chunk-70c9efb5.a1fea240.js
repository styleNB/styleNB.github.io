(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70c9efb5"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1377:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("f869"),n("3098"),n("eb14"),n("4d20"),n("2181"),n("659e");var o=n("69a9");function r(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(o["a"])(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,a=t},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(u)throw a}}}}},"13cf":function(t,e,n){var o=n("9ba3"),r=n("994c"),i="["+r+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(o(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},3098:function(t,e,n){"use strict";var o=n("bbcf"),r=n("6921"),i=n("4c16"),a=n("631e"),s=n("2fb1"),u=n("60ce").f,c=n("7e26"),d=i.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};c(f,d);var p=f.prototype=d.prototype;p.constructor=f;var h=p.toString,m="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(l,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:f})}},"46af":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i}));n("65ba"),n("dd4a"),n("6a22"),n("5f89");var o={data:function(){return{form:{startTime:"",endTime:"",activeDescribe:"",activeName:""},rules:{activeName:[{required:!0,message:"请输入标题",trigger:"blur"}],startTime:[{required:!0,message:"请选择活开始动时间",trigger:"change"}],endTime:[{required:!0,message:"请选择活动结束时间",trigger:"change"}],activeDescribe:[{required:!0,message:"请输入活动描述",trigger:"blur"}]},goodsTotle:0,oldUpdateIndex:"",updateIndex:"",dialogVisible:!1,goodsAndActivity:[],blUpdata:!1,oldGoodsAndActivity:[]}}},r={data:function(){return{btnPermissions:localStorage.getItem("btnPermission").split(",")}}},i={data:function(){var t=function(t,e,n){return e?Number.isInteger(e)?e>100||e<1?n(new Error("不能大于100或者小于1")):void 0:n(new Error("请输入数字值")):n(new Error("折扣率不能为空"))};return{activeType:1,timeDate:"",time:"",form:{secondsStartTime:"",secondsStopTime:"",whenLength:4,activeDescribes:"",secondsKillName:"",discount:""},rules:{secondsKillName:[{required:!0,message:"请输入标题",trigger:"blur"}],secondsStartTime:[{required:!0,message:"请选择活动时间",trigger:"change"}],whenLength:[{required:!0,message:"请输入活动持续时长",trigger:"blur"}],activeDescribes:[{required:!0,message:"请输入活动描述",trigger:"blur"}],discount:[{validator:t,trigger:"blur"}]},goodsTotle:0,oldUpdateIndex:"",updateIndex:"",dialogVisible:!1,goodsAndActivity:[],blUpdata:!1,oldGoodsAndActivity:[]}}}},"4c09":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("ed16");function r(t){if(Array.isArray(t))return Object(o["a"])(t)}n("f869"),n("3098"),n("eb14"),n("3e68"),n("4d20"),n("2181"),n("659e");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=n("69a9");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return r(t)||i(t)||Object(a["a"])(t)||s()}},"5b19":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var o={created:function(){this.$route.query.id&&(this.blUpdata=!0,this.apiFindById())}}},"60b4":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-form",{attrs:{size:"mini","label-width":"80px"}},[n("el-form-item",{attrs:{label:"产品名称"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"供应商"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:t.form.shopName,callback:function(e){t.$set(t.form,"shopName",e)},expression:"form.shopName"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.apiGetGoodsList}},[t._v("查询")])],1)],1),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.addGoodList,size:"mini",height:"430",stripe:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"categoryId",label:"商品编号",width:"200",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"200",align:"center"}}),n("el-table-column",{attrs:{prop:"categoryName",label:"分类",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"shopName",label:"供应商",width:"200",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"originalPrice",label:"销售价（元）",align:"center"}}),n("el-table-column",{attrs:{prop:"totalInventory",label:"库存",align:"center"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onAdd(e)}}},[t._v("添加")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.goodsTotal},on:{"current-change":t.handleCurrentChange}}),n("el-divider")],1)},r=[],i=n("d211"),a={name:"AddGoodsCmp",data:function(){return{childAddGoodList:[],addGoodList:[],goodsTotal:0,pageNo:1,multipleSelection:[],form:{}}},mounted:function(){},created:function(){this.apiGetGoodsList()},methods:{onAdd:function(t){this.$refs.multipleTable.toggleRowSelection(this.addGoodList[t.$index])},handleCurrentChange:function(t){this.pageNo=t,this.apiGetGoodsList()},handleSelectionChange:function(t){console.log(t),this.multipleSelection=t},apiGetGoodsList:function(){var t=this,e=Object(i["a"])({pageNo:this.pageNo,state:1},this.form);this.$http.post("/woho/product/head/query",e).then((function(e){t.addGoodList=e.data.data.list,t.goodsTotal=e.data.data.total}))}}},s=a,u=n("5d22"),c=Object(u["a"])(s,o,r,!1,null,"4f9e9739",null);e["a"]=c.exports},"65ba":function(t,e,n){"use strict";var o=n("6921"),r=n("4c16"),i=n("adc7"),a=n("58e4"),s=n("631e"),u=n("40e6"),c=n("d922"),d=n("6a27"),l=n("e4bd"),f=n("4035"),p=n("889a").f,h=n("37cb").f,m=n("60ce").f,g=n("13cf").trim,b="Number",v=r[b],y=v.prototype,$=u(f(y))==b,A=function(t){var e,n,o,r,i,a,s,u,c=d(t,!1);if("string"==typeof c&&c.length>2)if(c=g(c),e=c.charCodeAt(0),43===e||45===e){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:o=2,r=49;break;case 79:case 111:o=8,r=55;break;default:return+c}for(i=c.slice(2),a=i.length,s=0;s<a;s++)if(u=i.charCodeAt(s),u<48||u>r)return NaN;return parseInt(i,o)}return+c};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&($?l((function(){y.valueOf.call(n)})):u(n)!=b)?c(new v(A(e)),n,x):A(e)},S=o?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),_=0;S.length>_;_++)s(v,w=S[_])&&!s(x,w)&&m(x,w,h(v,w));x.prototype=y,y.constructor=x,a(r,b,x)}},"69a9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("3e68"),n("eb27"),n("1e6a"),n("4d20"),n("8d56"),n("2181");var o=n("ed16");function r(t,e){if(t){if("string"===typeof t)return Object(o["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(o["a"])(t,e):void 0}}},"994c":function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"9a96":function(t,e,n){var o=n("2fb1"),r=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&r(t)===t}},a8dc:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"r",(function(){return a})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return u})),n.d(e,"j",(function(){return c})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return l})),n.d(e,"k",(function(){return y})),n.d(e,"c",(function(){return A})),n.d(e,"z",(function(){return w})),n.d(e,"A",(function(){return x})),n.d(e,"m",(function(){return S})),n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"x",(function(){return h})),n.d(e,"y",(function(){return m})),n.d(e,"w",(function(){return g})),n.d(e,"f",(function(){return b})),n.d(e,"B",(function(){return v})),n.d(e,"g",(function(){return _})),n.d(e,"u",(function(){return I})),n.d(e,"D",(function(){return C})),n.d(e,"t",(function(){return $})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return N})),n.d(e,"s",(function(){return T})),n.d(e,"l",(function(){return G})),n.d(e,"C",(function(){return P})),n.d(e,"v",(function(){return O}));n("51d7"),n("6a22"),n("80cf"),n("dfce");var o=n("4c09"),r={methods:{apiInsertMerActivity:function(){var t=this.form;return t.rpl=this.goodsAndActivity,t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/insertMerActivity",t).then((function(t){return t}))},apiUpdateMerActivity:function(){var t=this.form;return t.rpl=[].concat(Object(o["a"])(this.goodsAndActivity),Object(o["a"])(this.oldGoodsAndActivity)),t=JSON.parse(JSON.stringify(t).replace(/originalPrice/g,"price")),t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/updateMerActivity",t).then((function(t){return t}))},apiFindById:function(){var t=this;this.$http.post("/woho/activity/manage/findByActivityIdGetProduct/".concat(this.$route.query.id)).then((function(e){t.form=e.data,t.oldGoodsAndActivity=e.data.rpl}))}}},i={methods:{apiProductQueryChoose:function(t){return this.$http.post("/woho/product/head/queryChoose",t).then((function(t){return t}))}}},a={methods:{productBatchVip:function(t){return this.$http.post("/woho/product/head/batchVip",t).then((function(t){return t}))}}},s={methods:{postAdd:function(t){return this.$http.post("/woho/post/add",t).then((function(t){return t}))}}},u={methods:{postEetPostRule:function(t){var e=t.no,n=t.size;t.search;return this.$http.get("/woho/post/getPostRule?no=".concat(e,"&size=").concat(n)).then((function(t){return t}))}}},c={methods:{getPostRule:function(t){return this.$http.get("/woho/post/getPostRule/".concat(t)).then((function(t){return t}))}}},d={methods:{postDelete:function(t){var e=t.ruleIds;return this.$http.get("/woho/post/delete/".concat(e)).then((function(t){return t}))}}},l={methods:{postEdit:function(t){return this.$http.post("/woho/post/edit",t).then((function(t){return t}))}}},f={methods:{adminPostFindById:function(t){return this.$http.post("/woho/post/query",t).then((function(t){return t}))}}},p={methods:{adminPostUpdate:function(t){return this.$http.post("/woho/post/update",t).then((function(t){return t}))}}},h={methods:{superGetCost:function(t){return this.$http.post("/woho/post/getCost",t).then((function(t){return t}))}}},m={methods:{superUpdateShopPostage:function(t){return this.$http.post("/woho/post/updateShopPostage",t).then((function(t){return t}))}}},g={methods:{superAddShopPostage:function(t){return this.$http.post("/woho/post/addShopPostage",t).then((function(t){return t}))}}},b={methods:{deleteAdvertising:function(t){return this.$http.get("/SmallProductCategory/deleteCategory?id=".concat(t)).then((function(t){return t}))}}},v={methods:{updateCategory:function(t){return this.$http.post("/SmallProductCategory/updateCategory",t).then((function(t){return t}))}}},y={methods:{getSmallParentCategory:function(t){return this.$http.post("/SmallProductCategory/getParentCategory",t).then((function(t){return t}))}}},$={methods:{queryParentNoPage:function(t){return this.$http.post("/SmallProductCategory/queryParentNoPage",t).then((function(t){return t}))}}},A={methods:{apiFindByIdAdvertising:function(t){return this.$http.get("/SmallProductCategory/findById/".concat(t.id)).then((function(t){return t}))}}},w={methods:{tradeAddTrade:function(t){return this.$http.post("/woho/trade/manage/addTrade",t).then((function(t){return t}))}}},x={methods:{tradeQueryList:function(t){return this.$http.post("/woho/trade/manage/queryList",t).then((function(t){return t}))}}},S={methods:{orderHeadFindById:function(t){return this.$http.post("/woho/order/head/findById/".concat(t)).then((function(t){return t}))}}},_={methods:{forgetPassword:function(t){return this.$http.post("/admin/forget-password",t).then((function(t){return t}))}}},I={methods:{queryRiders:function(t){return this.$Http24.get("/timely/courier/queryRiders/".concat(t)).then((function(t){return t}))}}},C={methods:{zhiDing:function(t){return this.$Http24.get("/timely/courier/zhiDing?id=".concat(t.selectRiderId,"&orderId=").concat(t.orderId,"&shopId=").concat(t.shopId)).then((function(t){return t}))}}},k={methods:{getCount:function(){return this.$http.get("/woho/sys/user/getCount").then((function(t){return t}))}}},N={methods:{getFeedBack:function(t){return this.$http.post("/woho/feedback/manage/getFeedBack",t).then((function(t){return t}))}}},T={methods:{quaryActivityType:function(t){return this.$http.get("/woho/activity/type/quaryActivityType",t).then((function(t){return t}))}}},G={methods:{insertActivityType:function(t){return this.$http.post("/woho/activity/type/insertActivityType",t).then((function(t){return t}))}}},P={methods:{updateRecom:function(t,e){return this.$http.get("woho/small/product/updateRecom/".concat(t,"/").concat(e)).then((function(t){return t}))}}},O={methods:{shopmanagequery:function(t){return this.$http.post("/woho/shop/manage/query",t).then((function(t){return t}))}}}},a937:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return s}));n("4318"),n("957b"),n("b4e6"),n("6a22"),n("2e4f"),n("80cf");var o={methods:{addAll:function(){for(var t=0,e=0,n=0;n<this.$refs.AddGoodsCmp.$data.multipleSelection.length;n++)this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[n])?e++:(t++,this.$refs.AddGoodsCmp.$data.multipleSelection[n].prodId=this.$refs.AddGoodsCmp.$data.multipleSelection[n].id,this.$refs.AddGoodsCmp.$data.multipleSelection[n].id="",this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[n]));0!==e&&this.$notify.error({title:"错误",message:"有".concat(e,"个重复了")}),0!==t&&(this.$message.success("有".concat(t,"个添加成功")),this.dialogVisible=!1)},handleCurrentChange:function(){},onOldUpdate:function(t){this.oldUpdateIndex=t.$index},onUpdate:function(t){this.updateIndex=t.$index},onOldSave:function(){this.oldUpdateIndex=""},onSave:function(t){this.updateIndex=""},onDelete:function(t){this.goodsAndActivity.splice(t.$index,1)},onAddGoods:function(){this.dialogVisible=!0}}},r={methods:{uploadFile:function(t){var e=this._uploadFile(t);if(e)return this.$http.post("/common/oss/uploadFile",e).then((function(t){return t.data.data.webUrl}))},_uploadFile:function(t){var e="image/jpeg"===t.file.type||"image/png"===t.file.type,n=t.file.size/1024/1024<10;if(!e)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;if(!n)return this.$message.error("上传头像图片大小不能超过 10MB!"),!1;var o=new FormData;return o.append("file",t.file),o}}},i={methods:{_validationNumber:function(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/^\./g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t},_verifyNumber:function(t){return t=t.replace(/[^\d]/g,""),t},_validationMoney:function(t){return t=t.replace(/[^\d.]/g,""),t=t.replace(/^0\d+|^\./g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$"),t=t.replace(/\./g,""),t=t.replace("$#$","."),t=t.replace(/^(\d+)\.(\d\d).*$/,"$1.$2"),t}}},a={methods:{addAll:function(){for(var t=0,e=0,n=0;n<this.$refs.AddGoodsCmp.$data.multipleSelection.length;n++)this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[n])?e++:(t++,this.$refs.AddGoodsCmp.$data.multipleSelection[n].samllProdId=this.$refs.AddGoodsCmp.$data.multipleSelection[n].id,this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[n]));0!==e&&this.$notify.error({title:"错误",message:"有".concat(e,"个重复了")}),0!==t&&(this.$message.success("有".concat(t,"个添加成功")),this.dialogVisible=!1)},handleCurrentChange:function(){},onOldUpdate:function(t){this.oldUpdateIndex=t.$index},onUpdate:function(t){this.updateIndex=t.$index},onOldSave:function(){this.oldUpdateIndex=""},onSave:function(t){this.updateIndex=""},onDelete:function(t){this.goodsAndActivity.splice(t.$index,1)},onAddGoods:function(){this.dialogVisible=!0}}},s={methods:{_export2Excel:function(t,e,o){var r=this;Promise.resolve().then(function(){var i=n("4bf8"),a=i.export_json_to_excel,s=r.formatJson(o,t);a(e,s,"统计")}.bind(null,n)).catch(n.oe)},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))}}}},acac:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("LayoutBox",{attrs:{one:"新增活动"}},[n("h4",[t._v("商品介绍")]),n("el-form",{ref:"form",attrs:{"label-width":"100px",model:t.form,rules:t.rules,size:"small"}},[n("el-form-item",{attrs:{label:"秒杀标题",prop:"activeName"}},[n("el-input",{staticStyle:{width:"454px"},attrs:{maxlength:"30","show-word-limit":""},model:{value:t.form.activeName,callback:function(e){t.$set(t.form,"activeName",e)},expression:"form.activeName"}})],1),n("el-form-item",{attrs:{label:"活动时间",required:""}},[n("div",{staticClass:"time_group"},[n("el-form-item",{attrs:{prop:"startTime"}},[n("el-date-picker",{attrs:{type:"datetime",placeholder:"选择活动开始时间"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}})],1),n("span",[t._v("至")]),n("el-form-item",{attrs:{prop:"endTime"}},[n("el-date-picker",{attrs:{placeholder:"选择活动结束时间",type:"datetime"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1)],1)]),n("el-form-item",{attrs:{label:"活动描述",prop:"activeDescribe"}},[n("el-input",{staticStyle:{width:"454px"},model:{value:t.form.activeDescribe,callback:function(e){t.$set(t.form,"activeDescribe",e)},expression:"form.activeDescribe"}})],1)],1)],1),t.blUpdata?n("el-card",{staticClass:"box-card"},[n("h4",[t._v("已关联商品")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.oldGoodsAndActivity}},[n("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),n("el-table-column",{attrs:{prop:"shopId",label:"供应商"}}),n("el-table-column",{attrs:{prop:"originalPrice",label:"销售价（元）"}}),n("el-table-column",{attrs:{label:"秒杀折扣率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.oldUpdateIndex===e.$index?n("el-input",{attrs:{type:"number"},model:{value:e.row.discountRate,callback:function(n){t.$set(e.row,"discountRate",n)},expression:"scope.row.discountRate"}}):n("p",[t._v(t._s(e.row.discountRate))])]}}],null,!1,3027405397)}),n("el-table-column",{attrs:{label:"限购量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.oldUpdateIndex===e.$index?n("el-input",{model:{value:e.row.restrictionQuantity,callback:function(n){t.$set(e.row,"restrictionQuantity",n)},expression:"scope.row.restrictionQuantity"}}):n("p",[t._v(t._s(e.row.restrictionQuantity))])]}}],null,!1,1570130692)}),n("el-table-column",{attrs:{label:"运费"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.oldUpdateIndex===e.$index?n("el-input",{model:{value:e.row.postFee,callback:function(n){t.$set(e.row,"postFee",n)},expression:"scope.row.postFee"}}):n("p",[t._v(t._s(e.row.postFee))])]}}],null,!1,1968722532)}),n("el-table-column",{attrs:{prop:"date",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.oldUpdateIndex===e.$index?n("el-button",{attrs:{type:"text"},on:{click:t.onOldSave}},[t._v("完成")]):n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){return n.preventDefault(),t.onOldUpdate(e)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text"}},[t._v("删除")])]}}],null,!1,2048600996)})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.goodsTotle},on:{"current-change":t.handleCurrentChange}})],1):t._e(),n("el-card",{staticClass:"box-card"},[n("h4",[t._v("新增关联商品")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.goodsAndActivity}},[n("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),n("el-table-column",{attrs:{prop:"originalPrice",label:"销售价（元）"}}),n("el-table-column",{attrs:{label:"秒杀折扣率"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.updateIndex===e.$index?n("el-input",{attrs:{type:"number"},model:{value:e.row.discountRate,callback:function(n){t.$set(e.row,"discountRate",n)},expression:"scope.row.discountRate"}}):n("p",[t._v(t._s(e.row.discountRate))])]}}])}),n("el-table-column",{attrs:{label:"限购量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.updateIndex===e.$index?n("el-input",{attrs:{type:"number"},model:{value:e.row.restrictionQuantity,callback:function(n){t.$set(e.row,"restrictionQuantity",t._n(n))},expression:"scope.row.restrictionQuantity"}}):n("p",[t._v(t._s(e.row.restrictionQuantity))])]}}])}),n("el-table-column",{attrs:{label:"运费"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.updateIndex===e.$index?n("el-input",{attrs:{type:"number"},model:{value:e.row.postFee,callback:function(n){t.$set(e.row,"postFee",n)},expression:"scope.row.postFee"}}):n("p",[t._v(t._s(e.row.postFee))])]}}])}),n("el-table-column",{attrs:{prop:"date",label:"操作",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.updateIndex===e.$index?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onSave(e)}}},[t._v("完成")]):n("el-button",{attrs:{type:"text"},nativeOn:{click:function(n){return n.preventDefault(),t.onUpdate(e)}}},[t._v("编辑")]),n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onDelete(e)}}},[t._v("删除")])]}}])})],1),n("div",{staticClass:"add_goods_btn"},[n("el-button",{staticClass:"add_goods",attrs:{type:"text",icon:"el-icon-plus"},nativeOn:{click:function(e){return e.preventDefault(),t.onAddGoods(e)}}},[t._v("添加商品")])],1),n("el-divider"),n("div",{staticClass:"btn_group"},[t.blUpdata?n("el-button",{staticClass:"inquire",attrs:{type:"success",size:"medium"},on:{click:t.save_btn}},[t._v("保存")]):n("el-button",{staticClass:"inquire",attrs:{type:"success",size:"medium"},on:{click:t.submit_btn}},[t._v("提交")]),n("router-link",{attrs:{to:"/mark/list/bargainsList"}},[n("el-button",{staticStyle:{width:"112px"},attrs:{size:"medium"}},[t._v("取消")])],1)],1)],1),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,fullscreen:""},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("AddGoodsCmp",{ref:"AddGoodsCmp"}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{round:""},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"danger",round:""},on:{click:function(e){return t.addAll()}}},[t._v("添 加")])],1)],1)],1)},r=[],i=n("1b00"),a=n("60b4"),s=n("e49c"),u=n("a937"),c=n("a8dc"),d=n("46af"),l=n("5b19"),f={name:"AddBargains",components:{LayoutBox:i["a"],AddGoodsCmp:a["a"]},data:function(){return{activeType:1}},mixins:[s["a"],u["a"],c["e"],d["a"],l["a"]],methods:{submit_btn:function(){var t=this;this.goodsAndActivity.length<1?this.$message.error("请先选择添加商品"):this._formRules()&&this.apiInsertMerActivity().then((function(e){e.data.success?(t.$message.success("成功发布活动"),t.$router.push("/mark/list/bargainsList")):t.$message.error(e.data.msg)}))},save_btn:function(){var t=this;this._formRules()&&this.apiUpdateMerActivity().then((function(e){e.data.success?(t.$message.success("更新活动成功"),t.$router.push("/mark/list/bargainsList")):t.$message.error(e.data.msg)}))}}},p=f,h=(n("ce14"),n("5d22")),m=Object(h["a"])(p,o,r,!1,null,"1fbce7fb",null);e["default"]=m.exports},b4e6:function(t,e,n){"use strict";var o=n("bbcf"),r=n("5501"),i=n("285a"),a=n("5152"),s=n("529d"),u=n("5c1e"),c=n("7389"),d=n("780c"),l=n("e9a9"),f=d("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!f||!p},{splice:function(t,e){var n,o,d,l,f,p,v=s(this),y=a(v.length),$=r(t,y),A=arguments.length;if(0===A?n=o=0:1===A?(n=0,o=y-$):(n=A-2,o=m(h(i(e),0),y-$)),y+n-o>g)throw TypeError(b);for(d=u(v,o),l=0;l<o;l++)f=$+l,f in v&&c(d,l,v[f]);if(d.length=o,n<o){for(l=$;l<y-o;l++)f=l+o,p=l+n,f in v?v[p]=v[f]:delete v[p];for(l=y;l>y-o+n;l--)delete v[l-1]}else if(n>o)for(l=y-o;l>$;l--)f=l+o-1,p=l+n-1,f in v?v[p]=v[f]:delete v[p];for(l=0;l<n;l++)v[l+$]=arguments[l+2];return v.length=y-o+n,d}})},ce14:function(t,e,n){"use strict";n("f418")},dd4a:function(t,e,n){var o=n("bbcf"),r=n("9a96");o({target:"Number",stat:!0},{isInteger:r})},dfce:function(t,e,n){"use strict";var o=n("ebfe"),r=n("708d"),i=n("9ba3"),a=n("0c9c"),s=n("97d7");o("search",1,(function(t,e,n){return[function(e){var n=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var i=r(t),u=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var d=s(i,u);return a(i.lastIndex,c)||(i.lastIndex=c),null===d?-1:d.index}]}))},e49c:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return s}));n("65ba");var o=n("1377"),r={methods:{ruleForm:function(t){var e=this,n=!1;return this.$refs[t].validate((function(o){n=!!o&&e[t]})),n}}},i={methods:{_formRules:function(){if(this.goodsAndActivity){var t,e=Object(o["a"])(this.goodsAndActivity);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(Number(n.discountRate)<0&&Number(n.restrictionQuantity)<0&&Number(n.postFee)<0)return void this.$message.error("请把商品信息填写完整");if(n.discountRate>1)return void this.$message.error("折扣率不能大于1")}}catch(r){e.e(r)}finally{e.f()}}return this.$refs.form.validate((function(t){return!!t||void console.log("error submit!!")})),!0}}},a={methods:{_ruleForm:function(t){var e=!1;return this.$refs[t].validate((function(t){e=!!t})),e}}},s={methods:{_formRules:function(){if(this.goodsAndActivity){var t,e=Object(o["a"])(this.goodsAndActivity);try{for(e.s();!(t=e.n()).done;){var n=t.value;if("number"!=typeof n.limited)throw this.$message.error("请把商品信息填写完整"),SyntaxError("请把商品信息填写完整")}}catch(r){e.e(r)}finally{e.f()}}return this.$refs.form.validate((function(t){if(t)return!0;throw SyntaxError("活动详情填写完整")})),!0}}}},eb14:function(t,e,n){var o=n("41ba");o("iterator")},ed16:function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.d(e,"a",(function(){return o}))},f418:function(t,e,n){}}]);
//# sourceMappingURL=chunk-70c9efb5.a1fea240.js.map