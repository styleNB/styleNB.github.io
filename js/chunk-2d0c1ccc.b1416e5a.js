(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1ccc"],{"481c":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Layout-box",{attrs:{one:"直播间商品"}},[r("el-card",{staticClass:"mb-1",attrs:{shadow:"never"}},[r("div",[r("i",{staticClass:"el-icon-search"}),r("span",[e._v("筛选搜索")]),r("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:e.onSearch}},[e._v("查询")]),r("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:e.onReset}},[e._v("重置")])],1),r("div",{staticClass:"mt-1"},[r("el-form",{attrs:{inline:"",size:"small","label-width":"140px",model:e.queryInfo}},[r("el-form-item",{attrs:{label:"输入搜索："}},[r("el-input",{staticStyle:{width:"203px"},attrs:{placeholder:"商品名称"},model:{value:e.queryInfo.name,callback:function(t){e.$set(e.queryInfo,"name",t)},expression:"queryInfo.name"}})],1),r("el-form-item",{attrs:{label:"上架状态："}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryInfo.state,callback:function(t){e.$set(e.queryInfo,"state",t)},expression:"queryInfo.state"}},[r("el-option",{attrs:{label:"上架",value:"1"}}),r("el-option",{attrs:{label:"已下架",value:"0"}})],1)],1)],1)],1)]),r("el-button",{attrs:{size:"small"},on:{click:function(t){return e.$router.push("/live/liveRoomAddGoods")}}},[e._v("添加商品")]),r("el-table",{attrs:{size:"small",data:e.goodsList}},[r("el-table-column",{attrs:{prop:"name",label:"商品名"}}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.state?r("p",[e._v("下架中")]):1===t.row.state?r("p",[e._v("上架中")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.state?r("el-button",{attrs:{size:"small"},on:{click:function(r){return e.onState(t,1)}}},[e._v("上架")]):1===t.row.state?r("el-button",{attrs:{size:"small"},on:{click:function(r){return e.onState(t,0)}}},[e._v("下架")]):e._e(),r("el-button",{attrs:{size:"small"},on:{click:function(r){e.$router.push({path:"/live/liveRoomEditGoods",query:{data:JSON.stringify(t.row)}})}}},[e._v("编辑")])]}}])})],1),r("el-pagination",{staticClass:"mt-1 text-right",attrs:{background:"","current-page":e.queryInit.pageNo,"page-sizes":[10,20,30,40],"page-size":e.queryInit.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryInit.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},a=[],o=r("d211"),s=(r("6a61"),r("2e91")),i=r("1b00"),u={name:"live_room_goods",components:{LayoutBox:i["a"]},data:function(){return{queryInit:{pageNo:1,pageSize:10,total:0},queryInfo:{name:"",state:""},goodsList:[]}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiQueryAnchorProduct();case 2:case"end":return t.stop()}}),t)})))()},methods:{handleCurrentChange:function(e){this.queryInit.pageNo=e},handleSizeChange:function(e){this.queryInit.pageSize=e},onState:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,r.apiUpdateAnchorProductState(e,t);case 2:case"end":return n.stop()}}),n)})))()},onSearch:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiQueryAnchorProduct();case 2:case"end":return t.stop()}}),t)})))()},onReset:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.queryInfo={},t.next=3,e.apiQueryAnchorProduct();case 3:case"end":return t.stop()}}),t)})))()},apiQueryAnchorProduct:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object(o["a"])(Object(o["a"])({},e.queryInit),e.queryInfo),t.next=3,e.$http.post(e.$api.queryAnchorProduct,r);case 3:n=t.sent,e.goodsList=n.data.data.list;case 5:case"end":return t.stop()}}),t)})))()},apiUpdateAnchorProductState:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a={produId:e.row.id,state:t},n.next=3,r.$http.post(r.$api.updateAnchorProductState,a);case 3:if(o=n.sent,!o.data.success){n.next=10;break}return n.next=7,r.apiQueryAnchorProduct();case 7:r.$message.success("操作成功"),n.next=11;break;case 10:r.$message.error(o.data.msg);case 11:case"end":return n.stop()}}),n)})))()}}},c=u,l=r("5d22"),p=Object(l["a"])(c,n,a,!1,null,"07d3b661",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0c1ccc.b1416e5a.js.map