(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e70a463"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"4a94":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("评论管理")])],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"tool_group"},[a("div",{staticClass:"btn_box"},[a("router-link",{attrs:{to:{path:"/adList/adAdd"}}},[a("el-button",{staticClass:"inquire1",attrs:{type:"success",icon:"el-icon-plus",size:"mini"}},[t._v("添加广告")])],1)],1),a("el-form",{ref:"ruleForm",attrs:{inline:!0,model:t.search,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"广告名称",prop:"name"}},[a("el-input",{staticClass:"input",attrs:{size:"mini"},model:{value:t.search.name,callback:function(e){t.$set(t.search,"name",e)},expression:"search.name"}})],1),a("el-form-item",[a("el-button",{staticClass:"inquire",staticStyle:{width:"80px"},attrs:{type:"success",size:"mini"},on:{click:t.onSearch}},[t._v("查询")]),a("el-button",{staticStyle:{width:"80px"},attrs:{size:"mini"},on:{click:t.resetForm}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"main_group"},[a("div",{staticClass:"table_box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.AdList,height:"500"}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"广告名称",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"sn",label:"排序",align:"center"}}),a("el-table-column",{attrs:{label:"图片",width:"250",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("el-image",{staticClass:"cover",attrs:{src:t.row.imageUrl,fit:"cover"}})]}}])}),a("el-table-column",{attrs:{prop:"advertisingUrl",label:"链接",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"createTime",label:"加入时间",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"操作",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"switch_group"},[a("div",{staticClass:"switch_btn"},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949",width:50},on:{change:function(a){return t.onEnableDisable(e)}},model:{value:e.row.adCoverUse,callback:function(a){t.$set(e.row,"adCoverUse",a)},expression:"scope.row.adCoverUse"}}),e.row.adCoverUse?a("span",{staticClass:"switch_text_true"},[t._v("启用")]):a("span",{staticClass:"switch_text_false"},[t._v("禁用")])],1),a("router-link",{staticClass:"edit_btn",attrs:{to:{path:"/adList/adAdd",query:{id:e.row.id}}}},[t._v("编辑")]),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.deleteAd(e,t.AdList)}}},[a("span",{staticClass:"delete_btn"},[t._v("删除")])])],1)]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.AdListTotal},on:{"current-change":t.handleCurrentChange}})],1)])])],1)},i=[],s=(a("51d7"),a("957b"),a("b4e6"),a("6a22"),a("dfce"),a("d211")),r={name:"AdList",data:function(){return{pageNo:1,AdList:[],AdListTotal:0,search:{name:""}}},mounted:function(){this._getAdList()},methods:{deleteAd:function(t,e){var a=this;this.$confirm("此操作将永久删除该广告, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a._deleteAdItem(t.row.id).then((function(n){n.data.success?(a.$message.success("删除成功"),e.splice(t.$index,1)):a.$message.error(n.data.msg)}))}))},handleCurrentChange:function(t){this.pageNo=t,this._getAdList()},onEnableDisable:function(t){t.row.adCoverUse?this.apiEnableOrdisable(t,1):this.apiEnableOrdisable(t,0)},onSearch:function(){this._getAdList()},resetForm:function(){this.$refs.ruleForm.resetFields()},_getAdList:function(){var t=this,e=Object(s["a"])({pageNo:this.pageNo},this.search);this.$http.post("/woho/shop/advertising/query",e).then((function(e){e.data.data.list.map((function(t){t.adCoverUse=1===t.enableStatus})),t.AdList=e.data.data.list,t.AdListTotal=e.data.data.total}))},_deleteAdItem:function(t){return this.$http.delete("/woho/shop/advertising/delete/"+t).then((function(t){return t}))},apiEnableOrdisable:function(t,e){this.$http.post("/woho/shop/advertising/enableOrdisable/".concat(t.row.id,"/").concat(e)).then((function(t){console.log(t)}))}}},o=r,l=(a("d4dd"),a("5d22")),c=Object(l["a"])(o,n,i,!1,null,"027d3c74",null);e["default"]=c.exports},b4e6:function(t,e,a){"use strict";var n=a("bbcf"),i=a("5501"),s=a("285a"),r=a("5152"),o=a("529d"),l=a("5c1e"),c=a("7389"),d=a("780c"),u=a("e9a9"),h=d("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var a,n,d,u,h,p,g=o(this),w=r(g.length),_=i(t,w),C=arguments.length;if(0===C?a=n=0:1===C?(a=0,n=w-_):(a=C-2,n=b(f(s(e),0),w-_)),w+a-n>m)throw TypeError(v);for(d=l(g,n),u=0;u<n;u++)h=_+u,h in g&&c(d,u,g[h]);if(d.length=n,a<n){for(u=_;u<w-n;u++)h=u+n,p=u+a,h in g?g[p]=g[h]:delete g[p];for(u=w;u>w-n+a;u--)delete g[u-1]}else if(a>n)for(u=w-n;u>_;u--)h=u+n-1,p=u+a-1,h in g?g[p]=g[h]:delete g[p];for(u=0;u<a;u++)g[u+_]=arguments[u+2];return g.length=w-n+a,d}})},d4dd:function(t,e,a){"use strict";a("f867")},dfce:function(t,e,a){"use strict";var n=a("ebfe"),i=a("708d"),s=a("9ba3"),r=a("0c9c"),o=a("97d7");n("search",1,(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a):new RegExp(e)[t](String(a))},function(t){var n=a(e,t,this);if(n.done)return n.value;var s=i(t),l=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var d=o(s,l);return r(s.lastIndex,c)||(s.lastIndex=c),null===d?-1:d.index}]}))},f867:function(t,e,a){}}]);
//# sourceMappingURL=chunk-0e70a463.ed77903f.js.map