(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f9024374"],{"4c26":function(t,e,a){"use strict";a("95dc")},"95dc":function(t,e,a){},a183:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("LayoutBox",{attrs:{one:"平台活动"}},[a("div",{staticClass:"tool_group"},[a("div",{staticClass:"btn_group"},[a("router-link",{attrs:{to:"/adminAddActivity"}},[a("el-button",{staticClass:"inquire",attrs:{type:"success",size:"small",icon:"el-icon-plus",round:""}},[t._v("新增活动")])],1)],1),a("el-form",{staticClass:"input_group",attrs:{model:t.form,inline:!0,size:"mini"}},[a("el-form-item",{attrs:{label:"分类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.activeType,callback:function(e){t.$set(t.form,"activeType",e)},expression:"form.activeType"}},[a("el-option",{attrs:{label:"秒杀",value:1}}),a("el-option",{attrs:{label:"团购",value:0}})],1)],1),a("el-form-item",{attrs:{label:"时间筛选 "}},[a("el-date-picker",{attrs:{type:"date",placeholder:"开始日期"},model:{value:t.form.startTime,callback:function(e){t.$set(t.form,"startTime",e)},expression:"form.startTime"}}),t._v("至 "),a("el-date-picker",{attrs:{type:"date",placeholder:"结束日期"},model:{value:t.form.endTime,callback:function(e){t.$set(t.form,"endTime",e)},expression:"form.endTime"}})],1),a("el-form-item",[a("el-button",{staticStyle:{width:"80px"},attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")])],1)],1)],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.activityList}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{prop:"activeName",label:"名称",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{label:"分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(0==e.row.activeType?"拼团":"秒杀"))])]}}])}),a("el-table-column",{attrs:{label:"活动时间",align:"center",width:"350","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.startTime)+" 至 "+t._s(e.row.endTime))])]}}])}),a("el-table-column",{attrs:{prop:"applyNum",label:"报名人数",align:"center"}}),a("el-table-column",{attrs:{prop:"date",label:"活动状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[(new Date).getTime()<e.row.startTimeDate?a("span",[t._v("未开始")]):(new Date).getTime()>e.row.startTimeDate&&(new Date).getTime()<e.row.endTimeDate?a("span",[t._v("进行中")]):(new Date).getTime()>e.row.endTimeDate?a("span",[t._v("已结束")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"date",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?a("span",[t._v("暂停")]):1===e.row.state?a("span",[t._v("正常")]):t._e()]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.onUpdate(e)}}},[t._v("编辑")]),1===e.row.state?a("el-button",{staticStyle:{color:"#fd9a30"},attrs:{type:"text"},on:{click:function(a){return t.onEnd(e)}}},[t._v("下架")]):0===e.row.state?a("el-button",{staticStyle:{color:"#fd9a30"},attrs:{type:"text"},on:{click:function(a){return t.onStart(e)}}},[t._v("上架")]):t._e(),a("el-button",{attrs:{type:"text"},on:{click:function(a){return t.onDelete(e)}}},[t._v("删除")])]}}])})],1),a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)},n=[],o=(a("51d7"),a("957b"),a("b4e6"),a("6a22"),a("80cf"),a("1b00")),r={name:"AdminActivityList",components:{LayoutBox:o["a"]},data:function(){return{form:{},addTime:"",total:0,pageNo:1,activityList:[]}},created:function(){this.apiGetActivityList()},methods:{handleCurrentChange:function(t){this.pageNo=t,this.apiGetActivityList()},onDelete:function(t){this.apiActivityDelete(t)},onEnd:function(t){var e=this;this.apiActivityUpOrDown(t.row.id,0).then((function(a){e.$message.success("已终止活动"),t.row.state=0}))},onStart:function(t){var e=this;this.apiActivityUpOrDown(t.row.id,1).then((function(a){e.$message.success("已启用活动"),t.row.state=1}))},onSearch:function(){this.apiGetActivityList()},onUpdate:function(t){this.$router.push({path:"/adminAddActivity",query:{id:t.row.id}})},apiGetActivityList:function(){var t=this,e={pageNo:this.pageNo};Object.assign(e,this.form),this.$http.post("/woho/activity/manage/query",e).then((function(e){t.activityList=e.data.data.list,t.total=e.data.data.total,t.activityList.map((function(t){t.startTimeDate=new Date(t.startTime.replace(/-/g,"/")).getTime(),t.endTimeDate=new Date(t.endTime.replace(/-/g,"/")).getTime()}))}))},apiActivityDelete:function(t){var e=this;this.$http.delete("/woho/activity/manage/delete/".concat(t.row.id)).then((function(a){a.data.success?(e.$message.success("删除成功"),e.activityList.splice(t.$index,1)):e.$message.error(a.data.msg)}))},apiActivityUpOrDown:function(t,e){var a=this;return this.$http.post("/woho/activity/manage/upOrDown/".concat(t,"/").concat(e)).then((function(t){t.data.success||a.$message.error(t.data.msg)}))}}},s=r,l=(a("4c26"),a("5d22")),c=Object(l["a"])(s,i,n,!1,null,"74735e66",null);e["default"]=c.exports},b4e6:function(t,e,a){"use strict";var i=a("bbcf"),n=a("5501"),o=a("285a"),r=a("5152"),s=a("529d"),l=a("5c1e"),c=a("7389"),u=a("780c"),p=a("e9a9"),d=u("splice"),m=p("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,v=9007199254740991,y="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!d||!m},{splice:function(t,e){var a,i,u,p,d,m,w=s(this),g=r(w.length),b=n(t,g),_=arguments.length;if(0===_?a=i=0:1===_?(a=0,i=g-b):(a=_-2,i=h(f(o(e),0),g-b)),g+a-i>v)throw TypeError(y);for(u=l(w,i),p=0;p<i;p++)d=b+p,d in w&&c(u,p,w[d]);if(u.length=i,a<i){for(p=b;p<g-i;p++)d=p+i,m=p+a,d in w?w[m]=w[d]:delete w[m];for(p=g;p>g-i+a;p--)delete w[p-1]}else if(a>i)for(p=g-i;p>b;p--)d=p+i-1,m=p+a-1,d in w?w[m]=w[d]:delete w[m];for(p=0;p<a;p++)w[p+b]=arguments[p+2];return w.length=g-i+a,u}})}}]);
//# sourceMappingURL=chunk-f9024374.78ac5b2e.js.map