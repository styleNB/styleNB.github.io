(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4feaa925"],{1377:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("f869"),n("3098"),n("eb14"),n("4d20"),n("2181"),n("659e");var r=n("69a9");function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,d=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){d=!0,a=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(d)throw a}}}}},"13cf":function(e,t,n){var r=n("9ba3"),i=n("994c"),o="["+i+"]",a=RegExp("^"+o+o+"*"),s=RegExp(o+o+"*$"),d=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},"28c8":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",{attrs:{size:"mini","label-width":"80px"}},[n("el-form-item",{attrs:{label:"产品名称"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"供应商"}},[n("el-input",{staticStyle:{width:"200px"},model:{value:e.form.shopName,callback:function(t){e.$set(e.form,"shopName",t)},expression:"form.shopName"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:e.apiGetGoodsList}},[e._v("查询")])],1)],1),n("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.addGoodList,size:"mini",height:"430",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"categoryId",label:"商品编号",width:"200",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"name",label:"商品名称",width:"200",align:"center"}}),n("el-table-column",{attrs:{prop:"categoryName",label:"分类",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"shopName",label:"供应商",width:"200",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"originalPrice",label:"销售价（元）",align:"center"}}),n("el-table-column",{attrs:{prop:"totalInventory",label:"库存",align:"center"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.onAdd(t)}}},[e._v("添加")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.goodsTotal},on:{"current-change":e.handleCurrentChange}}),n("el-divider")],1)},i=[],o=(n("65ba"),{name:"AddGoodsCmp",props:{activityTypes:[String,Number]},data:function(){return{childAddGoodList:[],addGoodList:[],goodsTotal:0,pageNo:1,multipleSelection:[],form:{}}},created:function(){this.apiGetGoodsList()},methods:{onAdd:function(e){this.$refs.multipleTable.toggleRowSelection(this.addGoodList[e.$index])},handleCurrentChange:function(e){this.pageNo=e,this.apiGetGoodsList()},handleSelectionChange:function(e){this.multipleSelection=e},apiGetGoodsList:function(){var e=this,t={activityTypes:this.activityTypes,state:1,pageNo:this.pageNo};this.$http.post("/woho/small/product/query",t).then((function(t){t.data.success&&(e.addGoodList=t.data.data.list,e.goodsTotal=t.data.data.total)}))}}}),a=o,s=n("5d22"),d=Object(s["a"])(a,r,i,!1,null,"7fd9963e",null);t["a"]=d.exports},3098:function(e,t,n){"use strict";var r=n("bbcf"),i=n("6921"),o=n("4c16"),a=n("631e"),s=n("2fb1"),d=n("60ce").f,l=n("7e26"),c=o.Symbol;if(i&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var u={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new c(e):void 0===e?c():c(e);return""===e&&(u[t]=!0),t};l(f,c);var p=f.prototype=c.prototype;p.constructor=f;var h=p.toString,m="Symbol(test)"==String(c("test")),g=/^Symbol\((.*)\)[^)]+$/;d(p,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(u,e))return"";var n=m?t.slice(7,-1):t.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:f})}},"46af":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));n("65ba"),n("dd4a"),n("6a22"),n("5f89");var r={data:function(){return{form:{startTime:"",endTime:"",activeDescribe:"",activeName:""},rules:{activeName:[{required:!0,message:"请输入标题",trigger:"blur"}],startTime:[{required:!0,message:"请选择活开始动时间",trigger:"change"}],endTime:[{required:!0,message:"请选择活动结束时间",trigger:"change"}],activeDescribe:[{required:!0,message:"请输入活动描述",trigger:"blur"}]},goodsTotle:0,oldUpdateIndex:"",updateIndex:"",dialogVisible:!1,goodsAndActivity:[],blUpdata:!1,oldGoodsAndActivity:[]}}},i={data:function(){return{btnPermissions:localStorage.getItem("btnPermission").split(",")}}},o={data:function(){var e=function(e,t,n){return t?Number.isInteger(t)?t>100||t<1?n(new Error("不能大于100或者小于1")):void 0:n(new Error("请输入数字值")):n(new Error("折扣率不能为空"))};return{activeType:1,timeDate:"",time:"",form:{secondsStartTime:"",secondsStopTime:"",whenLength:4,activeDescribes:"",secondsKillName:"",discount:""},rules:{secondsKillName:[{required:!0,message:"请输入标题",trigger:"blur"}],secondsStartTime:[{required:!0,message:"请选择活动时间",trigger:"change"}],whenLength:[{required:!0,message:"请输入活动持续时长",trigger:"blur"}],activeDescribes:[{required:!0,message:"请输入活动描述",trigger:"blur"}],discount:[{validator:e,trigger:"blur"}]},goodsTotle:0,oldUpdateIndex:"",updateIndex:"",dialogVisible:!1,goodsAndActivity:[],blUpdata:!1,oldGoodsAndActivity:[]}}}},"5b19":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={created:function(){this.$route.query.id&&(this.blUpdata=!0,this.apiFindById())}}},"65ba":function(e,t,n){"use strict";var r=n("6921"),i=n("4c16"),o=n("adc7"),a=n("58e4"),s=n("631e"),d=n("40e6"),l=n("d922"),c=n("6a27"),u=n("e4bd"),f=n("4035"),p=n("889a").f,h=n("37cb").f,m=n("60ce").f,g=n("13cf").trim,b="Number",v=i[b],y=v.prototype,A=d(f(y))==b,$=function(e){var t,n,r,i,o,a,s,d,l=c(e,!1);if("string"==typeof l&&l.length>2)if(l=g(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=l.slice(2),a=o.length,s=0;s<a;s++)if(d=o.charCodeAt(s),d<48||d>i)return NaN;return parseInt(o,r)}return+l};if(o(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var S,x=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof x&&(A?u((function(){y.valueOf.call(n)})):d(n)!=b)?l(new v($(t)),n,x):$(t)},I=r?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;I.length>w;w++)s(v,S=I[w])&&!s(x,S)&&m(x,S,h(v,S));x.prototype=y,y.constructor=x,a(i,b,x)}},"69a9":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("3e68"),n("eb27"),n("1e6a"),n("4d20"),n("8d56"),n("2181");var r=n("ed16");function i(e,t){if(e){if("string"===typeof e)return Object(r["a"])(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(e,t):void 0}}},"994c":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"9a96":function(e,t,n){var r=n("2fb1"),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},a937:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));n("4318"),n("957b"),n("b4e6"),n("6a22"),n("2e4f"),n("80cf");var r={methods:{addAll:function(){for(var e=0,t=0,n=0;n<this.$refs.AddGoodsCmp.$data.multipleSelection.length;n++)this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[n])?t++:(e++,this.$refs.AddGoodsCmp.$data.multipleSelection[n].prodId=this.$refs.AddGoodsCmp.$data.multipleSelection[n].id,this.$refs.AddGoodsCmp.$data.multipleSelection[n].id="",this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[n]));0!==t&&this.$notify.error({title:"错误",message:"有".concat(t,"个重复了")}),0!==e&&(this.$message.success("有".concat(e,"个添加成功")),this.dialogVisible=!1)},handleCurrentChange:function(){},onOldUpdate:function(e){this.oldUpdateIndex=e.$index},onUpdate:function(e){this.updateIndex=e.$index},onOldSave:function(){this.oldUpdateIndex=""},onSave:function(e){this.updateIndex=""},onDelete:function(e){this.goodsAndActivity.splice(e.$index,1)},onAddGoods:function(){this.dialogVisible=!0}}},i={methods:{uploadFile:function(e){var t=this._uploadFile(e);if(t)return this.$http.post("/common/oss/uploadFile",t).then((function(e){return e.data.data.webUrl}))},_uploadFile:function(e){var t="image/jpeg"===e.file.type||"image/png"===e.file.type,n=e.file.size/1024/1024<10;if(!t)return this.$message.error("上传头像图片只能是 JPG/PNG 格式!"),!1;if(!n)return this.$message.error("上传头像图片大小不能超过 10MB!"),!1;var r=new FormData;return r.append("file",e.file),r}}},o={methods:{_validationNumber:function(e){return e=e.replace(/[^\d.]/g,""),e=e.replace(/^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$").replace(/\./g,"").replace("$#$","."),e},_verifyNumber:function(e){return e=e.replace(/[^\d]/g,""),e},_validationMoney:function(e){return e=e.replace(/[^\d.]/g,""),e=e.replace(/^0\d+|^\./g,""),e=e.replace(/\.{2,}/g,"."),e=e.replace(".","$#$"),e=e.replace(/\./g,""),e=e.replace("$#$","."),e=e.replace(/^(\d+)\.(\d\d).*$/,"$1.$2"),e}}},a={methods:{addAll:function(){for(var e=0,t=0,n=0;n<this.$refs.AddGoodsCmp.$data.multipleSelection.length;n++)this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[n])?t++:(e++,this.$refs.AddGoodsCmp.$data.multipleSelection[n].samllProdId=this.$refs.AddGoodsCmp.$data.multipleSelection[n].id,this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[n]));0!==t&&this.$notify.error({title:"错误",message:"有".concat(t,"个重复了")}),0!==e&&(this.$message.success("有".concat(e,"个添加成功")),this.dialogVisible=!1)},handleCurrentChange:function(){},onOldUpdate:function(e){this.oldUpdateIndex=e.$index},onUpdate:function(e){this.updateIndex=e.$index},onOldSave:function(){this.oldUpdateIndex=""},onSave:function(e){this.updateIndex=""},onDelete:function(e){this.goodsAndActivity.splice(e.$index,1)},onAddGoods:function(){this.dialogVisible=!0}}},s={methods:{_export2Excel:function(e,t,r){var i=this;Promise.resolve().then(function(){var o=n("4bf8"),a=o.export_json_to_excel,s=i.formatJson(r,e);a(t,s,"统计")}.bind(null,n)).catch(n.oe)},formatJson:function(e,t){return t.map((function(t){return e.map((function(e){return t[e]}))}))}}}},b4e6:function(e,t,n){"use strict";var r=n("bbcf"),i=n("5501"),o=n("285a"),a=n("5152"),s=n("529d"),d=n("5c1e"),l=n("7389"),c=n("780c"),u=n("e9a9"),f=c("splice"),p=u("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,m=Math.min,g=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!f||!p},{splice:function(e,t){var n,r,c,u,f,p,v=s(this),y=a(v.length),A=i(e,y),$=arguments.length;if(0===$?n=r=0:1===$?(n=0,r=y-A):(n=$-2,r=m(h(o(t),0),y-A)),y+n-r>g)throw TypeError(b);for(c=d(v,r),u=0;u<r;u++)f=A+u,f in v&&l(c,u,v[f]);if(c.length=r,n<r){for(u=A;u<y-r;u++)f=u+r,p=u+n,f in v?v[p]=v[f]:delete v[p];for(u=y;u>y-r+n;u--)delete v[u-1]}else if(n>r)for(u=y-r;u>A;u--)f=u+r-1,p=u+n-1,f in v?v[p]=v[f]:delete v[p];for(u=0;u<n;u++)v[u+A]=arguments[u+2];return v.length=y-r+n,c}})},dd4a:function(e,t,n){var r=n("bbcf"),i=n("9a96");r({target:"Number",stat:!0},{isInteger:i})},e49c:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s}));n("65ba");var r=n("1377"),i={methods:{ruleForm:function(e){var t=this,n=!1;return this.$refs[e].validate((function(r){n=!!r&&t[e]})),n}}},o={methods:{_formRules:function(){if(this.goodsAndActivity){var e,t=Object(r["a"])(this.goodsAndActivity);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(Number(n.discountRate)<0&&Number(n.restrictionQuantity)<0&&Number(n.postFee)<0)return void this.$message.error("请把商品信息填写完整");if(n.discountRate>1)return void this.$message.error("折扣率不能大于1")}}catch(i){t.e(i)}finally{t.f()}}return this.$refs.form.validate((function(e){return!!e||void console.log("error submit!!")})),!0}}},a={methods:{_ruleForm:function(e){var t=!1;return this.$refs[e].validate((function(e){t=!!e})),t}}},s={methods:{_formRules:function(){if(this.goodsAndActivity){var e,t=Object(r["a"])(this.goodsAndActivity);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("number"!=typeof n.limited)throw this.$message.error("请把商品信息填写完整"),SyntaxError("请把商品信息填写完整")}}catch(i){t.e(i)}finally{t.f()}}return this.$refs.form.validate((function(e){if(e)return!0;throw SyntaxError("活动详情填写完整")})),!0}}}},eb14:function(e,t,n){var r=n("41ba");r("iterator")},ed16:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-4feaa925.80597379.js.map