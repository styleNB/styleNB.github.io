(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02dd6700"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},3098:function(t,e,r){"use strict";var n=r("bbcf"),o=r("6921"),i=r("4c16"),a=r("631e"),u=r("2fb1"),s=r("60ce").f,c=r("7e26"),d=i.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};c(h,d);var f=h.prototype=d.prototype;f.constructor=h;var p=f.toString,m="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;s(f,"description",{configurable:!0,get:function(){var t=u(this)?this.valueOf():this,e=p.call(t);if(a(l,t))return"";var r=m?e.slice(7,-1):e.replace(g,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:h})}},"31c0":function(t,e,r){"use strict";r("7787")},"4c09":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("ed16");function o(t){if(Array.isArray(t))return Object(n["a"])(t)}r("f869"),r("3098"),r("eb14"),r("3e68"),r("4d20"),r("2181"),r("659e");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=r("69a9");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return o(t)||i(t)||Object(a["a"])(t)||u()}},"69a9":function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));r("3e68"),r("eb27"),r("1e6a"),r("4d20"),r("8d56"),r("2181");var n=r("ed16");function o(t,e){if(t){if("string"===typeof t)return Object(n["a"])(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(t,e):void 0}}},7787:function(t,e,r){},"809e":function(t,e,r){"use strict";var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-cascader",{attrs:{options:t.positionJson,size:t.size},on:{change:function(e){return t.handleChange(e)}},model:{value:t.areaGroup,callback:function(e){t.areaGroup=e},expression:"areaGroup"}})],1)},o=[],i=(r("3f4b"),r("6a22"),r("5f89"),r("dc37")),a={name:"areaSelectCmp2",props:{areaParent:{type:[String,Array],default:""},size:{type:String,default:""}},data:function(){return{area:[],positionJson:i}},methods:{handleChange:function(t){var e=this.positionJson.filter((function(e){return e.value===t[0]}));this.area=e[0].label,e=e[0].children.filter((function(e){return e.value===t[1]})),this.area=this.area+","+e[0].label,e=e[0].children.filter((function(e){return e.value===t[2]})),this.area=this.area+","+e[0].label,4===t.length&&(e=e[0].children.filter((function(e){return e.value===t[3]})),this.area=this.area+","+e[0].label),this.$emit("childFn2",this.area)}},computed:{areaGroup:{get:function(){var t=this.areaParent.split(","),e=[],r=this.positionJson.filter((function(e){return e.label===t[0]}));try{e.push(r[0].value),r=r[0].children.filter((function(e){return e.label===t[1]})),e.push(r[0].value),r=r[0].children.filter((function(e){return e.label===t[2]})),e.push(r[0].value),4===t.length&&(r=r[0].children.filter((function(e){return e.label===t[3]})),e.push(r[0].value))}catch(n){}return e},set:function(){}}}},u=a,s=r("5d22"),c=Object(s["a"])(u,n,o,!1,null,"18ba29b2",null);e["a"]=c.exports},"96a8":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-card",{staticClass:"box-card"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),r("el-breadcrumb-item",[t._v("添加广告")])],1),r("div",{staticClass:"box_border"},[r("div",{staticClass:"group"},[r("h4",[t._v("添加广告")]),r("el-divider"),r("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"80px","label-position":"left"}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"* 图片",prop:"imageUrl"}},[r("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http-request","http-request":t.uploadSectionFile,"show-file-list":!1}},[t.form.imageUrl?r("el-image",{staticClass:"avatar",attrs:{src:t.form.imageUrl,fit:"contain"}}):r("i",{staticClass:"el-icon-plus avatar-uploader-icon"})],1),r("p",{staticStyle:{color:"#999999","font-size":"10px"}},[t._v("只能上传jpg/png文件，且不超过10MB，最多可上传5张")])],1),r("el-form-item",{attrs:{label:"地区",required:""}},[r("areaSelectCmp2",{attrs:{areaParent:t.form.area},on:{childFn2:t.onChildFn2}})],1),r("el-form-item",{attrs:{label:"显示位置",required:""}},[r("el-radio-group",{model:{value:t.form.type,callback:function(e){t.$set(t.form,"type",e)},expression:"form.type"}},[r("el-radio",{attrs:{label:0}},[t._v("商城首页")]),r("el-radio",{attrs:{label:6}},[t._v("视频首页")])],1)],1),r("el-form-item",{attrs:{label:"类型",required:""}},[r("el-radio-group",{model:{value:t.form.advertisingType,callback:function(e){t.$set(t.form,"advertisingType",e)},expression:"form.advertisingType"}},[r("el-radio",{attrs:{label:0}},[t._v("商品")]),r("el-radio",{attrs:{label:1}},[t._v("链接")]),r("el-radio",{attrs:{label:2}},[t._v("店铺")]),r("el-radio",{attrs:{label:3}},[t._v("一分购")])],1)],1),0===t.form.advertisingType?r("el-form-item",{attrs:{label:"商品",required:""}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"请选择","remote-method":t.remoteMethod,loading:t.loading},model:{value:t.form.advertisingUrl,callback:function(e){t.$set(t.form,"advertisingUrl",e)},expression:"form.advertisingUrl"}},t._l(t.goodsList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1):1===t.form.advertisingType?r("el-form-item",{attrs:{label:"链接",required:""}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.advertisingUrl,callback:function(e){t.$set(t.form,"advertisingUrl",e)},expression:"form.advertisingUrl"}},t._l(t.link,(function(t){return r("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):2===t.form.advertisingType?r("el-form-item",{attrs:{label:"店铺",required:""}},[r("el-select",{attrs:{filterable:"",remote:"",placeholder:"请选择","remote-method":t.onShopmanagequery,loading:t.loading},model:{value:t.form.advertisingUrl,callback:function(e){t.$set(t.form,"advertisingUrl",e)},expression:"form.advertisingUrl"}},t._l(t.shopManageQuery,(function(t){return r("el-option",{key:t.id,attrs:{label:t.shopName,value:t.id}})})),1)],1):t._e(),r("el-form-item",{attrs:{label:"排序",prop:"sn"}},[r("el-input",{model:{value:t.form.sn,callback:function(e){t.$set(t.form,"sn",t._n(e))},expression:"form.sn"}})],1),r("el-form-item",{attrs:{size:"medium"}},[r("el-button",{staticClass:"inquire",staticStyle:{width:"100px"},attrs:{type:"success",round:""},on:{click:function(e){return t.submitForm("form")}}},[t._v("保存")]),r("router-link",{attrs:{to:{path:"/admin/adList"}}},[r("el-button",{staticStyle:{width:"100px"},attrs:{round:""}},[t._v("取消")])],1)],1)],1)],1)])],1)],1)},o=[],i=(r("6a61"),r("2e91")),a=r("809e"),u=r("a8dc"),s={name:"AdAdd",mixins:[u["v"]],data:function(){return{adId:"",loading:!1,goodsList:[],shopManageQuery:[],link:[{value:"http://39.100.129.155:8099",label:"小超"},{value:"http://h5.woho.city/milk_tea.html",label:"蜗视陪你过大年"},{value:"http://h5.woho.city/breakfast_activities.html",label:"春节短视频大赛"}],form:{name:"",imageUrl:"",advertisingUrl:"",sn:"",advertisingType:0,type:0},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],advertisingUrl:[{required:!0,message:"请输入链接地址",trigger:"change"}],sn:[{required:!0,message:"请输入序号",trigger:"blur"},{type:"number",message:"序号必须为数字"}],category:[{required:!0,message:"请选择分类",trigger:"change"}]}}},components:{areaSelectCmp2:a["a"]},created:function(){this.adId=this.$route.query.id,this.$route.query.id&&this._findAdData()},methods:{uploadSectionFile:function(t){console.log("params",t);var e="image/jpeg"===t.file.type||"image/png"===t.file.type,r=t.file.size/1024/1024<10;if(e)if(r){var n=new FormData;n.append("file",t.file),this._upload(n)}else this.$message.error("上传头像图片大小不能超过 10MB!");else this.$message.error("上传头像图片只能是 JPG/PNG 格式!")},submitForm:function(t){var e=this;console.log(this.form),this.$refs[t].validate((function(t){return t?e.form.imageUrl?void(e.adId?e._updateAd().then((function(t){t.data.success?(e.$message.success("保存成功"),e.$router.push("/admin/adList")):e.$message.error(t.data.msg)})):e._addAdItem().then((function(t){t.data.success?(e.$message.success("保存成功"),e.$router.push("/admin/adList")):e.$message.error(t.data.msg)}))):(e.$message.error("请上传图片"),!1):(console.log("error submit!!"),!1)}))},onChildFn2:function(t){this.form.area=t},remoteMethod:function(t){""!==t?(this.loading=!0,this.getGoods(t)):this.options=[]},onShopmanagequery:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(""===t){r.next=6;break}return e.loading=!0,r.next=4,e.apiShopmanagequery(t);case 4:r.next=7;break;case 6:e.options=[];case 7:case"end":return r.stop()}}),r)})))()},_addAdItem:function(){var t=this.form;return t.platformType=0,this.$http.post("/woho/advertising/manage/insert",t).then((function(t){return t}))},_upload:function(t){var e=this;this.$http.post("/common/oss/uploadFile",t).then((function(t){e.form.imageUrl=t.data.data.webUrl}))},_findAdData:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$http.post("/woho/advertising/manage/findById/".concat(t.adId)).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.form=r.data,t.form.area=r.data.area,e.t0=r.data.advertisingType,e.next=0===e.t0?5:2===e.t0?7:10;break;case 5:return t.getGoods(),e.abrupt("break",10);case 7:return e.next=9,t.apiShopmanagequery();case 9:return e.abrupt("break",10);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))()},_updateAd:function(){var t=this.form;return this.$http.put("/woho/advertising/manage/update",t).then((function(t){return t}))},getGoods:function(t){var e=this,r={name:t,pageNo:1,pageSize:999};this.$http.post("/woho/product/head/query",r).then((function(t){e.loading=!1,e.goodsList=t.data.data.list}))},apiShopmanagequery:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n={shopName:t,pageNo:1,pageSize:999,shopType:0,approvalStatus:1},r.next=3,e.shopmanagequery(n);case 3:o=r.sent,e.loading=!1,e.shopManageQuery=o.data.data.list;case 6:case"end":return r.stop()}}),r)})))()}}},c=s,d=(r("31c0"),r("5d22")),l=Object(d["a"])(c,n,o,!1,null,"54bdd37b",null);e["default"]=l.exports},a8dc:function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"d",(function(){return i})),r.d(e,"r",(function(){return a})),r.d(e,"n",(function(){return u})),r.d(e,"q",(function(){return s})),r.d(e,"j",(function(){return c})),r.d(e,"o",(function(){return d})),r.d(e,"p",(function(){return l})),r.d(e,"k",(function(){return b})),r.d(e,"c",(function(){return w})),r.d(e,"z",(function(){return S})),r.d(e,"A",(function(){return A})),r.d(e,"m",(function(){return q})),r.d(e,"a",(function(){return h})),r.d(e,"b",(function(){return f})),r.d(e,"x",(function(){return p})),r.d(e,"y",(function(){return m})),r.d(e,"w",(function(){return g})),r.d(e,"f",(function(){return v})),r.d(e,"B",(function(){return y})),r.d(e,"g",(function(){return x})),r.d(e,"u",(function(){return k})),r.d(e,"D",(function(){return C})),r.d(e,"t",(function(){return $})),r.d(e,"h",(function(){return _})),r.d(e,"i",(function(){return P})),r.d(e,"s",(function(){return I})),r.d(e,"l",(function(){return U})),r.d(e,"C",(function(){return T})),r.d(e,"v",(function(){return j}));r("51d7"),r("6a22"),r("80cf"),r("dfce");var n=r("4c09"),o={methods:{apiInsertMerActivity:function(){var t=this.form;return t.rpl=this.goodsAndActivity,t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/insertMerActivity",t).then((function(t){return t}))},apiUpdateMerActivity:function(){var t=this.form;return t.rpl=[].concat(Object(n["a"])(this.goodsAndActivity),Object(n["a"])(this.oldGoodsAndActivity)),t=JSON.parse(JSON.stringify(t).replace(/originalPrice/g,"price")),t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/updateMerActivity",t).then((function(t){return t}))},apiFindById:function(){var t=this;this.$http.post("/woho/activity/manage/findByActivityIdGetProduct/".concat(this.$route.query.id)).then((function(e){t.form=e.data,t.oldGoodsAndActivity=e.data.rpl}))}}},i={methods:{apiProductQueryChoose:function(t){return this.$http.post("/woho/product/head/queryChoose",t).then((function(t){return t}))}}},a={methods:{productBatchVip:function(t){return this.$http.post("/woho/product/head/batchVip",t).then((function(t){return t}))}}},u={methods:{postAdd:function(t){return this.$http.post("/woho/post/add",t).then((function(t){return t}))}}},s={methods:{postEetPostRule:function(t){var e=t.no,r=t.size;t.search;return this.$http.get("/woho/post/getPostRule?no=".concat(e,"&size=").concat(r)).then((function(t){return t}))}}},c={methods:{getPostRule:function(t){return this.$http.get("/woho/post/getPostRule/".concat(t)).then((function(t){return t}))}}},d={methods:{postDelete:function(t){var e=t.ruleIds;return this.$http.get("/woho/post/delete/".concat(e)).then((function(t){return t}))}}},l={methods:{postEdit:function(t){return this.$http.post("/woho/post/edit",t).then((function(t){return t}))}}},h={methods:{adminPostFindById:function(t){return this.$http.post("/woho/post/query",t).then((function(t){return t}))}}},f={methods:{adminPostUpdate:function(t){return this.$http.post("/woho/post/update",t).then((function(t){return t}))}}},p={methods:{superGetCost:function(t){return this.$http.post("/woho/post/getCost",t).then((function(t){return t}))}}},m={methods:{superUpdateShopPostage:function(t){return this.$http.post("/woho/post/updateShopPostage",t).then((function(t){return t}))}}},g={methods:{superAddShopPostage:function(t){return this.$http.post("/woho/post/addShopPostage",t).then((function(t){return t}))}}},v={methods:{deleteAdvertising:function(t){return this.$http.get("/SmallProductCategory/deleteCategory?id=".concat(t)).then((function(t){return t}))}}},y={methods:{updateCategory:function(t){return this.$http.post("/SmallProductCategory/updateCategory",t).then((function(t){return t}))}}},b={methods:{getSmallParentCategory:function(t){return this.$http.post("/SmallProductCategory/getParentCategory",t).then((function(t){return t}))}}},$={methods:{queryParentNoPage:function(t){return this.$http.post("/SmallProductCategory/queryParentNoPage",t).then((function(t){return t}))}}},w={methods:{apiFindByIdAdvertising:function(t){return this.$http.get("/SmallProductCategory/findById/".concat(t.id)).then((function(t){return t}))}}},S={methods:{tradeAddTrade:function(t){return this.$http.post("/woho/trade/manage/addTrade",t).then((function(t){return t}))}}},A={methods:{tradeQueryList:function(t){return this.$http.post("/woho/trade/manage/queryList",t).then((function(t){return t}))}}},q={methods:{orderHeadFindById:function(t){return this.$http.post("/woho/order/head/findById/".concat(t)).then((function(t){return t}))}}},x={methods:{forgetPassword:function(t){return this.$http.post("/admin/forget-password",t).then((function(t){return t}))}}},k={methods:{queryRiders:function(t){return this.$Http24.get("/timely/courier/queryRiders/".concat(t)).then((function(t){return t}))}}},C={methods:{zhiDing:function(t){return this.$Http24.get("/timely/courier/zhiDing?id=".concat(t.selectRiderId,"&orderId=").concat(t.orderId,"&shopId=").concat(t.shopId)).then((function(t){return t}))}}},_={methods:{getCount:function(){return this.$http.get("/woho/sys/user/getCount").then((function(t){return t}))}}},P={methods:{getFeedBack:function(t){return this.$http.post("/woho/feedback/manage/getFeedBack",t).then((function(t){return t}))}}},I={methods:{quaryActivityType:function(t){return this.$http.get("/woho/activity/type/quaryActivityType",t).then((function(t){return t}))}}},U={methods:{insertActivityType:function(t){return this.$http.post("/woho/activity/type/insertActivityType",t).then((function(t){return t}))}}},T={methods:{updateRecom:function(t,e){return this.$http.get("woho/small/product/updateRecom/".concat(t,"/").concat(e)).then((function(t){return t}))}}},j={methods:{shopmanagequery:function(t){return this.$http.post("/woho/shop/manage/query",t).then((function(t){return t}))}}}},dfce:function(t,e,r){"use strict";var n=r("ebfe"),o=r("708d"),i=r("9ba3"),a=r("0c9c"),u=r("97d7");n("search",1,(function(t,e,r){return[function(e){var r=i(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,r):new RegExp(e)[t](String(r))},function(t){var n=r(e,t,this);if(n.done)return n.value;var i=o(t),s=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var d=u(i,s);return a(i.lastIndex,c)||(i.lastIndex=c),null===d?-1:d.index}]}))},eb14:function(t,e,r){var n=r("41ba");n("iterator")},ed16:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-02dd6700.81854053.js.map