(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c7d2cc4"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"19cd":function(t,e,n){"use strict";n("a0c0")},3098:function(t,e,n){"use strict";var r=n("bbcf"),o=n("6921"),i=n("4c16"),a=n("631e"),s=n("2fb1"),c=n("60ce").f,u=n("7e26"),d=i.Symbol;if(o&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(h,d);var p=h.prototype=d.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(a(l,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:h})}},"4c09":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("ed16");function o(t){if(Array.isArray(t))return Object(r["a"])(t)}n("f869"),n("3098"),n("eb14"),n("3e68"),n("4d20"),n("2181"),n("659e");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=n("69a9");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return o(t)||i(t)||Object(a["a"])(t)||s()}},"5d3b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LayoutBox",{attrs:{one:"订单列表"}},[n("h4",{staticClass:"title"},[t._v("订单列表")]),n("div",{staticClass:"tool"},[n("div",{staticClass:"tool_select"},[n("span",{staticClass:"fs-lg mr-1"},[t._v("下单时间")]),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",size:"mini"},model:{value:t.startTime,callback:function(e){t.startTime=e},expression:"startTime"}}),t._v("至"),n("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",size:"mini"},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1),n("div",{staticClass:"mt-2 mb-2"},[n("el-select",{staticClass:"mr-1",staticStyle:{width:"112px"},attrs:{placeholder:"商品名称",size:"small"},model:{value:t.searchType,callback:function(e){t.searchType=e},expression:"searchType"}},[n("el-option",{attrs:{label:"商品名称",value:"prodName"}}),n("el-option",{attrs:{label:"订单号",value:"orderCode"}})],1),n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.searchInput,callback:function(e){t.searchInput=e},expression:"searchInput"}})],1),n("div",{staticClass:"btn_search"},[n("el-button",{staticClass:"inquire1",attrs:{type:"success",size:"small"},on:{click:t.onSearch}},[t._v("查询")]),n("el-button",{attrs:{size:"small"}},[t._v("重置")])],1)]),n("div",{staticClass:"menu_box"},[n("el-menu",{staticClass:"el-menu-demo mb-2",attrs:{"default-active":"",mode:"horizontal"},on:{select:t.onNav}},[n("el-menu-item",{attrs:{index:""}},[t._v("全部")]),n("el-menu-item",{attrs:{index:"1"}},[t._v("已下单")]),n("el-menu-item",{attrs:{index:"3"}},[t._v("待评价")]),n("el-menu-item",{attrs:{index:"10"}},[t._v("已完成")]),n("el-menu-item",{attrs:{index:"9"}},[t._v("已关闭")])],1),n("el-button",{staticClass:"screen_btn",attrs:{type:"primary"},on:{click:t.onScreen}},[t._v("大屏展示")])],1),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,"row-key":"id",lazy:"",load:t.load,"tree-props":{children:"children",hasChildren:"hasChildren"},"max-height":"400",size:"mini"}},[n("el-table-column",{attrs:{prop:"orderCode",label:"订单号",width:"180",align:"center"}}),n("el-table-column",{attrs:{prop:"prodName",label:"商品名称",width:"180",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{prop:"createTime",label:"下单时间",align:"center",width:"170"}}),n("el-table-column",{attrs:{prop:"userName",label:"买家",align:"center"}}),n("el-table-column",{attrs:{label:"交易状态",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"trading_status"},[1===e.row.orderStatus&&5===e.row.postType?n("span",{staticStyle:{color:"#e39025"}},[t._v("待自提")]):1===e.row.orderStatus?n("span",{staticStyle:{color:"#e39025"}},[t._v("待揽件")]):2===e.row.orderStatus?n("span",{staticStyle:{color:"#666666"}},[t._v("配送中")]):3===e.row.orderStatus?n("span",{staticStyle:{color:"#666666"}},[t._v("待评价")]):10===e.row.orderStatus?n("span",{staticStyle:{color:"#666666"}},[t._v("已完成")]):9===e.row.orderStatus?n("span",{staticStyle:{color:"#999999"}},[t._v("已关闭")]):t._e(),e.row.prodItemId?t._e():n("router-link",{staticStyle:{color:"#459ae9"},attrs:{to:{path:"/superMarket/orderDetail",query:{id:e.row.id}}}},[t._v("详情")])],1)]}}])}),n("el-table-column",{attrs:{prop:"count",label:"明细数量",align:"center"}}),n("el-table-column",{attrs:{prop:"price",label:"单价",align:"center"}}),n("el-table-column",{attrs:{label:"实收金额",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.payAmount?n("span",[t._v("￥"+t._s(e.row.payAmount))]):t._e()]}}])}),n("el-table-column",{attrs:{label:"骑手",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s("0"!==e.row.courierName?e.row.courierName:""))])]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.orderStatus&&5===e.row.postType?n("code-cmp",{attrs:{orderId:e.row.id}}):2===e.row.orderStatus?n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return t.onConfirm(e)}}},[t._v("确认送达")]):t._e(),1===e.row.orderStatus?n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(n){return t.onOrderClose(e)}}},[t._v("取消订单")]):t._e()]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.orderTotle},on:{"current-change":t.handleCurrentChange}})],1),n("assigned-cmp",{attrs:{orderData:t.selectOrderData,dialogVisible:t.assignedDialog},on:{close:function(e){t.assignedDialog=!1}}})],1)},o=[],i=(n("957b"),n("28f8")),a=n("1b00"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"指派骑手",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-form",[n("el-form-item",[n("el-select",{attrs:{placeholder:"请选择骑手"},model:{value:t.selectRiderId,callback:function(e){t.selectRiderId=e},expression:"selectRiderId"}},t._l(t.riderList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onConfirm}},[t._v("确 定")])],1)],1)},c=[],u=n("a8dc"),d={name:"assignedCmp",mixins:[u["u"],u["D"]],props:{dialogVisible:{type:Boolean,default:!1},orderData:{type:Object,default:function(){return{}}}},data:function(){return{riderList:[],selectRiderId:""}},created:function(){this.apiQueryRiders(localStorage.shopId)},methods:{handleClose:function(){this.$emit("close")},apiQueryRiders:function(t){var e=this,n=t;this.queryRiders(n).then((function(t){console.log(t),t.data.success?e.riderList=t.data.data:e.$message.error(t.data.message)}))},onConfirm:function(){var t=this,e={selectRiderId:this.selectRiderId,orderId:this.orderData.id,shopId:localStorage.shopId};this.zhiDing(e).then((function(e){e.data.success?(t.$message.success("指派成功"),t.handleClose()):t.$message.error(e.data.message)}))}}},l=d,h=n("5d22"),p=Object(h["a"])(l,s,c,!1,null,"4c396baa",null),f=p.exports,m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"自提码"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.doorCode,callback:function(e){t.$set(t.form,"doorCode",e)},expression:"form.doorCode"}})],1)],1),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.orderCheck}},[t._v("确定")])],1),n("el-button",{attrs:{slot:"reference",size:"mini",type:"text"},slot:"reference"},[t._v("自提码")])],1)},g=[],y=n("d211"),v=(n("6a61"),n("2e91")),b={name:"code_cmp",props:{orderId:{type:String,default:""}},data:function(){return{form:{doorCode:""},visible:!1}},methods:{orderCheck:function(){var t=this;return Object(v["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(y["a"])(Object(y["a"])({},t.form),{},{id:t.orderId}),e.next=3,t.$http.post(t.$api.orderCheck,n);case 3:r=e.sent,r.data.success?(t.$message.success("取件成功"),t.visible=!1,t.reload()):t.$message.error(r.data.msg);case 5:case"end":return e.stop()}}),e)})))()}},inject:["reload"]},w=b,S=Object(h["a"])(w,m,g,!1,null,"096bb3f0",null),C=S.exports,$={name:"OrderList",components:{LayoutBox:a["a"],assignedCmp:f,codeCmp:C},data:function(){return{orderList:[],orderTotle:0,pageNo:1,orderStatus:"",startTime:"",endTime:"",searchType:"",searchInput:"",goodsDataYJM:[],tableLoading:!1,assignedDialog:!1,selectOrderData:{}}},mounted:function(){this._getOrderList()},methods:{onNav:function(t,e){this.orderStatus=t,this._getOrderList()},handleCurrentChange:function(t){this.pageNo=t,this._getOrderList()},load:function(t,e,n){this._getOrderItem(t.id).then((function(t){n(t.data.data.list)}))},onOrderClose:function(t){var e=this;this.$confirm("此操作将导致订单失效, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.apiOrderClose(t)}))},onSearch:function(){this._getOrderList()},onConfirm:function(t){var e=this;this.$confirm("订单确定送达了吗? 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.apiOrderFinish(t)}))},onAssignedDialog:function(t){this.selectOrderData=t.row,this.assignedDialog=!0},onScreen:function(){var t=this.$router.resolve({path:"/superMarket/orderScreen"}),e=t.href;window.open(e)},_getOrderList:function(){var t=this,e={pageNo:this.pageNo};Object.assign(e,Object(i["a"])({},this.searchType,this.searchInput)),e.startTime=this.startTime,e.endTime=this.endTime,e.orderStatus=this.orderStatus,this.$http.post("/woho/order/head/query",e).then((function(e){t.orderTotle=e.data.data.total,e.data.data.list.map((function(t){t.hasChildren=!0})),t.orderList=e.data.data.list}))},_getOrderItem:function(t){var e={pageSize:1e4,orderHeaderId:t};return this.$http.post("/woho/order/item/query",e).then((function(t){return t}))},apiOrderClose:function(t){var e=this;this.$http.post("/woho/order/head/orderClose/".concat(t.row.id)).then((function(n){console.log(n),e.$message.success("取消成功"),t.row.orderStatus=9}))},apiOrderFinish:function(t){var e=this;this.$http.post("/woho/order/head/orderFinish/".concat(t.row.id)).then((function(n){console.log(n),n.data.success?(e.$message.success("操作成功"),t.row.orderStatus=3):e.$message.error(n.data.msg)}))}}},_=$,I=(n("19cd"),Object(h["a"])(_,r,o,!1,null,"565b2776",null));e["default"]=I.exports},"69a9":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("3e68"),n("eb27"),n("1e6a"),n("4d20"),n("8d56"),n("2181");var r=n("ed16");function o(t,e){if(t){if("string"===typeof t)return Object(r["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r["a"])(t,e):void 0}}},a0c0:function(t,e,n){},a8dc:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"r",(function(){return a})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return l})),n.d(e,"k",(function(){return b})),n.d(e,"c",(function(){return S})),n.d(e,"z",(function(){return C})),n.d(e,"A",(function(){return $})),n.d(e,"m",(function(){return _})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"x",(function(){return f})),n.d(e,"y",(function(){return m})),n.d(e,"w",(function(){return g})),n.d(e,"f",(function(){return y})),n.d(e,"B",(function(){return v})),n.d(e,"g",(function(){return I})),n.d(e,"u",(function(){return x})),n.d(e,"D",(function(){return O})),n.d(e,"t",(function(){return w})),n.d(e,"h",(function(){return k})),n.d(e,"i",(function(){return T})),n.d(e,"s",(function(){return A})),n.d(e,"l",(function(){return P})),n.d(e,"C",(function(){return j})),n.d(e,"v",(function(){return z}));n("51d7"),n("6a22"),n("80cf"),n("dfce");var r=n("4c09"),o={methods:{apiInsertMerActivity:function(){var t=this.form;return t.rpl=this.goodsAndActivity,t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/insertMerActivity",t).then((function(t){return t}))},apiUpdateMerActivity:function(){var t=this.form;return t.rpl=[].concat(Object(r["a"])(this.goodsAndActivity),Object(r["a"])(this.oldGoodsAndActivity)),t=JSON.parse(JSON.stringify(t).replace(/originalPrice/g,"price")),t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/updateMerActivity",t).then((function(t){return t}))},apiFindById:function(){var t=this;this.$http.post("/woho/activity/manage/findByActivityIdGetProduct/".concat(this.$route.query.id)).then((function(e){t.form=e.data,t.oldGoodsAndActivity=e.data.rpl}))}}},i={methods:{apiProductQueryChoose:function(t){return this.$http.post("/woho/product/head/queryChoose",t).then((function(t){return t}))}}},a={methods:{productBatchVip:function(t){return this.$http.post("/woho/product/head/batchVip",t).then((function(t){return t}))}}},s={methods:{postAdd:function(t){return this.$http.post("/woho/post/add",t).then((function(t){return t}))}}},c={methods:{postEetPostRule:function(t){var e=t.no,n=t.size;t.search;return this.$http.get("/woho/post/getPostRule?no=".concat(e,"&size=").concat(n)).then((function(t){return t}))}}},u={methods:{getPostRule:function(t){return this.$http.get("/woho/post/getPostRule/".concat(t)).then((function(t){return t}))}}},d={methods:{postDelete:function(t){var e=t.ruleIds;return this.$http.get("/woho/post/delete/".concat(e)).then((function(t){return t}))}}},l={methods:{postEdit:function(t){return this.$http.post("/woho/post/edit",t).then((function(t){return t}))}}},h={methods:{adminPostFindById:function(t){return this.$http.post("/woho/post/query",t).then((function(t){return t}))}}},p={methods:{adminPostUpdate:function(t){return this.$http.post("/woho/post/update",t).then((function(t){return t}))}}},f={methods:{superGetCost:function(t){return this.$http.post("/woho/post/getCost",t).then((function(t){return t}))}}},m={methods:{superUpdateShopPostage:function(t){return this.$http.post("/woho/post/updateShopPostage",t).then((function(t){return t}))}}},g={methods:{superAddShopPostage:function(t){return this.$http.post("/woho/post/addShopPostage",t).then((function(t){return t}))}}},y={methods:{deleteAdvertising:function(t){return this.$http.get("/SmallProductCategory/deleteCategory?id=".concat(t)).then((function(t){return t}))}}},v={methods:{updateCategory:function(t){return this.$http.post("/SmallProductCategory/updateCategory",t).then((function(t){return t}))}}},b={methods:{getSmallParentCategory:function(t){return this.$http.post("/SmallProductCategory/getParentCategory",t).then((function(t){return t}))}}},w={methods:{queryParentNoPage:function(t){return this.$http.post("/SmallProductCategory/queryParentNoPage",t).then((function(t){return t}))}}},S={methods:{apiFindByIdAdvertising:function(t){return this.$http.get("/SmallProductCategory/findById/".concat(t.id)).then((function(t){return t}))}}},C={methods:{tradeAddTrade:function(t){return this.$http.post("/woho/trade/manage/addTrade",t).then((function(t){return t}))}}},$={methods:{tradeQueryList:function(t){return this.$http.post("/woho/trade/manage/queryList",t).then((function(t){return t}))}}},_={methods:{orderHeadFindById:function(t){return this.$http.post("/woho/order/head/findById/".concat(t)).then((function(t){return t}))}}},I={methods:{forgetPassword:function(t){return this.$http.post("/admin/forget-password",t).then((function(t){return t}))}}},x={methods:{queryRiders:function(t){return this.$Http24.get("/timely/courier/queryRiders/".concat(t)).then((function(t){return t}))}}},O={methods:{zhiDing:function(t){return this.$Http24.get("/timely/courier/zhiDing?id=".concat(t.selectRiderId,"&orderId=").concat(t.orderId,"&shopId=").concat(t.shopId)).then((function(t){return t}))}}},k={methods:{getCount:function(){return this.$http.get("/woho/sys/user/getCount").then((function(t){return t}))}}},T={methods:{getFeedBack:function(t){return this.$http.post("/woho/feedback/manage/getFeedBack",t).then((function(t){return t}))}}},A={methods:{quaryActivityType:function(t){return this.$http.get("/woho/activity/type/quaryActivityType",t).then((function(t){return t}))}}},P={methods:{insertActivityType:function(t){return this.$http.post("/woho/activity/type/insertActivityType",t).then((function(t){return t}))}}},j={methods:{updateRecom:function(t,e){return this.$http.get("woho/small/product/updateRecom/".concat(t,"/").concat(e)).then((function(t){return t}))}}},z={methods:{shopmanagequery:function(t){return this.$http.post("/woho/shop/manage/query",t).then((function(t){return t}))}}}},dfce:function(t,e,n){"use strict";var r=n("ebfe"),o=n("708d"),i=n("9ba3"),a=n("0c9c"),s=n("97d7");r("search",1,(function(t,e,n){return[function(e){var n=i(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var d=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===d?-1:d.index}]}))},eb14:function(t,e,n){var r=n("41ba");r("iterator")},ed16:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))}}]);
//# sourceMappingURL=chunk-0c7d2cc4.6616096f.js.map