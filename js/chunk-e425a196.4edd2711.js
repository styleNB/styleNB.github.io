(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e425a196"],{"29a8":function(e,t,a){"use strict";a("37e0")},"37e0":function(e,t,a){},"9a41":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("layout-box",{attrs:{one:"商品管理",two:"商品审核"}},[a("el-card",{staticClass:"mb-1",attrs:{shadow:"never"}},[a("div",[a("i",{staticClass:"el-icon-search"}),a("span",[e._v("筛选搜索")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleSearchList()}}},[e._v(" 查询结果 ")]),a("el-button",{staticStyle:{float:"right","margin-right":"15px"},attrs:{size:"small"},on:{click:e.handleResetSearch}},[e._v("重置")])],1),a("div",{staticClass:"mt-1"},[a("el-form",{attrs:{inline:!0,size:"small","label-width":"140px",model:e.queryInfo}},[a("el-form-item",{attrs:{label:"审核状态："}},[a("el-select",{model:{value:e.queryInfo.approvalStatus,callback:function(t){e.$set(e.queryInfo,"approvalStatus",t)},expression:"queryInfo.approvalStatus"}},[a("el-option",{attrs:{label:"已审批",value:"1"}}),a("el-option",{attrs:{label:"未审批",value:"0"}}),a("el-option",{attrs:{label:"驳回",value:"2"}})],1)],1),a("el-form-item",{attrs:{label:"上架状态："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.queryInfo.state,callback:function(t){e.$set(e.queryInfo,"state",t)},expression:"queryInfo.state"}},[a("el-option",{attrs:{label:"上架",value:"1"}}),a("el-option",{attrs:{label:"已下架",value:"0"}})],1)],1),a("el-form-item",{attrs:{label:"商品名称："}},[a("el-input",{attrs:{placeholder:"输入商品名称",clearable:""},on:{clear:e.fetch},model:{value:e.queryInfo.name,callback:function(t){e.$set(e.queryInfo,"name",t)},expression:"queryInfo.name"}})],1)],1)],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{border:"",data:e.goodslist,"max-height":"500"}},[a("el-table-column",{attrs:{type:"selection",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"name",label:"商品图片",width:"125",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.row.imageUrl}})]}}])}),a("el-table-column",{attrs:{label:"商品视频",align:"center",width:"170"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("video",{attrs:{src:e.row.videoUrl,preload:"auto",controls:"",width:"150",height:"130"}})]}}])}),a("el-table-column",{attrs:{label:"商品名称",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:"分类",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.categoryName)+" ")]}}])}),a("el-table-column",{attrs:{label:"审批时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.approvalTime)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"价格/货号",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("价格：￥"+e._s(t.row.originalPrice))]),a("p",[e._v("货号: "+e._s(t.row.code))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"销量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.sales)+" ")]}}])}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.totalInventory)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.state?a("span",{staticStyle:{color:"#40ccae"}},[e._v("上架")]):0===t.row.state?a("span",{staticStyle:{color:"#e39025"}},[e._v("下架中")]):e._e()]}}])}),a("el-table-column",{attrs:{label:"审核状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.approvalStatus?a("span",{staticStyle:{color:"#666666"}},[e._v("未审批")]):e._e(),1===t.row.approvalStatus?a("span",{staticStyle:{color:"#40ccae"}},[e._v("已审批")]):e._e(),2===t.row.approvalStatus?a("span",{staticStyle:{color:"#e02929"}},[e._v("驳回")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"address",align:"center",label:"操作",width:"179"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.approvalStatus?a("el-button",{on:{click:function(a){return e.handleShowVerifyDetail(t.row.id)}}},[e._v("审核")]):e._e(),a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.removeUserById(t.row.id)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{title:"审核状态",visible:e.examine,width:"30%"},on:{"update:visible":function(t){e.examine=t}}},[a("el-form",{ref:"for",attrs:{"label-width":"80px"},model:{value:e.approve,callback:function(t){e.approve=t},expression:"approve"}},[a("el-form-item",{attrs:{label:"审核描述"}},[a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.approve.approveReason,callback:function(t){e.$set(e.approve,"approveReason",t)},expression:"approve.approveReason"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("通过")]),a("el-button",{on:{click:e.reject}},[e._v("驳回")])],1)],1)],1),a("el-pagination",{staticClass:"mt-1",attrs:{"current-page":e.queryInfo.pageNo,"page-sizes":[2,5,10,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},o=[],l=a("d211"),r=(a("6a61"),a("2e91")),s={pageNo:1,pageSize:10,name:null,code:null,state:null,approvalStatus:null},i={data:function(){return{model:{},approve:{approveReason:"",approveStatus:0},examine:!1,editSkuInfo:{dialogVisible:!1,productId:null,productSn:"",productAttributeCategoryId:null,stockList:[],productAttr:[]},loading:!0,query:"",queryInfo:Object.assign({},s),goodslist:[],state:null,total:0,value:"",queryInf:{approveStatus:1,id:""},queryInf1:{approveStatus:2,id:""}}},created:function(){this.fetch()},methods:{handleResetSearch:function(){this.queryInfo=Object.assign({},s),this.fetch()},handleSearchEditSku:function(){console.log(1)},handleEditSkuConfirm:function(){console.log(1)},handleShowVerifyDetail:function(e){this.examine=!0,this.queryInf.id=e,this.queryInf1.id=e},onSubmit:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/woho/product/head/approve",t.queryInf);case 2:a=e.sent,200!==a.data.code&&t.$message.error("审核通过失败"),t.$message.success("审核通过成功"),t.examine=!1,t.fetch();case 7:case"end":return e.stop()}}),e)})))()},reject:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/woho/product/head/approve",t.queryInf1);case 2:a=e.sent,console.log(a),200!==a.data.code&&t.$message.error("审核驳回失败"),t.$message.success("审核驳回成功"),t.examine=!1,t.fetch();case 8:case"end":return e.stop()}}),e)})))()},fetch:function(){var e=this;this.loading=!0;var t=Object(l["a"])({isCheck:1,type:0},this.queryInfo);this.$http.post("/woho/product/head/query",t).then((function(t){e.loading=!1,e.goodslist=t.data.data.list,console.log(e.goodslist),e.total=t.data.data.total}))},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.fetch()},handleCurrentChange:function(e){this.queryInfo.pageNo=e,this.fetch()},removeUserById:function(e){var t=this;this.$confirm('是否确定要删除该商品 "是否继续"',"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$http.delete("/woho/product/head/delete/"+e).then((function(e){t.$message({type:"success",message:"删除成功!"}),t.fetch()}))}))},zydescription:function(e){this._getOrderItem(e.id)},handleSearchList:function(){this.queryInfo.pageNo=1,this.fetch()}}},c=i,u=(a("29a8"),a("5d22")),p=Object(u["a"])(c,n,o,!1,null,"784d5588",null);t["default"]=p.exports}}]);
//# sourceMappingURL=chunk-e425a196.4edd2711.js.map