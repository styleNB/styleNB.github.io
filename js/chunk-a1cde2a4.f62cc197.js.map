{"version":3,"sources":["webpack:///./src/views/super_market/add/add_add.vue?0438","webpack:///./src/views/super_market/add/add_add.vue?8c49","webpack:///src/views/super_market/add/add_add.vue","webpack:///./src/views/super_market/add/add_add.vue?f99b","webpack:///./src/views/super_market/add/add_add.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","ref","form","rules","model","value","callback","$$v","$set","expression","area","on","onChild","staticClass","searchOption","onSearchResult","staticStyle","mapCenter","_l","marker","key","id","onIdentityCardUrlPositive","identityCardUrlPositive","onIdentityCardUrlNegative","identityCardUrlNegative","onBusinessLicenseUrl","businessLicenseUrl","onSanitaryOperationLicenseUrl","sanitaryOperationLicenseUrl","onDoorHeadUrl0","doorHeadUrl0","onDoorHeadUrl1","doorHeadUrl1","onDoorHeadUrl2","doorHeadUrl2","$event","submitForm","staticRenderFns","name","components","areaSelectCmp","data","shopName","tel","mobile","adderss","tax","identityCardUrl","doorHeadUrl","markers","citylimit","beforeCreate","mounted","methods","e","length","_uploadSectionFile","params","$refs","formName","validate","valid","console","log","latitude","longitude","approvalStatus","shopType","pois","forEach","lngSum","lng","latSum","lat","center","isJPG","isLt2M","formData","append","file","$http","post","$message","error","_addShop","component"],"mappings":"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","file":"js/chunk-a1cde2a4.f62cc197.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./add_add.vue?vue&type=style&index=0&id=8d807eec&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('LayoutBox',{attrs:{\"one\":\"添加超市\"}},[_c('h4',[_vm._v(\"添加超市\")]),_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-position\":\"right\",\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":\"商铺名称：\",\"prop\":\"shopName\"}},[_c('el-input',{model:{value:(_vm.form.shopName),callback:function ($$v) {_vm.$set(_vm.form, \"shopName\", $$v)},expression:\"form.shopName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小超账号：\",\"prop\":\"mobile\"}},[_c('el-input',{model:{value:(_vm.form.mobile),callback:function ($$v) {_vm.$set(_vm.form, \"mobile\", $$v)},expression:\"form.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"联系人：\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"手机号：\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.form.tel),callback:function ($$v) {_vm.$set(_vm.form, \"tel\", $$v)},expression:\"form.tel\"}})],1),_c('el-form-item',{attrs:{\"label\":\"地区：\",\"prop\":\"area\"}},[_c('areaSelectCmp',{attrs:{\"area\":_vm.form.area},on:{\"childFn\":_vm.onChild}})],1),_c('el-form-item',{attrs:{\"label\":\"详细地址：\",\"prop\":\"adderss\"}},[_c('el-amap-search-box',{staticClass:\"search-box\",attrs:{\"search-option\":_vm.searchOption,\"on-search-result\":_vm.onSearchResult}}),_c('el-amap',{staticClass:\"amap-demo\",staticStyle:{\"height\":\"300px\",\"width\":\"600px\"},attrs:{\"vid\":\"amapDemo\",\"center\":_vm.mapCenter,\"zoom\":12}},_vm._l((_vm.markers),function(marker){return _c('el-amap-marker',{key:marker.id,attrs:{\"position\":marker}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"税号：\",\"prop\":\"tax\"}},[_c('el-input',{model:{value:(_vm.form.tax),callback:function ($$v) {_vm.$set(_vm.form, \"tax\", $$v)},expression:\"form.tax\"}})],1),_c('el-form-item',{attrs:{\"label\":\"身份证：\",\"required\":\"\"}},[_c('div',{staticClass:\"identityCardUrl\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onIdentityCardUrlPositive,\"show-file-list\":false}},[(_vm.identityCardUrlPositive)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.identityCardUrlPositive,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onIdentityCardUrlNegative,\"show-file-list\":false}},[(_vm.identityCardUrlNegative)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.identityCardUrlNegative,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1)]),_c('el-form-item',{attrs:{\"label\":\"营业执照：\",\"required\":\"\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onBusinessLicenseUrl,\"show-file-list\":false}},[(_vm.form.businessLicenseUrl)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.businessLicenseUrl,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1),_c('el-form-item',{attrs:{\"label\":\"卫生许可证：\",\"required\":\"\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onSanitaryOperationLicenseUrl,\"show-file-list\":false}},[(_vm.form.sanitaryOperationLicenseUrl)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.form.sanitaryOperationLicenseUrl,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1),_c('el-form-item',{attrs:{\"label\":\"门头照：\",\"required\":\"\"}},[_c('div',{staticClass:\"identityCardUrl\"},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onDoorHeadUrl0,\"show-file-list\":false}},[(_vm.doorHeadUrl0)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.doorHeadUrl0,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onDoorHeadUrl1,\"show-file-list\":false}},[(_vm.doorHeadUrl1)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.doorHeadUrl1,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1),_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":\"http-request\",\"http-request\":_vm.onDoorHeadUrl2,\"show-file-list\":false}},[(_vm.doorHeadUrl2)?_c('el-image',{staticClass:\"avatar\",attrs:{\"src\":_vm.doorHeadUrl2,\"fit\":\"contain\"}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})],1)],1)]),_c('el-divider'),_c('el-form-item',[_c('el-button',{staticClass:\"inquire\",staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"success\",\"round\":\"\"},on:{\"click\":function($event){return _vm.submitForm('form')}}},[_vm._v(\"提交\")]),_c('router-link',{attrs:{\"to\":\"/admin/addList\"}},[_c('el-button',{staticStyle:{\"width\":\"120px\"},attrs:{\"type\":\"danger\",\"round\":\"\"}},[_vm._v(\"取消\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <LayoutBox one=\"添加超市\">\r\n      <h4>添加超市</h4>\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-position=\"right\" label-width=\"130px\">\r\n        <el-form-item label=\"商铺名称：\" prop=\"shopName\">\r\n          <el-input v-model=\"form.shopName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"小超账号：\" prop=\"mobile\">\r\n          <el-input v-model=\"form.mobile\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"联系人：\" prop=\"name\">\r\n          <el-input v-model=\"form.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"手机号：\" prop=\"name\">\r\n          <el-input v-model=\"form.tel\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"地区：\" prop=\"area\">\r\n          <areaSelectCmp :area=\"form.area\" @childFn=\"onChild\"></areaSelectCmp>\r\n        </el-form-item>\r\n        <el-form-item label=\"详细地址：\" prop=\"adderss\">\r\n          <!-- form.adderss -->\r\n          <el-amap-search-box class=\"search-box\" :search-option=\"searchOption\" :on-search-result=\"onSearchResult\"></el-amap-search-box>\r\n          <el-amap vid=\"amapDemo\" :center=\"mapCenter\" :zoom=\"12\" class=\"amap-demo\" style=\"height: 300px; width: 600px\">\r\n            <el-amap-marker v-for=\"marker in markers\" :key=\"marker.id\" :position=\"marker\"></el-amap-marker>\r\n          </el-amap>\r\n        </el-form-item>\r\n        <el-form-item label=\"税号：\" prop=\"tax\">\r\n          <el-input v-model=\"form.tax\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"身份证：\" required>\r\n          <div class=\"identityCardUrl\">\r\n            <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onIdentityCardUrlPositive\" :show-file-list=\"false\">\r\n              <el-image v-if=\"identityCardUrlPositive\" :src=\"identityCardUrlPositive\" fit=\"contain\" class=\"avatar\"></el-image>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onIdentityCardUrlNegative\" :show-file-list=\"false\">\r\n              <el-image v-if=\"identityCardUrlNegative\" :src=\"identityCardUrlNegative\" fit=\"contain\" class=\"avatar\"></el-image>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </div>\r\n        </el-form-item>\r\n        <el-form-item label=\"营业执照：\" required>\r\n          <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onBusinessLicenseUrl\" :show-file-list=\"false\">\r\n            <el-image v-if=\"form.businessLicenseUrl\" :src=\"form.businessLicenseUrl\" fit=\"contain\" class=\"avatar\"></el-image>\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"卫生许可证：\" required>\r\n          <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onSanitaryOperationLicenseUrl\" :show-file-list=\"false\">\r\n            <el-image v-if=\"form.sanitaryOperationLicenseUrl\" :src=\"form.sanitaryOperationLicenseUrl\" fit=\"contain\" class=\"avatar\"></el-image>\r\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n          </el-upload>\r\n        </el-form-item>\r\n        <el-form-item label=\"门头照：\" required>\r\n          <div class=\"identityCardUrl\">\r\n            <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onDoorHeadUrl0\" :show-file-list=\"false\">\r\n              <el-image v-if=\"doorHeadUrl0\" :src=\"doorHeadUrl0\" fit=\"contain\" class=\"avatar\"></el-image>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onDoorHeadUrl1\" :show-file-list=\"false\">\r\n              <el-image v-if=\"doorHeadUrl1\" :src=\"doorHeadUrl1\" fit=\"contain\" class=\"avatar\"></el-image>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n            <el-upload class=\"avatar-uploader\" action=\"http-request\" :http-request=\"onDoorHeadUrl2\" :show-file-list=\"false\">\r\n              <el-image v-if=\"doorHeadUrl2\" :src=\"doorHeadUrl2\" fit=\"contain\" class=\"avatar\"></el-image>\r\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n            </el-upload>\r\n          </div>\r\n        </el-form-item>\r\n        <el-divider></el-divider>\r\n        <el-form-item>\r\n          <el-button class=\"inquire\" type=\"success\" style=\"width: 120px\" round @click=\"submitForm('form')\">提交</el-button>\r\n          <router-link to=\"/admin/addList\"><el-button type=\"danger\" style=\"width: 120px\" round>取消</el-button></router-link>\r\n        </el-form-item>\r\n      </el-form>\r\n    </LayoutBox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport areaSelectCmp from '@/components/area_select_cmp/index'\r\nimport LayoutBox from '@/components/LayoutBox/index'\r\n\r\nexport default {\r\n  name: 'SuperMarketAddAdd',\r\n\r\n  components: {\r\n    areaSelectCmp, LayoutBox\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      form: {\r\n        shopName: '', // 商家名称\r\n        name: '', // 联系人\r\n        tel: '', // 手机号\r\n        mobile: '', // 小超账号\r\n        area: '', // 地区\r\n        adderss: '', // 详细地址\r\n        tax: '', // 税号\r\n        identityCardUrl: '', // 身份证图片\r\n        businessLicenseUrl: '', // 营业执照\r\n        sanitaryOperationLicenseUrl: '', // 卫生许可证\r\n        doorHeadUrl: '' // 门头照\r\n      },\r\n      identityCardUrlPositive: '', // 身份证正面\r\n      identityCardUrlNegative: '', // 身份证背面\r\n      doorHeadUrl0: '', // 门头照\r\n      doorHeadUrl1: '', // 门头照\r\n      doorHeadUrl2: '', // 门头照\r\n      rules: {\r\n        shopName: [\r\n          { required: true, message: '请输入商铺名称', trigger: 'blur' }\r\n        ],\r\n        name: [\r\n          { required: true, message: '请输入联系人', trigger: 'blur' }\r\n        ],\r\n        tel: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' }\r\n        ],\r\n        mobile: [\r\n          { required: true, message: '请输入账号', trigger: 'blur' }\r\n        ],\r\n        area: [\r\n          { required: true, message: '请选择地区', trigger: 'blur' }\r\n        ],\r\n        adderss: [\r\n          { required: true, message: '请输入详细地址', trigger: 'blur' }\r\n        ],\r\n        tax: [\r\n          { required: true, message: '请输入税号', trigger: 'blur' }\r\n        ]\r\n      },\r\n      markers: [\r\n        [121.59996, 31.197646],\r\n        [121.40018, 31.197622],\r\n        [121.69991, 31.207649]\r\n      ],\r\n      searchOption: {\r\n        // city: '苏州',\r\n        citylimit: true\r\n      },\r\n      mapCenter: [121.59996, 31.197646],\r\n    }\r\n  },\r\n\r\n  beforeCreate () {\r\n  },\r\n\r\n  mounted () {\r\n  },\r\n\r\n  methods: {\r\n    // 从子组件获取的地区的值\r\n    onChild (e) {\r\n      let area = e[0] + ',' + e[1]\r\n      if (e.length === 3) {\r\n        area = area + ',' + e[2]\r\n      }\r\n      this.form.area = area\r\n    },\r\n    // 身份证正面\r\n    onIdentityCardUrlPositive (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.identityCardUrlPositive = res\r\n        })\r\n    },\r\n    // 身份证背面\r\n    onIdentityCardUrlNegative (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.identityCardUrlNegative = res\r\n        })\r\n    },\r\n    // 营业执照图片\r\n    onBusinessLicenseUrl (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.form.businessLicenseUrl = res\r\n        })\r\n    },\r\n    // 卫生许可证图片\r\n    onSanitaryOperationLicenseUrl (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.form.sanitaryOperationLicenseUrl = res\r\n        })\r\n    },\r\n    // 门头照0\r\n    onDoorHeadUrl0 (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.doorHeadUrl0 = res\r\n        })\r\n    },\r\n    // 门头照1\r\n    onDoorHeadUrl1 (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.doorHeadUrl1 = res\r\n        })\r\n    },\r\n    // 门头照2\r\n    onDoorHeadUrl2 (params) {\r\n      this._uploadSectionFile(params)\r\n        .then((res) => {\r\n          this.doorHeadUrl2 = res\r\n        })\r\n    },\r\n    // 点击提交表单\r\n    submitForm (formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          if (!this.identityCardUrlPositive) {\r\n            this.$message.error('请选择身份证正面图片')\r\n            return\r\n          }\r\n          if (!this.identityCardUrlNegative) {\r\n            this.$message.error('请选择身份证背面图片')\r\n            return\r\n          }\r\n          if (!this.form.businessLicenseUrl) {\r\n            this.$message.error('请选择营业执照图片')\r\n            return\r\n          }\r\n          if (!this.form.sanitaryOperationLicenseUrl) {\r\n            this.$message.error('请选择卫生许可证图片')\r\n            return\r\n          }\r\n          this.form.doorHeadUrl = this.doorHeadUrl0 + ',' + this.doorHeadUrl1 + ',' + this.doorHeadUrl2\r\n          this.form.identityCardUrl = this.identityCardUrlPositive + ',' + this.identityCardUrlNegative\r\n          if (!this.form.doorHeadUrl.replace(/,/g, '')) {\r\n            this.$message.error('请选择门头照')\r\n            return\r\n          }\r\n          let data = this.form\r\n          data.latitude = this.mapCenter[1]\r\n          data.longitude = this.mapCenter[0]\r\n          data.approvalStatus = 1\r\n          data.shopType = 2\r\n          this._addShop(data)\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    },\r\n    // 选择详细地址经纬度\r\n    onSearchResult (pois) {\r\n      let latSum = 0\r\n      let lngSum = 0\r\n      console.log('pois', pois)\r\n      if (pois.length > 0) {\r\n        pois.forEach(poi => {\r\n          let { lng, lat } = poi\r\n          lngSum += lng\r\n          latSum += lat\r\n          this.markers.push([poi.lng, poi.lat])\r\n        })\r\n\r\n        let center = {\r\n          lng: lngSum / pois.length,\r\n          lat: latSum / pois.length\r\n        }\r\n        this.form.adderss = pois[0].name\r\n        this.mapCenter = [center.lng, center.lat]\r\n      }\r\n    },\r\n\r\n    // api接口\r\n    // 上传图片\r\n    _uploadSectionFile (params) {\r\n      const isJPG = params.file.type === 'image/jpeg' || params.file.type === 'image/png'\r\n      const isLt2M = params.file.size / 1024 / 1024 < 10\r\n      if (!isJPG) {\r\n        this.$message.error('上传图片只能是 JPG/PNG 格式!')\r\n        return\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传图片大小不能超过 10MB!')\r\n        return\r\n      }\r\n      const formData = new FormData()\r\n      formData.append('file', params.file)\r\n      // this._upload(formData)\r\n      return this.$http.post('/common/oss/uploadFile', formData)\r\n        .then((res) => {\r\n          return res.data.data.webUrl\r\n        })\r\n    },\r\n    // 添加店铺\r\n    _addShop (data) {\r\n      this.$http.post('/woho/shop/manage/insert', data)\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$message.success('添加成功')\r\n            this.$router.push('/admin/addList')\r\n          } else {\r\n            this.$message.error(res.data.msg)\r\n          }\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .search-box {\r\n    border: 1px solid rgb(233, 230, 230);\r\n    height: 40px;\r\n  }\r\n  .identityCardUrl{\r\n    display: flex;\r\n    .identityCardUrl_box{\r\n      width: 178px;\r\n    }\r\n  }\r\n  .avatar-uploader .el-upload .el-icon-plus{\r\n    border: 1px dashed #d9d9d9 !important;\r\n    border-radius: 6px;\r\n    cursor: pointer;\r\n    position: relative;\r\n    // overflow: hidden;\r\n  }\r\n  .avatar-uploader .el-upload:hover {\r\n    border-color: #409EFF;\r\n  }\r\n  .avatar-uploader-icon {\r\n    font-size: 28px;\r\n    color: #8c939d;\r\n    width: 178px;\r\n    height: 178px;\r\n    line-height: 178px;\r\n    text-align: center;\r\n  }\r\n  .avatar {\r\n    width: 178px;\r\n    height: 178px;\r\n    display: block;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./add_add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./add_add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./add_add.vue?vue&type=template&id=8d807eec&scoped=true&\"\nimport script from \"./add_add.vue?vue&type=script&lang=js&\"\nexport * from \"./add_add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./add_add.vue?vue&type=style&index=0&id=8d807eec&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8d807eec\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}