(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3db85324"],{"2c54":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("layout-box",{attrs:{one:"角色管理",two:"分配菜单"}},[r("div",{staticStyle:{"margin-top":"20px"}},[r("el-tree",{ref:"tree",attrs:{align:"center",data:e.menuTreeList,props:e.defaultProps,"node-key":"id","show-checkbox":"","highlight-current":"","default-expand-all":"","default-checked-keys":e.defKeys}})],1),r("div",{staticStyle:{"margin-top":"20px"},attrs:{align:"center"}},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave()}}},[e._v("保存")]),r("el-button",{on:{click:function(t){return e.handleClear()}}},[e._v("清空")])],1)])],1)},i=[],o=(r("51d7"),r("957b"),r("4c09")),a=(r("6a61"),r("2e91")),c={data:function(){return{defKeys:[],queryInfo:{pageNo:1,pageSize:10},defaultProps:{children:"childList",label:"menuName"},menuTreeList:[],roleId:null,id:null,jurisdiction:[{roleId:"",menuId:""}]}},created:function(){this.roleId=this.$route.query.roleId,this.fetch(),this.treeList()},methods:{treeList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/woho/sys/menu/treeMenu",e.id);case 2:r=t.sent,e.menuTreeList=r.data.data;case 4:case"end":return t.stop()}}),t)})))()},fetch:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/woho/sys/menu/treeMenuByRoleId/".concat(t.roleId));case 2:if(r=e.sent,n=r.data.data,null!=n&&n.length>0)for(i=0;i<n.length;i++)t._childList(n[i]);case 5:case"end":return e.stop()}}),e)})))()},handleClear:function(){this.$refs.tree.setCheckedKeys([])},handleSave:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r,n,i,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.$refs.tree.getCheckedKeys(),n=t.$refs.tree.getHalfCheckedKeys(),i=[].concat(Object(o["a"])(r),Object(o["a"])(n)),a=i.map((function(e){return{roleId:t.roleId,menuId:e}})),t.jurisdiction=a,e.next=7,t.$http.post("/woho/sys/menuRole/insert",t.jurisdiction);case 7:c=e.sent,200!==c.data.code?t.$message.error("分配失败"):(t.$router.push("/role"),t.$message.success("分配成功"));case 9:case"end":return e.stop()}}),e)})))()},_childList:function(e){var t=this;if(0!==e.childList.length)return e.childList.map((function(e){return t._childList(e)}));this.defKeys=[e.id].concat(Object(o["a"])(this.defKeys))}}},s=c,u=r("5d22"),l=Object(u["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports},3098:function(e,t,r){"use strict";var n=r("bbcf"),i=r("6921"),o=r("4c16"),a=r("631e"),c=r("2fb1"),s=r("60ce").f,u=r("7e26"),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var d={},f=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof f?new l(e):void 0===e?l():l(e);return""===e&&(d[t]=!0),t};u(f,l);var h=f.prototype=l.prototype;h.constructor=f;var p=h.toString,b="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;s(h,"description",{configurable:!0,get:function(){var e=c(this)?this.valueOf():this,t=p.call(e);if(a(d,e))return"";var r=b?t.slice(7,-1):t.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:f})}},"4c09":function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r("ed16");function i(e){if(Array.isArray(e))return Object(n["a"])(e)}r("f869"),r("3098"),r("eb14"),r("3e68"),r("4d20"),r("2181"),r("659e");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var a=r("69a9");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){return i(e)||o(e)||Object(a["a"])(e)||c()}},"69a9":function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));r("3e68"),r("eb27"),r("1e6a"),r("4d20"),r("8d56"),r("2181");var n=r("ed16");function i(e,t){if(e){if("string"===typeof e)return Object(n["a"])(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n["a"])(e,t):void 0}}},eb14:function(e,t,r){var n=r("41ba");n("iterator")},ed16:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-3db85324.c20db591.js.map