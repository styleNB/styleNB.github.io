(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3f1481a"],{b4e6:function(e,t,r){"use strict";var n=r("bbcf"),o=r("5501"),a=r("285a"),s=r("5152"),u=r("529d"),c=r("5c1e"),i=r("7389"),l=r("780c"),d=r("e9a9"),p=l("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,b=9007199254740991,g="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var r,n,l,d,p,m,w=u(this),k=s(w.length),v=o(e,k),x=arguments.length;if(0===x?r=n=0:1===x?(r=0,n=k-v):(r=x-2,n=h(f(a(t),0),k-v)),k+r-n>b)throw TypeError(g);for(l=c(w,n),d=0;d<n;d++)p=v+d,p in w&&i(l,d,w[p]);if(l.length=n,r<n){for(d=v;d<k-n;d++)p=d+n,m=d+r,p in w?w[m]=w[p]:delete w[m];for(d=k;d>k-n+r;d--)delete w[d-1]}else if(r>n)for(d=k-n;d>v;d--)p=d+n-1,m=d+r-1,p in w?w[m]=w[p]:delete w[m];for(d=0;d<r;d++)w[d+v]=arguments[d+2];return w.length=k-n+r,l}})},f5f0:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Layout-box",{attrs:{one:"直播间添加商品"}},[r("el-form",{attrs:{model:e.addForm,size:"small"}},[r("el-form-item",{attrs:{label:"选择商品："}},[r("el-select",{attrs:{filterable:"",placeholder:"请选择"},on:{change:e.onSelectGoods},model:{value:e.addForm.produId,callback:function(t){e.$set(e.addForm,"produId",t)},expression:"addForm.produId"}},e._l(e.goodsList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),e.addForm.goodsData.skus.length?r("el-form-item",{attrs:{label:"规格："}},[r("el-table",{attrs:{data:e.addForm.goodsData.skus}},[e._l(e.addForm.goodsData.items,(function(t,n){return r("el-table-column",{key:n,attrs:{label:t.keyName},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.attrSymbolNo,callback:function(r){e.$set(t.row,"attrSymbolNo",r)},expression:"scope.row.attrSymbolNo"}})]}}],null,!0)})})),r("el-table-column",{attrs:{label:"原价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.originalPrice,callback:function(r){e.$set(t.row,"originalPrice",r)},expression:"scope.row.originalPrice"}})]}}],null,!1,1190993437)}),r("el-table-column",{attrs:{label:"现价"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.price,callback:function(r){e.$set(t.row,"price",r)},expression:"scope.row.price"}})]}}],null,!1,875317540)}),r("el-table-column",{attrs:{label:"库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{model:{value:t.row.stock,callback:function(r){e.$set(t.row,"stock",r)},expression:"scope.row.stock"}})]}}],null,!1,3361012425)}),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{on:{click:function(r){return e.onDelete(t)}}},[e._v("删除")])]}}],null,!1,3368291910)})],2)],1):e._e(),r("el-form-item",[r("el-button",{attrs:{size:"small"},on:{click:e.onSubmit}},[e._v("提交")])],1)],1)],1)],1)},o=[],a=(r("51d7"),r("b4e6"),r("6a61"),r("2e91")),s=r("1b00"),u={name:"liveRoomAddGoods",components:{LayoutBox:s["a"]},data:function(){return{goodsList:[],addForm:{produId:"",goodsData:{skus:[]}}}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.apiProductQuery();case 2:case"end":return t.stop()}}),t)})))()},methods:{onSelectGoods:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.apiProductFindById(e);case 2:case"end":return r.stop()}}),r)})))()},onDelete:function(e){this.addForm.goodsData.skus.splice(e.$index,1)},onSubmit:function(){var e={itemSkus:this.addForm.goodsData.skus,produId:this.addForm.goodsData.id};this.apiInsertAnchorProduct(e)},apiProductQuery:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get(e.$api.queryAnchorShopProduct);case 2:r=t.sent,e.goodsList=r.data.data;case 4:case"end":return t.stop()}}),t)})))()},apiProductFindById:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.get("".concat(t.$api.productFindById,"?id=").concat(e,"&type=",2));case 2:n=r.sent,t.addForm.goodsData=n.data;case 4:case"end":return r.stop()}}),r)})))()},apiInsertAnchorProduct:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.$http.put(t.$api.insertAnchorProduct,e);case 2:n=r.sent,n.data.success?(t.$message.success("保存成功"),t.$router.go(-1)):t.$message.error(n.data.msg);case 4:case"end":return r.stop()}}),r)})))()}}},c=u,i=r("5d22"),l=Object(i["a"])(c,n,o,!1,null,"0764b015",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-c3f1481a.2be38abd.js.map