(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4387bcb2"],{"0c9c":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},3098:function(t,e,n){"use strict";var o=n("bbcf"),r=n("6921"),i=n("4c16"),a=n("631e"),s=n("2fb1"),c=n("60ce").f,u=n("7e26"),d=i.Symbol;if(r&&"function"==typeof d&&(!("description"in d.prototype)||void 0!==d().description)){var l={},h=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof h?new d(t):void 0===t?d():d(t);return""===t&&(l[e]=!0),e};u(h,d);var p=h.prototype=d.prototype;p.constructor=h;var f=p.toString,m="Symbol(test)"==String(d("test")),g=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(a(l,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:h})}},"4c09":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var o=n("ed16");function r(t){if(Array.isArray(t))return Object(o["a"])(t)}n("f869"),n("3098"),n("eb14"),n("3e68"),n("4d20"),n("2181"),n("659e");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var a=n("69a9");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return r(t)||i(t)||Object(a["a"])(t)||s()}},"69a9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("3e68"),n("eb27"),n("1e6a"),n("4d20"),n("8d56"),n("2181");var o=n("ed16");function r(t,e){if(t){if("string"===typeof t)return Object(o["a"])(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(o["a"])(t,e):void 0}}},7716:function(t,e,n){},"834d":function(t,e,n){"use strict";n("7716")},a8dc:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"d",(function(){return i})),n.d(e,"r",(function(){return a})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return c})),n.d(e,"j",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"p",(function(){return l})),n.d(e,"k",(function(){return b})),n.d(e,"c",(function(){return $})),n.d(e,"z",(function(){return S})),n.d(e,"A",(function(){return _})),n.d(e,"m",(function(){return k})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return p})),n.d(e,"x",(function(){return f})),n.d(e,"y",(function(){return m})),n.d(e,"w",(function(){return g})),n.d(e,"f",(function(){return v})),n.d(e,"B",(function(){return y})),n.d(e,"g",(function(){return x})),n.d(e,"u",(function(){return A})),n.d(e,"D",(function(){return C})),n.d(e,"t",(function(){return w})),n.d(e,"h",(function(){return P})),n.d(e,"i",(function(){return I})),n.d(e,"s",(function(){return R})),n.d(e,"l",(function(){return L})),n.d(e,"C",(function(){return T})),n.d(e,"v",(function(){return O}));n("51d7"),n("6a22"),n("80cf"),n("dfce");var o=n("4c09"),r={methods:{apiInsertMerActivity:function(){var t=this.form;return t.rpl=this.goodsAndActivity,t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/insertMerActivity",t).then((function(t){return t}))},apiUpdateMerActivity:function(){var t=this.form;return t.rpl=[].concat(Object(o["a"])(this.goodsAndActivity),Object(o["a"])(this.oldGoodsAndActivity)),t=JSON.parse(JSON.stringify(t).replace(/originalPrice/g,"price")),t.activeType=this.activeType,t.type=1,this.$http.post("/woho/activity/manage/updateMerActivity",t).then((function(t){return t}))},apiFindById:function(){var t=this;this.$http.post("/woho/activity/manage/findByActivityIdGetProduct/".concat(this.$route.query.id)).then((function(e){t.form=e.data,t.oldGoodsAndActivity=e.data.rpl}))}}},i={methods:{apiProductQueryChoose:function(t){return this.$http.post("/woho/product/head/queryChoose",t).then((function(t){return t}))}}},a={methods:{productBatchVip:function(t){return this.$http.post("/woho/product/head/batchVip",t).then((function(t){return t}))}}},s={methods:{postAdd:function(t){return this.$http.post("/woho/post/add",t).then((function(t){return t}))}}},c={methods:{postEetPostRule:function(t){var e=t.no,n=t.size;t.search;return this.$http.get("/woho/post/getPostRule?no=".concat(e,"&size=").concat(n)).then((function(t){return t}))}}},u={methods:{getPostRule:function(t){return this.$http.get("/woho/post/getPostRule/".concat(t)).then((function(t){return t}))}}},d={methods:{postDelete:function(t){var e=t.ruleIds;return this.$http.get("/woho/post/delete/".concat(e)).then((function(t){return t}))}}},l={methods:{postEdit:function(t){return this.$http.post("/woho/post/edit",t).then((function(t){return t}))}}},h={methods:{adminPostFindById:function(t){return this.$http.post("/woho/post/query",t).then((function(t){return t}))}}},p={methods:{adminPostUpdate:function(t){return this.$http.post("/woho/post/update",t).then((function(t){return t}))}}},f={methods:{superGetCost:function(t){return this.$http.post("/woho/post/getCost",t).then((function(t){return t}))}}},m={methods:{superUpdateShopPostage:function(t){return this.$http.post("/woho/post/updateShopPostage",t).then((function(t){return t}))}}},g={methods:{superAddShopPostage:function(t){return this.$http.post("/woho/post/addShopPostage",t).then((function(t){return t}))}}},v={methods:{deleteAdvertising:function(t){return this.$http.get("/SmallProductCategory/deleteCategory?id=".concat(t)).then((function(t){return t}))}}},y={methods:{updateCategory:function(t){return this.$http.post("/SmallProductCategory/updateCategory",t).then((function(t){return t}))}}},b={methods:{getSmallParentCategory:function(t){return this.$http.post("/SmallProductCategory/getParentCategory",t).then((function(t){return t}))}}},w={methods:{queryParentNoPage:function(t){return this.$http.post("/SmallProductCategory/queryParentNoPage",t).then((function(t){return t}))}}},$={methods:{apiFindByIdAdvertising:function(t){return this.$http.get("/SmallProductCategory/findById/".concat(t.id)).then((function(t){return t}))}}},S={methods:{tradeAddTrade:function(t){return this.$http.post("/woho/trade/manage/addTrade",t).then((function(t){return t}))}}},_={methods:{tradeQueryList:function(t){return this.$http.post("/woho/trade/manage/queryList",t).then((function(t){return t}))}}},k={methods:{orderHeadFindById:function(t){return this.$http.post("/woho/order/head/findById/".concat(t)).then((function(t){return t}))}}},x={methods:{forgetPassword:function(t){return this.$http.post("/admin/forget-password",t).then((function(t){return t}))}}},A={methods:{queryRiders:function(t){return this.$Http24.get("/timely/courier/queryRiders/".concat(t)).then((function(t){return t}))}}},C={methods:{zhiDing:function(t){return this.$Http24.get("/timely/courier/zhiDing?id=".concat(t.selectRiderId,"&orderId=").concat(t.orderId,"&shopId=").concat(t.shopId)).then((function(t){return t}))}}},P={methods:{getCount:function(){return this.$http.get("/woho/sys/user/getCount").then((function(t){return t}))}}},I={methods:{getFeedBack:function(t){return this.$http.post("/woho/feedback/manage/getFeedBack",t).then((function(t){return t}))}}},R={methods:{quaryActivityType:function(t){return this.$http.get("/woho/activity/type/quaryActivityType",t).then((function(t){return t}))}}},L={methods:{insertActivityType:function(t){return this.$http.post("/woho/activity/type/insertActivityType",t).then((function(t){return t}))}}},T={methods:{updateRecom:function(t,e){return this.$http.get("woho/small/product/updateRecom/".concat(t,"/").concat(e)).then((function(t){return t}))}}},O={methods:{shopmanagequery:function(t){return this.$http.post("/woho/shop/manage/query",t).then((function(t){return t}))}}}},b4e6:function(t,e,n){"use strict";var o=n("bbcf"),r=n("5501"),i=n("285a"),a=n("5152"),s=n("529d"),c=n("5c1e"),u=n("7389"),d=n("780c"),l=n("e9a9"),h=d("splice"),p=l("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";o({target:"Array",proto:!0,forced:!h||!p},{splice:function(t,e){var n,o,d,l,h,p,y=s(this),b=a(y.length),w=r(t,b),$=arguments.length;if(0===$?n=o=0:1===$?(n=0,o=b-w):(n=$-2,o=m(f(i(e),0),b-w)),b+n-o>g)throw TypeError(v);for(d=c(y,o),l=0;l<o;l++)h=w+l,h in y&&u(d,l,y[h]);if(d.length=o,n<o){for(l=w;l<b-o;l++)h=l+o,p=l+n,h in y?y[p]=y[h]:delete y[p];for(l=b;l>b-o+n;l--)delete y[l-1]}else if(n>o)for(l=b-o;l>w;l--)h=l+o-1,p=l+n-1,h in y?y[p]=y[h]:delete y[p];for(l=0;l<n;l++)y[l+w]=arguments[l+2];return y.length=b-o+n,d}})},dfce:function(t,e,n){"use strict";var o=n("ebfe"),r=n("708d"),i=n("9ba3"),a=n("0c9c"),s=n("97d7");o("search",1,(function(t,e,n){return[function(e){var n=i(this),o=void 0==e?void 0:e[t];return void 0!==o?o.call(e,n):new RegExp(e)[t](String(n))},function(t){var o=n(e,t,this);if(o.done)return o.value;var i=r(t),c=String(this),u=i.lastIndex;a(u,0)||(i.lastIndex=0);var d=s(i,c);return a(i.lastIndex,u)||(i.lastIndex=u),null===d?-1:d.index}]}))},eb14:function(t,e,n){var o=n("41ba");o("iterator")},ed16:function(t,e,n){"use strict";function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}n.d(e,"a",(function(){return o}))},f033:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("LayoutBox",{attrs:{one:"超市商品管理"}},[n("el-form",{ref:"form",attrs:{model:t.form,size:"mini",inline:""}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),n("el-form-item",{attrs:{label:"活动分类"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.activityType,callback:function(e){t.$set(t.form,"activityType",e)},expression:"form.activityType"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"常规",value:"2"}}),n("el-option",{attrs:{label:"秒杀",value:"0"}}),n("el-option",{attrs:{label:"特惠",value:"1"}}),n("el-option",{attrs:{label:"预售",value:"10"}})],1)],1),n("el-form-item",{attrs:{label:"上架状态"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}},[n("el-option",{attrs:{label:"全部",value:""}}),n("el-option",{attrs:{label:"在售",value:"1"}}),n("el-option",{attrs:{label:"已售罄",value:"2"}}),n("el-option",{attrs:{label:"已下架",value:"0"}})],1)],1),n("el-form-item",{attrs:{label:"商品分类"}},[n("el-cascader",{attrs:{options:t.sortList},on:{change:t.handleChange},model:{value:t.form.sort,callback:function(e){t.$set(t.form,"sort",e)},expression:"form.sort"}})],1),n("el-form-item",[n("el-button",{staticClass:"inquire1",attrs:{type:"success"},on:{click:t.onSearch}},[t._v("查询")]),n("el-button",{on:{click:function(e){return t.resetForm("form")}}},[t._v("重置")])],1)],1),n("div",{staticClass:"btn_box"},[n("router-link",{attrs:{to:"/superMarket/goodsAdd"}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-plus",size:"mini"}},[t._v("新增商品")])],1),n("div",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:t.onSetRecommended}},[t._v("设为推荐")]),n("el-button",{attrs:{size:"mini"},on:{click:t.onCancelRecommended}},[t._v("取消推荐")])],1)],1),n("el-table",{ref:"goods",attrs:{data:t.goodsList,height:"430"}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{label:"商品信息",align:"center",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"shopInfo_box"},[n("el-image",{staticClass:"img",attrs:{src:e.row.imageUrl,fit:"cover"}}),n("span",{staticClass:"text"},[t._v(t._s(e.row.name))])],1)]}}])}),n("el-table-column",{attrs:{prop:"originalPrice",label:"原价",align:"center"}}),n("el-table-column",{attrs:{prop:"price",label:"现价",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.price?n("p",[t._v(t._s(e.row.price))]):n("p",[t._v(t._s(e.row.originalPrice))])]}}])}),n("el-table-column",{attrs:{label:"活动分类",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.activityType?n("span",[t._v("秒杀")]):2===e.row.activityType?n("span",[t._v("拼团")]):n("span",[t._v("普通")])]}}])}),n("el-table-column",{attrs:{prop:"categoryName",label:"品类",align:"center"}}),n("el-table-column",{attrs:{prop:"saleAmount",label:"销量",align:"center"}}),n("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center","show-overflow-tooltip":""}}),n("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.state?n("span",{staticStyle:{color:"#1da827"}},[t._v("已下架")]):2===e.row.state?n("span",{staticStyle:{color:"#e68926"}},[t._v("已售罄")]):1===e.row.state?n("span",{staticStyle:{color:"#de2424"}},[t._v("在售")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"推荐",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.recommended?n("span",[t._v("已推荐")]):t._e()]}}])}),n("el-table-column",{attrs:{label:"操作",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{staticStyle:{color:"#5bd9be"},attrs:{type:"text"},on:{click:function(n){return t.onUpdate(e)}}},[t._v("编辑")]),0===e.row.state?n("el-button",{attrs:{type:"text"},on:{click:function(n){return t.onUp(e)}}},[t._v("上架")]):1===e.row.state?n("el-button",{staticStyle:{color:"#fb8821"},attrs:{type:"text"},on:{click:function(n){return t.onDown(e)}}},[t._v("下架")]):t._e(),n("el-button",{staticStyle:{color:"#e02f2f"},attrs:{type:"text"},on:{click:function(n){return t.onDelete(e)}}},[t._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.goodsTotal},on:{"current-change":t.handleCurrentChange}})],1)],1)},r=[],i=(n("51d7"),n("3f4b"),n("7f64"),n("957b"),n("b4e6"),n("6a61"),n("2e91")),a=n("1b00"),s=n("a8dc"),c={name:"Goods",components:{LayoutBox:a["a"]},mixins:[s["t"],s["C"]],data:function(){return{value:"",goodsList:[],goodsTotal:0,pageNo:1,form:{},sortList:[]}},created:function(){this.apiGetGoodsList(),this.apiGetSortList()},methods:{handleCurrentChange:function(t){this.pageNo=t,this.apiGetGoodsList()},onUp:function(t){this.apiUpDown(t,1)},onDown:function(t){this.apiUpDown(t,0)},onUpdate:function(t){var e=this.$router.resolve({path:"/superMarket/goodsAdd",query:{id:t.row.id}}),n=e.href;window.open(n)},onContent:function(t){var e=this.$router.resolve({path:"/superMarket/goodsFindId",query:{id:t.row.id}}),n=e.href;window.open(n)},onDelete:function(t){this.apiDelete(t)},onSearch:function(){this.apiGetGoodsList()},resetForm:function(t){this.form={}},handleChange:function(t){console.log("选择分类",t[2].id)},onSetRecommended:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$refs.goods.selection.map((function(t){return t.id})),e.next=3,t.apiIsRecommended(n.join(","),1);case 3:case"end":return e.stop()}}),e)})))()},onCancelRecommended:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.$refs.goods.selection.map((function(t){return t.id})),e.next=3,t.apiIsRecommended(n.join(","),0);case 3:case"end":return e.stop()}}),e)})))()},apiGetGoodsList:function(){var t=this,e={type:1,pageNo:this.pageNo};this.form.sort&&(this.form.categoryId=this.form.sort[2].id),Object.assign(e,this.form),this.$http.post("/woho/small/product/query",e).then((function(e){e.data.success&&(t.goodsList=e.data.data.list,t.goodsTotal=e.data.data.total)}))},apiUpDown:function(t,e){var n=this;this.$http.post("/woho/small/product/smallUpOrDown/".concat(t.row.id,"/").concat(e)).then((function(o){if(o.data.success)switch(t.row.state=e,e){case 0:n.$message.success("下架成功");break;case 1:n.$message.success("上架成功");break}else n.$message.error(o.data.msg)}))},apiDelete:function(t){var e=this;this.$http.delete("/woho/product/head/delete/".concat(t.row.id)).then((function(n){n.data.success?(e.goodsList.splice(t.$index,1),e.$message.success("删除成功")):e.$message.error(n.data.msg)}))},apiGetSortList:function(){var t=this,e=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.queryParentNoPage({}).then((function(n){e.close(),n.data.success&&(t.sortList=t._sortRecursive(1,"0",n.data.data,3),console.log("this.sortList",t.sortList))}))},_sortRecursive:function(t,e,n,o){var r=this;if(o<t)return!1;var i="level"+t;return this[i]=[],this[i]=n.filter((function(n){return n.level===t&&n.parentId===e})),this[i].map((function(e){return{value:e,label:e.categoryName,children:r._sortRecursive(t+1,e.id,n,o)}}))},apiIsRecommended:function(t,e){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function o(){var r;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,n.updateRecom(t,e);case 2:r=o.sent,r.data.success?(n.$message.success("操作成功"),n.apiGetGoodsList()):n.$message.error(r.data.msg);case 4:case"end":return o.stop()}}),o)})))()}}},u=c,d=(n("834d"),n("5d22")),l=Object(d["a"])(u,o,r,!1,null,"6a10e73b",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-4387bcb2.2e500f04.js.map