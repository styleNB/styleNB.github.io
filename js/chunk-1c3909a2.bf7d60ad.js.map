{"version":3,"sources":["webpack:///./src/mixins/event.js","webpack:///./node_modules/_core-js@3.8.2@core-js/modules/es.array.splice.js","webpack:///./src/views/User/Users.vue?9e73","webpack:///src/views/User/Users.vue","webpack:///./src/views/User/Users.vue?eb52","webpack:///./src/views/User/Users.vue"],"names":["MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL","methods","addAll","successCut","errCut","i","this","$refs","AddGoodsCmp","$data","multipleSelection","length","goodsAndActivity","includes","prodId","id","push","$notify","error","title","message","$message","success","dialogVisible","handleCurrentChange","onOldUpdate","scope","oldUpdateIndex","$index","onUpdate","updateIndex","onOldSave","onSave","onDelete","splice","onAddGoods","MIXINS_UPLOADFILE_EVNET","uploadFile","params","formData","_uploadFile","$http","post","then","res","data","webUrl","isJPG","file","type","isLt2M","size","FormData","append","MIXINS_VALIDATION_NUMBER","_validationNumber","obj","replace","_verifyNumber","_validationMoney","MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT","samllProdId","MIXINS_EXPORT2EXCEL_EVNET","_export2Excel","tableData","tHeader","filterVal","require","export_json_to_excel","formatJson","jsonData","map","v","j","$","toAbsoluteIndex","toInteger","toLength","toObject","arraySpeciesCreate","createProperty","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","ACCESSORS","0","1","max","Math","min","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_LENGTH_EXCEEDED","target","proto","forced","start","deleteCount","insertCount","actualDeleteCount","A","k","from","to","O","len","actualStart","argumentsLength","arguments","TypeError","render","_vm","_h","$createElement","_c","_self","attrs","staticClass","_v","staticStyle","on","$event","handleSearchList","handleResetSearch","export2Excel","queryInfo","fetch","model","value","callback","$$v","$set","expression","searchTime","addDialogVisible","userlist","scopedSlots","_u","key","fn","_s","row","roleName","handleStatusChange","showEditDialog","removeUserById","showSetRole","pageNo","pageSize","total","handleSizeChange","addDialogClosed","ref","addForm","addFormRules","_l","item","label","userType","_e","slot","addUser","editDialogVisible","editDialogClosed","editForm","editFormRules","items","editUserInfo","setRoleDialogVisible","setrole","user","loginName","rolesitem","saveRoleInfo","staticRenderFns","name","mixins","checkMobile","regMobile","test","cb","Error","statusOptions","password","mobile","enableStatus","isVip","publishStatusOptions","Object","assign","defaultListQuery","userId","rolesLsit","roleId","userroName","sdas","watch","beginDate","newVal","endDate","newSize","newPage","addFormRef","resetFields","editFormRef","validate","component"],"mappings":"0VAAMA,EAAsC,CAK1CC,QAAS,CAEPC,OAFO,WAKL,IAFA,IAAIC,EAAa,EACbC,EAAS,EACJC,EAAI,EAAGA,EAAIC,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBC,OAAQN,IACrEC,KAAKM,iBAAiBC,SAASP,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,IAChFD,KAEAD,IACAG,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,GAAGS,OAASR,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,GAAGU,GAC7GT,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,GAAGU,GAAK,GACvDT,KAAKM,iBAAiBI,KAAKV,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,KAG/D,IAAXD,GACFE,KAAKW,QAAQC,MAAM,CACjBC,MAAO,KACPC,QAAS,IAAF,OAAMhB,EAAN,UAGQ,IAAfD,IACFG,KAAKe,SAASC,QAAd,WAA0BnB,EAA1B,UACAG,KAAKiB,eAAgB,IAIzBC,oBA3BO,aA+BPC,YA/BO,SA+BMC,GACXpB,KAAKqB,eAAiBD,EAAME,QAG9BC,SAnCO,SAmCGH,GACRpB,KAAKwB,YAAcJ,EAAME,QAG3BG,UAvCO,WAwCLzB,KAAKqB,eAAiB,IAGxBK,OA3CO,SA2CAN,GACLpB,KAAKwB,YAAc,IAGrBG,SA/CO,SA+CEP,GACPpB,KAAKM,iBAAiBsB,OAAOR,EAAME,OAAQ,IAG7CO,WAnDO,WAoDL7B,KAAKiB,eAAgB,KA0BrBa,EAA0B,CAC9BnC,QAAS,CAEPoC,WAFO,SAEKC,GACV,IAAIC,EAAWjC,KAAKkC,YAAYF,GAChC,GAAIC,EACF,OAAOjC,KAAKmC,MAAMC,KAAK,yBAA0BH,GAAUI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKA,KAAKC,WAIzFN,YATO,SASMF,GACX,IAAMS,EAA6B,eAArBT,EAAOU,KAAKC,MAA8C,cAArBX,EAAOU,KAAKC,KACzDC,EAASZ,EAAOU,KAAKG,KAAO,KAAO,KAAO,GAChD,IAAKJ,EAEH,OADAzC,KAAKe,SAASH,MAAM,0BACb,EAET,IAAKgC,EAEH,OADA5C,KAAKe,SAASH,MAAM,uBACb,EAET,IAAMqB,EAAW,IAAIa,SAErB,OADAb,EAASc,OAAO,OAAQf,EAAOU,MACxBT,KASPe,EAA2B,CAC/BrD,QAAS,CAEPsD,kBAFO,SAEYC,GAKjB,OAJAA,EAAMA,EAAIC,QAAQ,UAAW,IAC7BD,EAAMA,EAAIC,QAAQ,OAAQ,IAC1BD,EAAMA,EAAIC,QAAQ,UAAW,KAC7BD,EAAMA,EAAIC,QAAQ,IAAK,OAAOA,QAAQ,MAAO,IAAIA,QAAQ,MAAO,KACzDD,GAGTE,cAVO,SAUQF,GAEb,OADAA,EAAMA,EAAIC,QAAQ,SAAU,IACrBD,GAGTG,iBAfO,SAeWH,GAQhB,OAPAA,EAAMA,EAAIC,QAAQ,UAAW,IAC7BD,EAAMA,EAAIC,QAAQ,aAAc,IAChCD,EAAMA,EAAIC,QAAQ,UAAW,KAC7BD,EAAMA,EAAIC,QAAQ,IAAK,OACvBD,EAAMA,EAAIC,QAAQ,MAAO,IACzBD,EAAMA,EAAIC,QAAQ,MAAO,KACzBD,EAAMA,EAAIC,QAAQ,oBAAqB,SAChCD,KAKPI,EAAkD,CAItD3D,QAAS,CAEPC,OAFO,WAKL,IAFA,IAAIC,EAAa,EACbC,EAAS,EACJC,EAAI,EAAGA,EAAIC,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBC,OAAQN,IACrEC,KAAKM,iBAAiBC,SAASP,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,IAChFD,KAEAD,IACAG,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,GAAGwD,YAAcvD,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,GAAGU,GAClHT,KAAKM,iBAAiBI,KAAKV,KAAKC,MAAMC,YAAYC,MAAMC,kBAAkBL,KAG/D,IAAXD,GACFE,KAAKW,QAAQC,MAAM,CACjBC,MAAO,KACPC,QAAS,IAAF,OAAMhB,EAAN,UAGQ,IAAfD,IACFG,KAAKe,SAASC,QAAd,WAA0BnB,EAA1B,UACAG,KAAKiB,eAAgB,IAIzBC,oBA1BO,aA8BPC,YA9BO,SA8BMC,GACXpB,KAAKqB,eAAiBD,EAAME,QAG9BC,SAlCO,SAkCGH,GACRpB,KAAKwB,YAAcJ,EAAME,QAG3BG,UAtCO,WAuCLzB,KAAKqB,eAAiB,IAGxBK,OA1CO,SA0CAN,GACLpB,KAAKwB,YAAc,IAGrBG,SA9CO,SA8CEP,GACPpB,KAAKM,iBAAiBsB,OAAOR,EAAME,OAAQ,IAG7CO,WAlDO,WAmDL7B,KAAKiB,eAAgB,KASrBuC,EAA4B,CAChC7D,QAAS,CACP8D,cADO,SACQC,EAAWC,EAASC,GAAW,WAC5CC,kCAAyB,MACUA,EAAQ,QAAjCC,EADe,EACfA,qBAEFvB,EAAO,EAAKwB,WAAWH,EAAWF,GACxCI,EAAqBH,EAASpB,EAAM,OAJtC,2BAOFwB,WATO,SASKH,EAAWI,GACrB,OAAOA,EAASC,KAAI,SAAAC,GAAC,OAAIN,EAAUK,KAAI,SAAAE,GAAC,OAAID,EAAEC,a,kCC1NpD,IAAIC,EAAI,EAAQ,QACZC,EAAkB,EAAQ,QAC1BC,EAAY,EAAQ,QACpBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAqB,EAAQ,QAC7BC,EAAiB,EAAQ,QACzBC,EAA+B,EAAQ,QACvCC,EAA0B,EAAQ,QAElCC,EAAsBF,EAA6B,UACnDG,EAAiBF,EAAwB,SAAU,CAAEG,WAAW,EAAMC,EAAG,EAAGC,EAAG,IAE/EC,EAAMC,KAAKD,IACXE,EAAMD,KAAKC,IACXC,EAAmB,iBACnBC,EAAkC,kCAKtClB,EAAE,CAAEmB,OAAQ,QAASC,OAAO,EAAMC,QAASZ,IAAwBC,GAAkB,CACnFlD,OAAQ,SAAgB8D,EAAOC,GAC7B,IAIIC,EAAaC,EAAmBC,EAAGC,EAAGC,EAAMC,EAJ5CC,EAAI1B,EAASxE,MACbmG,EAAM5B,EAAS2B,EAAE7F,QACjB+F,EAAc/B,EAAgBqB,EAAOS,GACrCE,EAAkBC,UAAUjG,OAWhC,GATwB,IAApBgG,EACFT,EAAcC,EAAoB,EACL,IAApBQ,GACTT,EAAc,EACdC,EAAoBM,EAAMC,IAE1BR,EAAcS,EAAkB,EAChCR,EAAoBT,EAAIF,EAAIZ,EAAUqB,GAAc,GAAIQ,EAAMC,IAE5DD,EAAMP,EAAcC,EAAoBR,EAC1C,MAAMkB,UAAUjB,GAGlB,IADAQ,EAAIrB,EAAmByB,EAAGL,GACrBE,EAAI,EAAGA,EAAIF,EAAmBE,IACjCC,EAAOI,EAAcL,EACjBC,KAAQE,GAAGxB,EAAeoB,EAAGC,EAAGG,EAAEF,IAGxC,GADAF,EAAEzF,OAASwF,EACPD,EAAcC,EAAmB,CACnC,IAAKE,EAAIK,EAAaL,EAAII,EAAMN,EAAmBE,IACjDC,EAAOD,EAAIF,EACXI,EAAKF,EAAIH,EACLI,KAAQE,EAAGA,EAAED,GAAMC,EAAEF,UACbE,EAAED,GAEhB,IAAKF,EAAII,EAAKJ,EAAII,EAAMN,EAAoBD,EAAaG,WAAYG,EAAEH,EAAI,QACtE,GAAIH,EAAcC,EACvB,IAAKE,EAAII,EAAMN,EAAmBE,EAAIK,EAAaL,IACjDC,EAAOD,EAAIF,EAAoB,EAC/BI,EAAKF,EAAIH,EAAc,EACnBI,KAAQE,EAAGA,EAAED,GAAMC,EAAEF,UACbE,EAAED,GAGlB,IAAKF,EAAI,EAAGA,EAAIH,EAAaG,IAC3BG,EAAEH,EAAIK,GAAeE,UAAUP,EAAI,GAGrC,OADAG,EAAE7F,OAAS8F,EAAMN,EAAoBD,EAC9BE,M,yCCnEX,IAAIU,EAAS,WAAa,IAAIC,EAAIzG,KAAS0G,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,aAAa,CAACE,MAAM,CAAC,IAAM,OAAO,IAAM,SAAS,CAACF,EAAG,UAAU,CAACG,YAAY,OAAOD,MAAM,CAAC,OAAS,UAAU,CAACF,EAAG,MAAM,CAACA,EAAG,IAAI,CAACG,YAAY,mBAAmBH,EAAG,OAAO,CAACH,EAAIO,GAAG,UAAUJ,EAAG,YAAY,CAACK,YAAY,CAAC,MAAQ,SAASH,MAAM,CAAC,KAAO,UAAU,KAAO,SAASI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIW,sBAAsB,CAACX,EAAIO,GAAG,YAAYJ,EAAG,YAAY,CAACK,YAAY,CAAC,MAAQ,QAAQ,eAAe,QAAQH,MAAM,CAAC,KAAO,SAASI,GAAG,CAAC,MAAQT,EAAIY,oBAAoB,CAACZ,EAAIO,GAAG,QAAQJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,mBAAmBI,GAAG,CAAC,MAAQT,EAAIa,eAAe,CAACb,EAAIO,GAAG,WAAW,GAAGJ,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,UAAU,CAACE,MAAM,CAAC,QAAS,EAAK,KAAO,QAAQ,cAAc,QAAQ,MAAQL,EAAIc,YAAY,CAACX,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,OAAO,UAAY,IAAII,GAAG,CAAC,MAAQT,EAAIe,OAAOC,MAAM,CAACC,MAAOjB,EAAIc,UAAmB,UAAEI,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,UAAW,YAAaK,IAAME,WAAW,0BAA0B,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,QAAQ,UAAY,IAAII,GAAG,CAAC,MAAQT,EAAIe,OAAOC,MAAM,CAACC,MAAOjB,EAAIc,UAAc,KAAEI,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIc,UAAW,OAAQK,IAAME,WAAW,qBAAqB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,iBAAiB,CAACE,MAAM,CAAC,KAAO,gBAAgB,kBAAkB,IAAI,oBAAoB,OAAO,kBAAkB,QAAQW,MAAM,CAACC,MAAOjB,EAAc,WAAEkB,SAAS,SAAUC,GAAMnB,EAAIsB,WAAWH,GAAKE,WAAW,iBAAiB,IAAI,IAAI,KAAKlB,EAAG,YAAY,CAACG,YAAY,OAAOD,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWI,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIuB,kBAAmB,KAAQ,CAACvB,EAAIO,GAAG,YAAYJ,EAAG,WAAW,CAACE,MAAM,CAAC,OAAS,GAAG,OAAS,GAAG,KAAOL,EAAIwB,WAAW,CAACrB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,YAAY,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,OAAO,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,OAAO,MAAQ,UAAUoB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASjH,GAAO,MAAO,CAACwF,EAAG,OAAO,CAACH,EAAIO,GAAGP,EAAI6B,GAAGlH,EAAMmH,IAAIC,SAAS,cAAc5B,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,MAAQ,YAAYF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,UAAUoB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASjH,GAAO,MAAO,CAACwF,EAAG,YAAY,CAACE,MAAM,CAAC,eAAe,EAAE,iBAAiB,GAAGI,GAAG,CAAC,OAAS,SAASC,GAAQ,OAAOV,EAAIgC,mBAAmBrH,EAAMX,GAAIW,EAAMmH,OAAOd,MAAM,CAACC,MAAOtG,EAAMmH,IAAgB,aAAEZ,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKzG,EAAMmH,IAAK,eAAgBX,IAAME,WAAW,mCAAmClB,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,SAASoB,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,SAASjH,GAAO,MAAO,CAACwF,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,eAAe,KAAO,QAAQI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIiC,eAAetH,EAAMmH,IAAI9H,OAAO,CAACgG,EAAIO,GAAG,UAAUJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,iBAAiB,KAAO,QAAQI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAIkC,eAAevH,EAAMmH,IAAI9H,OAAO,CAACgG,EAAIO,GAAG,QAAQJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,kBAAkB,KAAO,QAAQI,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOV,EAAImC,YAAYxH,EAAMX,GAAIW,EAAMmH,QAAQ,CAAC9B,EAAIO,GAAG,kBAAkB,GAAGJ,EAAG,gBAAgB,CAACG,YAAY,OAAOD,MAAM,CAAC,eAAeL,EAAIc,UAAUsB,OAAO,aAAa,CAAC,EAAG,EAAG,GAAI,IAAI,YAAYpC,EAAIc,UAAUuB,SAAS,OAAS,0CAA0C,MAAQrC,EAAIsC,OAAO7B,GAAG,CAAC,qBAAqB,SAASC,GAAQ,OAAOV,EAAIoB,KAAKpB,EAAIc,UAAW,SAAUJ,IAAS,sBAAsB,SAASA,GAAQ,OAAOV,EAAIoB,KAAKpB,EAAIc,UAAW,SAAUJ,IAAS,cAAcV,EAAIuC,iBAAiB,iBAAiBvC,EAAIvF,uBAAuB0F,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,MAAM,QAAUL,EAAIuB,kBAAkBd,GAAG,CAAC,iBAAiB,SAASC,GAAQV,EAAIuB,iBAAiBb,GAAQ,MAAQV,EAAIwC,kBAAkB,CAACrC,EAAG,UAAU,CAACsC,IAAI,aAAapC,MAAM,CAAC,cAAc,QAAQ,MAAQL,EAAI0C,QAAQ,MAAQ1C,EAAI2C,eAAe,CAACxC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,aAAa,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,UAAUW,MAAM,CAACC,MAAOjB,EAAI0C,QAAgB,SAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,WAAYvB,IAAME,WAAW,qBAAqBrB,EAAI4C,GAAI5C,EAAI0C,QAA4B,sBAAE,SAASG,GAAM,OAAO1C,EAAG,YAAY,CAACwB,IAAIkB,EAAK5B,MAAMZ,MAAM,CAAC,MAAQwC,EAAKC,MAAM,MAAQD,EAAK5B,YAAW,IAAI,GAA4B,GAAxBjB,EAAI0C,QAAQK,SAAe5C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,cAAc,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAI0C,QAAiB,UAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,YAAavB,IAAME,WAAW,wBAAwB,GAAGrB,EAAIgD,KAAK7C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAI0C,QAAY,KAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,OAAQvB,IAAME,WAAW,mBAAmB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYW,MAAM,CAACC,MAAOjB,EAAI0C,QAAgB,SAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,WAAYvB,IAAME,WAAW,uBAAuB,GAA4B,GAAxBrB,EAAI0C,QAAQK,SAAe5C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,WAAW,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,GAAG,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAI0C,QAAc,OAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,SAAUvB,IAAME,WAAW,qBAAqB,GAAGrB,EAAIgD,KAAK7C,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACF,EAAG,iBAAiB,CAACa,MAAM,CAACC,MAAOjB,EAAI0C,QAAoB,aAAExB,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAI0C,QAAS,eAAgBvB,IAAME,WAAW,yBAAyB,CAAClB,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,IAAI,CAACL,EAAIO,GAAG,OAAOJ,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,IAAI,CAACL,EAAIO,GAAG,QAAQ,IAAI,IAAI,GAAGJ,EAAG,OAAO,CAACG,YAAY,gBAAgBD,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC9C,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIuB,kBAAmB,KAAS,CAACvB,EAAIO,GAAG,SAASJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQT,EAAIkD,UAAU,CAAClD,EAAIO,GAAG,UAAU,IAAI,GAAGJ,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,MAAQ,MAAM,QAAUL,EAAImD,mBAAmB1C,GAAG,CAAC,iBAAiB,SAASC,GAAQV,EAAImD,kBAAkBzC,GAAQ,MAAQV,EAAIoD,mBAAmB,CAACjD,EAAG,UAAU,CAACsC,IAAI,cAAcpC,MAAM,CAAC,cAAc,OAAO,MAAQL,EAAIqD,SAAS,MAAQrD,EAAIsD,gBAAgB,CAACnD,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAIqD,SAAkB,UAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,YAAalC,IAAME,WAAW,yBAAyB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,cAAc,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAIqD,SAAa,KAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,OAAQlC,IAAME,WAAW,oBAAoB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,QAAQ,KAAO,YAAYW,MAAM,CAACC,MAAOjB,EAAIqD,SAAiB,SAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,WAAYlC,IAAME,WAAW,wBAAwB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAACE,MAAM,CAAC,YAAc,UAAUW,MAAM,CAACC,MAAOjB,EAAIqD,SAAiB,SAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,WAAYlC,IAAME,WAAW,sBAAsBrB,EAAI4C,GAAI5C,EAAY,UAAE,SAASuD,GAAO,OAAOpD,EAAG,YAAY,CAACwB,IAAI4B,EAAMtC,MAAMZ,MAAM,CAAC,MAAQkD,EAAMT,MAAM,MAAQS,EAAMtC,YAAW,IAAI,GAAGd,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,WAAW,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,GAAG,KAAO,SAASW,MAAM,CAACC,MAAOjB,EAAIqD,SAAe,OAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,SAAUlC,IAAME,WAAW,sBAAsB,GAAGlB,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,WAAW,CAACF,EAAG,iBAAiB,CAACa,MAAM,CAACC,MAAOjB,EAAIqD,SAAqB,aAAEnC,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKpB,EAAIqD,SAAU,eAAgBlC,IAAME,WAAW,0BAA0B,CAAClB,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,IAAI,CAACL,EAAIO,GAAG,OAAOJ,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,IAAI,CAACL,EAAIO,GAAG,QAAQ,IAAI,IAAI,GAAGJ,EAAG,OAAO,CAACG,YAAY,gBAAgBD,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC9C,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAImD,mBAAoB,KAAS,CAACnD,EAAIO,GAAG,SAASJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQT,EAAIwD,eAAe,CAACxD,EAAIO,GAAG,UAAU,IAAI,GAAGJ,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,OAAO,QAAUL,EAAIyD,qBAAqB,MAAQ,OAAOhD,GAAG,CAAC,iBAAiB,SAASC,GAAQV,EAAIyD,qBAAqB/C,GAAQ,MAAQV,EAAI0D,UAAU,CAACvD,EAAG,MAAM,CAACA,EAAG,IAAI,CAACH,EAAIO,GAAG,SAASP,EAAI6B,GAAG7B,EAAI2D,KAAKC,cAAc5D,EAAI4C,GAAI5C,EAAc,YAAE,SAAS6C,GAAM,OAAO1C,EAAG,MAAM,CAACwB,IAAIkB,EAAK7I,IAAI,CAACmG,EAAG,YAAY,CAACK,YAAY,CAAC,MAAQ,OAAOH,MAAM,CAAC,YAAc,SAASW,MAAM,CAACC,MAAO4B,EAAO,GAAE3B,SAAS,SAAUC,GAAMnB,EAAIoB,KAAKyB,EAAM,KAAM1B,IAAME,WAAW,YAAYrB,EAAI4C,GAAI5C,EAAa,WAAE,SAAS6D,GAAW,OAAO1D,EAAG,YAAY,CAACwB,IAAIkC,EAAU7J,GAAGqG,MAAM,CAAC,MAAQwD,EAAU9B,SAAS,MAAQ8B,EAAU7J,SAAQ,IAAI,OAAM,GAAGmG,EAAG,OAAO,CAACG,YAAY,gBAAgBD,MAAM,CAAC,KAAO,UAAU4C,KAAK,UAAU,CAAC9C,EAAG,YAAY,CAACM,GAAG,CAAC,MAAQ,SAASC,GAAQV,EAAIyD,sBAAuB,KAAS,CAACzD,EAAIO,GAAG,SAASJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWI,GAAG,CAAC,MAAQT,EAAI8D,eAAe,CAAC9D,EAAIO,GAAG,UAAU,MAAM,IAAI,IACtmSwD,EAAkB,G,wDC6OtB,GACE3B,OAAQ,EACRC,SAAU,GACV2B,KAAM,KACNJ,UAAW,MAEb,GACEK,OAAQ,CACV,QAGEnI,KALF,WAOI,IAAIoI,EAAc,SAAtB,OAEM,IAAN,0EACM,GAAIC,EAAUC,KAAKnD,GACjB,OAAOoD,IAETA,EAAG,IAAIC,MAAM,eAEf,MAAO,CAELC,cAAe,GAEf7B,QAAS,CACPkB,UAAW,GACXY,SAAU,GACVC,OAAQ,GACRT,KAAM,GACNU,aAAc,EACdC,MAAO,IAEPC,qBAAsB,CAC9B,CAAU,MAAV,IAAU,MAAV,MACA,CAAU,MAAV,IAAU,MAAV,QAKMvB,SAAU,CACRsB,MAAO,IACP5B,SAAU,GACV2B,aAAc,IAEhB3B,SAAU,CAChB,CAAQ,MAAR,EAAQ,MAAR,MACA,CAAQ,MAAR,EAAQ,MAAR,OAGMjC,UAAW+D,OAAOC,OAAO,GAAIC,GAC7BL,aAAc,GACdpC,MAAO,EACPd,SAAU,GACVD,kBAAkB,EAClB4B,mBAAmB,EAEnBR,aAAc,CACZiB,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,kBACU,QAAV,SAGQY,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,mBACU,QAAV,SAGQR,KAAM,CAAC,CAAf,8CACQS,OAAQ,CAChB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,SAEQ1B,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,YAAU,QAAV,UAIMO,cAAe,CACbM,UAAW,CACnB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,mBACU,QAAV,SAGQY,SAAU,CAClB,CAAU,UAAV,EAAU,QAAV,QAAU,QAAV,QACA,CACU,IAAV,EACU,IAAV,GACU,QAAV,mBACU,QAAV,SAGQR,KAAM,CAAC,CAAf,8CACQS,OAAQ,CAChB,CAAU,UAAV,EAAU,QAAV,SAAU,QAAV,QACA,CAAU,UAAV,EAAU,QAAV,UAIMhB,sBAAsB,EAEtBuB,OAAQ,GAERC,UAAW,GAEXC,OAAQ,GAERvB,KAAM,GACNwB,WAAY,GACZC,KAAM,CACZ,CAAQ,OAAR,GAAQ,OAAR,KAGM9D,WAAY,KAIhB+D,MAAO,CACL/D,WADJ,SACA,GACM/H,KAAKuH,UAAUwE,UAAYC,EAAO,GAClChM,KAAKuH,UAAU0E,QAAUD,EAAO,KAIpC,QAnIF,WAmIA,wJACA,UADA,8CAIErM,QAAS,CAEP,YAFJ,SAEA,4KACA,SADA,SAEA,8DAFA,cAEA,EAFA,OAGA,oBACA,0BACA,0BALA,SAMA,iDANA,OAMA,EANA,OAOA,eACA,6BACA,0BATA,+CAYI,aAdJ,WAcA,uKACA,gCACA,wCAFA,SAIA,4CAJA,OAIA,EAJA,OAKA,gBACA,6BACA,0BACA,WAEA,6BAVA,8CAcIwK,QA5BJ,WA6BMnK,KAAK2L,OAAS,IAGhB,MAhCJ,WAgCA,8KACA,iDADA,UACA,EADA,OAGA,kBAHA,iDAIA,4BACA,0BACA,4BANA,8CAQI3C,iBAxCJ,SAwCA,GACMhJ,KAAKuH,UAAUuB,SAAWoD,EAC1BlM,KAAKwH,SAGPtG,oBA7CJ,SA6CA,GACMlB,KAAKuH,UAAUsB,OAASsD,EACxBnM,KAAKwH,SAGP,mBAlDJ,SAkDA,mLACA,wFADA,cACA,EADA,OAEA,mBACA,yBAEA,2BALA,SAMA,UANA,8CASIyB,gBA3DJ,WA4DMjJ,KAAKC,MAAMmM,WAAWC,eAGxB,QA/DJ,WA+DA,wJAEA,sBACA,qCACA,wBACA,oCAEA,6LACA,EADA,yCACA,4BADA,uBAEA,gDAFA,OAEA,EAFA,OAGA,eACA,gBACA,8BAEA,WAEA,6BAGA,sBAZA,kGAPA,8CAuBI,eAtFJ,SAsFA,wKACA,mBADA,SAEA,2CAFA,OAEA,EAFA,OAGA,kBACA,wBACA,uBALA,8CAQIxC,iBA9FJ,WA+FM7J,KAAKC,MAAMqM,YAAYD,eAGzBpC,aAlGJ,WAkGA,WACMjK,KAAKC,MAAMqM,YAAYC,SAA7B,iKACA,EADA,yCACA,2BADA,uBAEA,gDAFA,UAEA,EAFA,OAGA,eACA,kBAJA,yCAKA,+BALA,OAQA,uBAEA,+BAEA,UAZA,oGAgBI,eAnHJ,SAmHA,mLAEA,WACA,qBACA,KACA,CACA,uBACA,sBACA,iBAEA,+BAVA,UAEA,EAFA,OAYA,cAZA,yCAaA,0BAbA,uBAeA,2CAfA,UAeA,EAfA,OAiBA,kBAjBA,0CAkBA,6BAlBA,QAoBA,8BACA,UArBA,+CAwBInF,iBA3IJ,WA4IMpH,KAAKuH,UAAUsB,OAAS,EACxB7I,KAAKwH,SAEPH,kBA/IJ,WAgJMrH,KAAKuH,UAAY+D,OAAOC,OAAO,GAAIC,GACnCxL,KAAKwH,SAGPF,aApJJ,WAqJM,IAAN,sBACA,oCACMtH,KAAKyD,cAAczD,KAAKiI,SAAUtE,EAASC,MClhBiZ,I,YCO9b4I,EAAY,eACd,EACAhG,EACAgE,GACA,EACA,KACA,KACA,MAIa,aAAAgC,E","file":"js/chunk-1c3909a2.bf7d60ad.js","sourcesContent":["const MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL = {\r\n  /**\r\n   * leeappparent\\web\\src\\views\\marketing\\mark\\bargains\\add_bargains\\add_bargains.vue\r\n   * leeappparent\\web\\src\\views\\marketing\\mark\\team_buy\\add_team_buy\\add_team_buy.vue\r\n   */\r\n  methods: {\r\n    // 点击添加（批量）\r\n    addAll () {\r\n      let successCut = 0 // 成功的数量\r\n      let errCut = 0 // 失败的数量\r\n      for (let i = 0; i < this.$refs.AddGoodsCmp.$data.multipleSelection.length; i++) {\r\n        if (this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[i])) {\r\n          errCut++\r\n        } else {\r\n          successCut++\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].prodId = this.$refs.AddGoodsCmp.$data.multipleSelection[i].id\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].id = ''\r\n          this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[i])\r\n        }\r\n      }\r\n      if (errCut !== 0) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `有${errCut}个重复了`\r\n        })\r\n      }\r\n      if (successCut !== 0) {\r\n        this.$message.success(`有${successCut}个添加成功`)\r\n        this.dialogVisible = false\r\n      }\r\n    },\r\n    // 分页\r\n    handleCurrentChange () {\r\n\r\n    },\r\n    // 已关联商品的编辑\r\n    onOldUpdate (scope) {\r\n      this.oldUpdateIndex = scope.$index\r\n    },\r\n    // 编辑\r\n    onUpdate (scope) {\r\n      this.updateIndex = scope.$index\r\n    },\r\n    // 已关联商品的完成\r\n    onOldSave() {\r\n      this.oldUpdateIndex = ''\r\n    },\r\n    // 完成\r\n    onSave(scope) {\r\n      this.updateIndex = ''\r\n    },\r\n    // 删除\r\n    onDelete(scope) {\r\n      this.goodsAndActivity.splice(scope.$index, 1)\r\n    },\r\n    // 添加商品\r\n    onAddGoods() {\r\n      this.dialogVisible = true\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 自定义组件地区选择的公共方法\r\n * wohoWeb\\src\\views\\ad\\ad_add\\ad_add.vue\r\n */\r\nconst MIXINS_AREASELECT_EVNET = {\r\n  methods: {\r\n    // 子组件传给父组件的发货区域\r\n    _areaSelect (e) {\r\n      let area = e[0] + ',' + e[1]\r\n      if (e.length === 3) {\r\n        return area + ',' + e[2]\r\n      }\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 单图片上传的公共方法\r\n * wohoWeb\\src\\views\\commodity\\category\\Category.vue\r\n * wohoWeb\\src\\components\\chat_window_cmp\\index.vue\r\n */\r\nconst MIXINS_UPLOADFILE_EVNET = {\r\n  methods: {\r\n    // 自定义覆盖主图图片上传方法\r\n    uploadFile (params) {\r\n      let formData = this._uploadFile(params)\r\n      if (formData) {\r\n        return this.$http.post('/common/oss/uploadFile', formData).then(res => res.data.data.webUrl)\r\n      }\r\n    },\r\n    // 上传图片前的处理\r\n    _uploadFile (params) {\r\n      const isJPG = params.file.type === 'image/jpeg' || params.file.type === 'image/png'\r\n      const isLt2M = params.file.size / 1024 / 1024 < 10\r\n      if (!isJPG) {\r\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!')\r\n        return false\r\n      }\r\n      if (!isLt2M) {\r\n        this.$message.error('上传头像图片大小不能超过 10MB!')\r\n        return false\r\n      }\r\n      const formData = new FormData()\r\n      formData.append('file', params.file)\r\n      return formData\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 公共的方法验证是否是数字\r\n * wohoWeb\\src\\views\\commodity\\CommitAdd.vue\r\n */\r\nconst MIXINS_VALIDATION_NUMBER = {\r\n  methods: {\r\n    // 验证是数字加小数点\r\n    _validationNumber (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d.]/g, '') // 先把非数字的都替换掉，除了数字和.\r\n      obj = obj.replace(/^\\./g, '') // 必须保证第一个为数字而不是.\r\n      obj = obj.replace(/\\.{2,}/g, '.') // 保证只有出现一个.而没有多个.\r\n      obj = obj.replace('.', '$#$').replace(/\\./g, '').replace('$#$', '.') // 保证.只出现一次，而不能出现两次以上\r\n      return obj\r\n    },\r\n    // 验证是数字\r\n    _verifyNumber (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d]/g, '') // 先把非数字的都替换掉，除了数字和.\r\n      return obj\r\n    },\r\n    // 验证是金额 后面两位小数点\r\n    _validationMoney (obj) { // 值允许输入一个小数点和数字\r\n      obj = obj.replace(/[^\\d.]/g, '')\r\n      obj = obj.replace(/^0\\d+|^\\./g, '')\r\n      obj = obj.replace(/\\.{2,}/g, '.')\r\n      obj = obj.replace('.', '$#$')\r\n      obj = obj.replace(/\\./g, '')\r\n      obj = obj.replace('$#$', '.')\r\n      obj = obj.replace(/^(\\d+)\\.(\\d\\d).*$/, '$1.$2')\r\n      return obj\r\n    },\r\n  }\r\n}\r\n\r\nconst MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT = {\r\n  /**\r\n   * src\\views\\super_market\\mark\\bargains\\add_bargains\\add_bargains.vue\r\n   */\r\n  methods: {\r\n    // 点击添加（批量）\r\n    addAll () {\r\n      let successCut = 0 // 成功的数量\r\n      let errCut = 0 // 失败的数量\r\n      for (let i = 0; i < this.$refs.AddGoodsCmp.$data.multipleSelection.length; i++) {\r\n        if (this.goodsAndActivity.includes(this.$refs.AddGoodsCmp.$data.multipleSelection[i])) {\r\n          errCut++\r\n        } else {\r\n          successCut++\r\n          this.$refs.AddGoodsCmp.$data.multipleSelection[i].samllProdId = this.$refs.AddGoodsCmp.$data.multipleSelection[i].id\r\n          this.goodsAndActivity.push(this.$refs.AddGoodsCmp.$data.multipleSelection[i])\r\n        }\r\n      }\r\n      if (errCut !== 0) {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: `有${errCut}个重复了`\r\n        })\r\n      }\r\n      if (successCut !== 0) {\r\n        this.$message.success(`有${successCut}个添加成功`)\r\n        this.dialogVisible = false\r\n      }\r\n    },\r\n    // 分页\r\n    handleCurrentChange () {\r\n\r\n    },\r\n    // 已关联商品的编辑\r\n    onOldUpdate (scope) {\r\n      this.oldUpdateIndex = scope.$index\r\n    },\r\n    // 编辑\r\n    onUpdate (scope) {\r\n      this.updateIndex = scope.$index\r\n    },\r\n    // 已关联商品的完成\r\n    onOldSave() {\r\n      this.oldUpdateIndex = ''\r\n    },\r\n    // 完成\r\n    onSave(scope) {\r\n      this.updateIndex = ''\r\n    },\r\n    // 删除\r\n    onDelete(scope) {\r\n      this.goodsAndActivity.splice(scope.$index, 1)\r\n    },\r\n    // 添加商品\r\n    onAddGoods() {\r\n      this.dialogVisible = true\r\n    },\r\n  }\r\n}\r\n\r\n/**\r\n * 打印Excel\r\n * woho/wohoWeb/src/views/generalize/list.vue\r\n */\r\nconst MIXINS_EXPORT2EXCEL_EVNET = {\r\n  methods: {\r\n    _export2Excel (tableData, tHeader, filterVal) {\r\n      require.ensure([], () => {\r\n        const { export_json_to_excel } = require('../vendor/Export2Excel')\r\n        // 一个方法 我也不知道干嘛的\r\n        const data = this.formatJson(filterVal, tableData)\r\n        export_json_to_excel(tHeader, data, '统计')\r\n      })\r\n    },\r\n    formatJson (filterVal, jsonData) {\r\n      return jsonData.map(v => filterVal.map(j => v[j]))\r\n    },\r\n  }\r\n}\r\n\r\nexport {\r\n  MIXINS_BARGAINS_AND_TEAM_BUY_ADDALL,\r\n  MIXINS_VALIDATION_NUMBER,\r\n  MIXINS_AREASELECT_EVNET,\r\n  MIXINS_UPLOADFILE_EVNET,\r\n  MIXINS_SUPER_BARGAINS_AND_TEAM_BUY_ADDALL_EVENT,\r\n  MIXINS_EXPORT2EXCEL_EVNET,\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar toObject = require('../internals/to-object');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar createProperty = require('../internals/create-property');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('splice');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('splice', { ACCESSORS: true, 0: 0, 1: 2 });\n\nvar max = Math.max;\nvar min = Math.min;\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_LENGTH_EXCEEDED = 'Maximum allowed length exceeded';\n\n// `Array.prototype.splice` method\n// https://tc39.es/ecma262/#sec-array.prototype.splice\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  splice: function splice(start, deleteCount /* , ...items */) {\n    var O = toObject(this);\n    var len = toLength(O.length);\n    var actualStart = toAbsoluteIndex(start, len);\n    var argumentsLength = arguments.length;\n    var insertCount, actualDeleteCount, A, k, from, to;\n    if (argumentsLength === 0) {\n      insertCount = actualDeleteCount = 0;\n    } else if (argumentsLength === 1) {\n      insertCount = 0;\n      actualDeleteCount = len - actualStart;\n    } else {\n      insertCount = argumentsLength - 2;\n      actualDeleteCount = min(max(toInteger(deleteCount), 0), len - actualStart);\n    }\n    if (len + insertCount - actualDeleteCount > MAX_SAFE_INTEGER) {\n      throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED);\n    }\n    A = arraySpeciesCreate(O, actualDeleteCount);\n    for (k = 0; k < actualDeleteCount; k++) {\n      from = actualStart + k;\n      if (from in O) createProperty(A, k, O[from]);\n    }\n    A.length = actualDeleteCount;\n    if (insertCount < actualDeleteCount) {\n      for (k = actualStart; k < len - actualDeleteCount; k++) {\n        from = k + actualDeleteCount;\n        to = k + insertCount;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n      for (k = len; k > len - actualDeleteCount + insertCount; k--) delete O[k - 1];\n    } else if (insertCount > actualDeleteCount) {\n      for (k = len - actualDeleteCount; k > actualStart; k--) {\n        from = k + actualDeleteCount - 1;\n        to = k + insertCount - 1;\n        if (from in O) O[to] = O[from];\n        else delete O[to];\n      }\n    }\n    for (k = 0; k < insertCount; k++) {\n      O[k + actualStart] = arguments[k + 2];\n    }\n    O.length = len - actualDeleteCount + insertCount;\n    return A;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('layout-box',{attrs:{\"one\":\"用户管理\",\"two\":\"用户列表\"}},[_c('el-card',{staticClass:\"mb-1\",attrs:{\"shadow\":\"never\"}},[_c('div',[_c('i',{staticClass:\"el-icon-search\"}),_c('span',[_vm._v(\"筛选搜索\")]),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.handleSearchList()}}},[_vm._v(\" 查询结果 \")]),_c('el-button',{staticStyle:{\"float\":\"right\",\"margin-right\":\"15px\"},attrs:{\"size\":\"small\"},on:{\"click\":_vm.handleResetSearch}},[_vm._v(\"重置\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-printer\"},on:{\"click\":_vm.export2Excel}},[_vm._v(\"导出数据\")])],1),_c('div',{staticClass:\"mt-1\"},[_c('el-form',{attrs:{\"inline\":true,\"size\":\"small\",\"label-width\":\"140px\",\"model\":_vm.queryInfo}},[_c('el-form-item',{attrs:{\"label\":\"账户\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入账户\",\"clearable\":\"\"},on:{\"clear\":_vm.fetch},model:{value:(_vm.queryInfo.loginName),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"loginName\", $$v)},expression:\"queryInfo.loginName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"输入用户名\",\"clearable\":\"\"},on:{\"clear\":_vm.fetch},model:{value:(_vm.queryInfo.name),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"name\", $$v)},expression:\"queryInfo.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"注册时间\"}},[_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:(_vm.searchTime),callback:function ($$v) {_vm.searchTime=$$v},expression:\"searchTime\"}})],1)],1)],1)]),_c('el-button',{staticClass:\"mb-1\",attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.addDialogVisible = true}}},[_vm._v(\" 新增用户 \")]),_c('el-table',{attrs:{\"border\":\"\",\"stripe\":\"\",\"data\":_vm.userlist}},[_c('el-table-column',{attrs:{\"label\":\"账户\",\"prop\":\"loginName\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"用户名\",\"prop\":\"name\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"用户类型\",\"prop\":\"name\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row.roleName[0]))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"添加时间\",\"prop\":\"createTime\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"是否启用\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0},on:{\"change\":function($event){return _vm.handleStatusChange(scope.id, scope.row)}},model:{value:(scope.row.enableStatus),callback:function ($$v) {_vm.$set(scope.row, \"enableStatus\", $$v)},expression:\"scope.row.enableStatus\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"240px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showEditDialog(scope.row.id)}}},[_vm._v(\"编辑用户\")]),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeUserById(scope.row.id)}}},[_vm._v(\"删除\")]),_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-setting\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showSetRole(scope.id, scope.row)}}},[_vm._v(\"分配角色\")])]}}])})],1),_c('el-pagination',{staticClass:\"mt-1\",attrs:{\"current-page\":_vm.queryInfo.pageNo,\"page-sizes\":[2, 5, 10, 20],\"page-size\":_vm.queryInfo.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"update:currentPage\":function($event){return _vm.$set(_vm.queryInfo, \"pageNo\", $event)},\"update:current-page\":function($event){return _vm.$set(_vm.queryInfo, \"pageNo\", $event)},\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}}),_c('el-dialog',{attrs:{\"title\":\"添加用户\",\"width\":\"30%\",\"visible\":_vm.addDialogVisible},on:{\"update:visible\":function($event){_vm.addDialogVisible=$event},\"close\":_vm.addDialogClosed}},[_c('el-form',{ref:\"addFormRef\",attrs:{\"label-width\":\"100px\",\"model\":_vm.addForm,\"rules\":_vm.addFormRules}},[_c('el-form-item',{attrs:{\"label\":\"角色类型\",\"prop\":\"userType\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择用户类型\"},model:{value:(_vm.addForm.userType),callback:function ($$v) {_vm.$set(_vm.addForm, \"userType\", $$v)},expression:\"addForm.userType\"}},_vm._l((_vm.addForm.publishStatusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),(_vm.addForm.userType == 0)?_c('el-form-item',{attrs:{\"label\":\"账户\",\"prop\":\"loginName\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.addForm.loginName),callback:function ($$v) {_vm.$set(_vm.addForm, \"loginName\", $$v)},expression:\"addForm.loginName\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.addForm.name),callback:function ($$v) {_vm.$set(_vm.addForm, \"name\", $$v)},expression:\"addForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"password\"},model:{value:(_vm.addForm.password),callback:function ($$v) {_vm.$set(_vm.addForm, \"password\", $$v)},expression:\"addForm.password\"}})],1),(_vm.addForm.userType == 2)?_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"\",\"size\":\"small\"},model:{value:(_vm.addForm.mobile),callback:function ($$v) {_vm.$set(_vm.addForm, \"mobile\", $$v)},expression:\"addForm.mobile\"}})],1):_vm._e(),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.addForm.enableStatus),callback:function ($$v) {_vm.$set(_vm.addForm, \"enableStatus\", $$v)},expression:\"addForm.enableStatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addUser}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"编辑用户\",\"width\":\"30%\",\"visible\":_vm.editDialogVisible},on:{\"update:visible\":function($event){_vm.editDialogVisible=$event},\"close\":_vm.editDialogClosed}},[_c('el-form',{ref:\"editFormRef\",attrs:{\"label-width\":\"70px\",\"model\":_vm.editForm,\"rules\":_vm.editFormRules}},[_c('el-form-item',{attrs:{\"label\":\"账户\",\"prop\":\"name\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.editForm.loginName),callback:function ($$v) {_vm.$set(_vm.editForm, \"loginName\", $$v)},expression:\"editForm.loginName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"用户名\",\"prop\":\"loginName\"}},[_c('el-input',{attrs:{\"size\":\"small\"},model:{value:(_vm.editForm.name),callback:function ($$v) {_vm.$set(_vm.editForm, \"name\", $$v)},expression:\"editForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"密码\",\"prop\":\"password\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"type\":\"password\"},model:{value:(_vm.editForm.password),callback:function ($$v) {_vm.$set(_vm.editForm, \"password\", $$v)},expression:\"editForm.password\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商家类型\"}},[_c('el-select',{attrs:{\"placeholder\":\"选择用户类型\"},model:{value:(_vm.editForm.userType),callback:function ($$v) {_vm.$set(_vm.editForm, \"userType\", $$v)},expression:\"editForm.userType\"}},_vm._l((_vm.userType),function(items){return _c('el-option',{key:items.value,attrs:{\"label\":items.label,\"value\":items.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"手机号\",\"prop\":\"mobile\"}},[_c('el-input',{attrs:{\"placeholder\":\"\",\"size\":\"small\"},model:{value:(_vm.editForm.mobile),callback:function ($$v) {_vm.$set(_vm.editForm, \"mobile\", $$v)},expression:\"editForm.mobile\"}})],1),_c('el-form-item',{attrs:{\"label\":\"是否启用\",\"prop\":\"status\"}},[_c('el-radio-group',{model:{value:(_vm.editForm.enableStatus),callback:function ($$v) {_vm.$set(_vm.editForm, \"enableStatus\", $$v)},expression:\"editForm.enableStatus\"}},[_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"是\")]),_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"否\")])],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editUserInfo}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"分配角色\",\"visible\":_vm.setRoleDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.setRoleDialogVisible=$event},\"close\":_vm.setrole}},[_c('div',[_c('p',[_vm._v(\"当前的用户：\"+_vm._s(_vm.user.loginName))]),_vm._l((_vm.userroName),function(item){return _c('div',{key:item.id},[_c('el-select',{staticStyle:{\"width\":\"80%\"},attrs:{\"placeholder\":\"请选择角色\"},model:{value:(item.id),callback:function ($$v) {_vm.$set(item, \"id\", $$v)},expression:\"item.id\"}},_vm._l((_vm.rolesLsit),function(rolesitem){return _c('el-option',{key:rolesitem.id,attrs:{\"label\":rolesitem.roleName,\"value\":rolesitem.id}})}),1)],1)})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.setRoleDialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveRoleInfo}},[_vm._v(\"确 定\")])],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <layout-box one=\"用户管理\" two=\"用户列表\">\r\n      <!-- 搜索添加 -->\r\n\r\n      <el-card shadow=\"never\" class=\"mb-1\">\r\n        <div>\r\n          <i class=\"el-icon-search\"></i>\r\n          <span>筛选搜索</span>\r\n          <el-button\r\n            style=\"float: right\"\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            @click=\"handleSearchList()\"\r\n          >\r\n            查询结果\r\n          </el-button>\r\n          <el-button style=\"float:right;margin-right: 15px\" size=\"small\" @click=\"handleResetSearch\">重置</el-button>\r\n          <el-button icon=\"el-icon-printer\" @click=\"export2Excel\">导出数据</el-button>\r\n        </div>\r\n\r\n        <div class=\"mt-1\">\r\n          <el-form :inline=\"true\" size=\"small\" label-width=\"140px\" :model=\"queryInfo\">\r\n            <el-form-item label=\"账户\">\r\n              <el-input v-model=\"queryInfo.loginName\" placeholder=\"输入账户\" clearable @clear=\"fetch\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"用户名\">\r\n              <el-input v-model=\"queryInfo.name\" placeholder=\"输入用户名\" clearable @clear=\"fetch\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"注册时间\">\r\n              <el-date-picker\r\n                v-model=\"searchTime\"\r\n                type=\"datetimerange\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n              >\r\n              </el-date-picker>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-card>\r\n      <el-button size=\"small\" type=\"primary\" class=\"mb-1\" @click=\"addDialogVisible = true\">\r\n        新增用户\r\n      </el-button>\r\n      <!-- 管理列表 -->\r\n      <el-table border stripe :data=\"userlist\">\r\n        <el-table-column label=\"账户\" prop=\"loginName\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"用户名\" prop=\"name\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"用户类型\" prop=\"name\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <span>{{ scope.row.roleName[0] }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"添加时间\" prop=\"createTime\" align=\"center\">\r\n        </el-table-column>\r\n        <el-table-column label=\"是否启用\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-switch v-model=\"scope.row.enableStatus\" :active-value=\"1\" :inactive-value=\"0\" @change=\"handleStatusChange(scope.id, scope.row)\"></el-switch>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"240px\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-edit\"\r\n              size=\"mini\"\r\n              @click=\"showEditDialog(scope.row.id)\"\r\n            >编辑用户</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-delete\"\r\n              size=\"mini\"\r\n              @click=\"removeUserById(scope.row.id)\"\r\n            >删除</el-button>\r\n\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-setting\"\r\n              size=\"mini\"\r\n              @click=\"showSetRole(scope.id, scope.row)\"\r\n            >分配角色</el-button>\r\n\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-pagination\r\n        class=\"mt-1\"\r\n        :current-page.sync=\"queryInfo.pageNo\"\r\n        :page-sizes=\"[2, 5, 10, 20]\"\r\n        :page-size=\"queryInfo.pageSize\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n      >\r\n      </el-pagination>\r\n      <!-- 添加用户的对话框 -->\r\n      <el-dialog title=\"添加用户\" width=\"30%\" :visible.sync=\"addDialogVisible\" @close=\"addDialogClosed\">\r\n        <!-- 内容主体区域 -->\r\n        <el-form\r\n          ref=\"addFormRef\"\r\n          label-width=\"100px\"\r\n          :model=\"addForm\"\r\n          :rules=\"addFormRules\"\r\n        >\r\n          <el-form-item label=\"角色类型\" prop=\"userType\">\r\n            <el-select v-model=\"addForm.userType\" placeholder=\"选择用户类型\">\r\n              <el-option\r\n                v-for=\"item in addForm.publishStatusOptions\"\r\n                :key=\"item.value\"\r\n                :label=\"item.label\"\r\n                :value=\"item.value\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item v-if=\"addForm.userType == 0\" label=\"账户\" prop=\"loginName\">\r\n            <el-input v-model=\"addForm.loginName\" size=\"small\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户名\" prop=\"name\">\r\n            <el-input v-model=\"addForm.name\" size=\"small\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              v-model=\"addForm.password\"\r\n              size=\"small\"\r\n              type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item v-if=\"addForm.userType == 2\" label=\"手机号\" prop=\"mobile\">\r\n            <el-input\r\n              v-model=\"addForm.mobile\"\r\n              placeholder=\"\"\r\n              size=\"small\"\r\n            ></el-input></el-form-item>\r\n          <el-form-item label=\"是否启用\" prop=\"status\">\r\n            <el-radio-group v-model=\"addForm.enableStatus\">\r\n              <el-radio :label=\"1\">是</el-radio>\r\n              <el-radio :label=\"0\">否</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- 底部区域 -->\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"addUser\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 编辑 -->\r\n      <el-dialog\r\n        title=\"编辑用户\"\r\n        width=\"30%\"\r\n        :visible.sync=\"editDialogVisible\"\r\n        @close=\"editDialogClosed\"\r\n      >\r\n        <!-- 内容主体区域 -->\r\n        <el-form\r\n          ref=\"editFormRef\"\r\n          label-width=\"70px\"\r\n          :model=\"editForm\"\r\n          :rules=\"editFormRules\"\r\n        >\r\n          <el-form-item label=\"账户\" prop=\"name\">\r\n            <el-input v-model=\"editForm.loginName\" size=\"small\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"用户名\" prop=\"loginName\">\r\n            <el-input v-model=\"editForm.name\" size=\"small\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              v-model=\"editForm.password\"\r\n              size=\"small\"\r\n              type=\"password\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"商家类型\">\r\n            <el-select v-model=\"editForm.userType\" placeholder=\"选择用户类型\">\r\n              <el-option\r\n                v-for=\"items in userType\"\r\n                :key=\"items.value\"\r\n                :label=\"items.label\"\r\n                :value=\"items.value\"\r\n              >\r\n              </el-option>\r\n            </el-select>\r\n\r\n          </el-form-item>\r\n          <el-form-item label=\"手机号\" prop=\"mobile\">\r\n            <el-input v-model=\"editForm.mobile\" placeholder=\"\" size=\"small\"></el-input></el-form-item>\r\n          <el-form-item label=\"是否启用\" prop=\"status\">\r\n            <el-radio-group v-model=\"editForm.enableStatus\">\r\n              <el-radio :label=\"1\">是</el-radio>\r\n              <el-radio :label=\"0\">否</el-radio>\r\n            </el-radio-group>\r\n          </el-form-item>\r\n        </el-form>\r\n        <!-- 底部区域 -->\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"editUserInfo\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n      <!-- 分配角色对话框 -->\r\n      <el-dialog title=\"分配角色\" :visible.sync=\"setRoleDialogVisible\" width=\"30%\" @close=\"setrole\">\r\n        <div>\r\n          <p>当前的用户：{{ user.loginName }}</p>\r\n          <div v-for=\"item in userroName\" :key=\"item.id\">\r\n            <!-- 当前的角色：{{ item.roleName }} -->\r\n            <el-select\r\n              v-model=\"item.id\"\r\n              style=\"width: 80%\"\r\n              placeholder=\"请选择角色\"\r\n            >\r\n              <el-option\r\n                v-for=\"rolesitem in rolesLsit\"\r\n                :key=\"rolesitem.id\"\r\n                :label=\"rolesitem.roleName\"\r\n                :value=\"rolesitem.id\"\r\n              ></el-option>\r\n            </el-select>\r\n          </div>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"setRoleDialogVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveRoleInfo\">确 定</el-button>\r\n        </span>\r\n      </el-dialog>\r\n    </layout-box>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MIXINS_EXPORT2EXCEL_EVNET } from '@/mixins/event.js'\r\n\r\nconst defaultListQuery = {\r\n  pageNo: 1,\r\n  pageSize: 10,\r\n  name: null,\r\n  loginName: null\r\n}\r\nexport default {\r\n  mixins: [\r\n    MIXINS_EXPORT2EXCEL_EVNET\r\n  ],\r\n  \r\n  data() {\r\n    // 验证手机号的规则\r\n    var checkMobile = (rule, value, cb) => {\r\n      // 验证手机号的正则表达式\r\n      const regMobile = /^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/\r\n      if (regMobile.test(value)) {\r\n        return cb()\r\n      }\r\n      cb(new Error('请输入合法的手机号'))\r\n    }\r\n    return {\r\n      // 状态数据列表\r\n      statusOptions: [],\r\n      // 添加用户的字段\r\n      addForm: {\r\n        loginName: '',\r\n        password: '',\r\n        mobile: '',\r\n        name: '',\r\n        enableStatus: 0,\r\n        isVip: '1',\r\n        // 用户类型\r\n        publishStatusOptions: [\r\n          { value: '0', label: '平台' },\r\n          { value: '2', label: '用户' },\r\n        ],\r\n      },\r\n\r\n      // 修改用户的字段\r\n      editForm: {\r\n        isVip: '1',\r\n        userType: '',\r\n        enableStatus: '',\r\n      },\r\n      userType: [\r\n        { value: 0, label: '平台' },\r\n        { value: 2, label: '用户' },\r\n      ],\r\n      // 分页的字段\r\n      queryInfo: Object.assign({}, defaultListQuery),\r\n      enableStatus: '',\r\n      total: 0,\r\n      userlist: [],\r\n      addDialogVisible: false,\r\n      editDialogVisible: false,\r\n      // 添加用户的校验\r\n      addFormRules: {\r\n        loginName: [\r\n          { required: true, message: '请输入账户', trigger: 'blur' },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: '账户的长度在3~10个字符之间',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          {\r\n            min: 6,\r\n            max: 15,\r\n            message: '用户名的长度在6~15个字符之间',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        name: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n        mobile: [\r\n          { required: false, message: '请输入手机号', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' }\r\n        ],\r\n        userType: [\r\n          { required: true, message: '请输入用户所属类型', trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 修改用户的校验\r\n      editFormRules: {\r\n        loginName: [\r\n          { required: true, message: '请输入用户名', trigger: 'blur' },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: '用户名的长度在3~10个字符之间',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        password: [\r\n          { required: true, message: '请输入密码', trigger: 'blur' },\r\n          {\r\n            min: 6,\r\n            max: 15,\r\n            message: '用户名的长度在6~15个字符之间',\r\n            trigger: 'blur'\r\n          }\r\n        ],\r\n        name: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n        mobile: [\r\n          { required: true, message: '请输入手机号', trigger: 'blur' },\r\n          { validator: checkMobile, trigger: 'blur' }\r\n        ]\r\n      },\r\n      // 分配角色对话框\r\n      setRoleDialogVisible: false,\r\n      // 当前需要被分配角色的用户\r\n      userId: '',\r\n      // 所有角色数据列表\r\n      rolesLsit: [],\r\n      // 已选中的角色Id值\r\n      roleId: [],\r\n      // 分配的用户信息\r\n      user: '',\r\n      userroName: [],\r\n      sdas: [\r\n        { userId: '', roleId: '' }\r\n      ],\r\n      // 搜索时间间隔查询需要解析\r\n      searchTime: [] \r\n    }\r\n  },\r\n\r\n  watch: {\r\n    searchTime (newVal) {\r\n      this.queryInfo.beginDate = newVal[0]\r\n      this.queryInfo.endDate = newVal[1]\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    this.fetch()\r\n  },\r\n\r\n  methods: {\r\n    // 展示分配角色的对话框\r\n    async showSetRole (id, user) {\r\n      this.user = user\r\n      const resqu = await this.$http.post(`/woho/sys/userRole/findByUserId/${user.id}`)\r\n      this.userroName = resqu.data\r\n      console.log(this.userroName)\r\n      this.setRoleDialogVisible = true\r\n      const res = await this.$http.post('/woho/sys/role/query', this.queryInfo)\r\n      console.log(res)\r\n      this.rolesLsit = res.data.data.list\r\n      this.setRoleDialogVisible = true\r\n    },\r\n    // 分配角色\r\n    async saveRoleInfo() {\r\n      const data = this.userroName.map((item) => {\r\n        return { userId: this.user.id, roleId: item.id }\r\n      })\r\n      const res = await this.$http.post('/woho/sys/userRole/insert', data)\r\n      if (res.data.success) {\r\n        this.$message.success('分配权限成功')\r\n        this.setRoleDialogVisible = false\r\n        this.fetch()\r\n      } else {\r\n        this.$message.error(res.data.msg)\r\n      }\r\n    },\r\n    // 分配角色的关闭事件\r\n    setrole() {\r\n      this.roleId = ''\r\n    },\r\n    // 用户列表\r\n    async fetch() {\r\n      const res = await this.$http.post('/woho/sys/user/query', this.queryInfo)\r\n      // console.log(res)\r\n      if (res.data.code !== 200) return\r\n      this.userlist = res.data.data.list\r\n      this.total = res.data.data.total\r\n      this.statusOptions = res.data.data\r\n    },\r\n    handleSizeChange(newSize) {\r\n      this.queryInfo.pageSize = newSize\r\n      this.fetch()\r\n    },\r\n    // 监听 页码值 改变的事件\r\n    handleCurrentChange(newPage) {\r\n      this.queryInfo.pageNo = newPage\r\n      this.fetch()\r\n    },\r\n    // 是否启用\r\n    async handleStatusChange(id, row) {\r\n      const res = await this.$http.post(`/woho/sys/user/enableOrdisable/${row.id}/${row.enableStatus}`)\r\n      if (res.data.code !== 200) {\r\n        this.$message.error('启用失败')\r\n      }\r\n      this.$message.success('启用成功')\r\n      await this.fetch()\r\n    },\r\n    // 监听添加用户对话框的关闭事件\r\n    addDialogClosed() {\r\n      this.$refs.addFormRef.resetFields()\r\n    },\r\n    // 添加用户\r\n    async addUser() {\r\n      /* eslint-disable */\r\n      if (this.addForm.userType == 2) {\r\n        this.addForm.loginName = this.addForm.mobile\r\n      } else if (this.addForm.userType == 0) {\r\n        this.addForm.mobile = this.addForm.addForm\r\n      }\r\n      this.$refs.addFormRef.validate(async valid => {\r\n        if (!valid) return this.$message.error('资料填写完整')\r\n        const res = await this.$http.post('/woho/sys/user/insert', this.addForm)\r\n        console.log(res)\r\n        if (res.data.success) {\r\n          this.$message.success('添加用户成功！')\r\n          // 重新获取用户列表数据\r\n          this.fetch()\r\n        } else {\r\n          this.$message.error(res.data.msg)\r\n        }\r\n        // 隐藏添加用户的对话框\r\n        this.addDialogVisible = false\r\n      })\r\n    },\r\n    // 修改用户\r\n    async showEditDialog(id) {\r\n      this.sdas[0].userId = id\r\n      const res = await this.$http.post('/woho/sys/user/findById/' + id)\r\n      this.editForm = res.data\r\n      console.log(this.editForm)\r\n      this.editDialogVisible = true\r\n    },\r\n    // 修改用户对话框关闭事件\r\n    editDialogClosed() {\r\n      this.$refs.editFormRef.resetFields()\r\n    },\r\n    // 修改信息并提交\r\n    editUserInfo() {\r\n      this.$refs.editFormRef.validate(async valid => {\r\n        if (!valid) return this.$message.error('请填写完整')\r\n        const res = await this.$http.put('/woho/sys/user/update', this.editForm)\r\n        console.log(res)\r\n        if (res.data.code !== 200) {\r\n          return this.$message.error('更新用户信息失败！')\r\n        }\r\n        // 关闭对话框\r\n        this.editDialogVisible = false\r\n        // 提示修改成功\r\n        this.$message.success('更改用户信息成功')\r\n        //  刷新列表数据\r\n        this.fetch()\r\n      })\r\n    },\r\n    // 根据Id删除对应的用户信息\r\n    async removeUserById(id) {\r\n      // 弹框询问用户是否删除数据\r\n      const confirmResult = await this.$confirm(\r\n        '此操作将永久删除该用户, 是否继续?',\r\n        '提示',\r\n        {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n          type: 'warning'\r\n        }\r\n      ).catch(err => err)\r\n\r\n      if (confirmResult !== 'confirm') {\r\n        return this.$message.info('已取消删除')\r\n      }\r\n      const res = await this.$http.delete('/woho/sys/user/delete/' + id)\r\n      // console.log(res)\r\n      if (res.data.code !== 200) {\r\n        return this.$message.error('删除用户失败！')\r\n      }\r\n      this.$message.success('删除用户成功！')\r\n      this.fetch()\r\n    },\r\n    // 搜索\r\n    handleSearchList() {\r\n      this.queryInfo.pageNo = 1\r\n      this.fetch()\r\n    },\r\n    handleResetSearch () {\r\n      this.queryInfo = Object.assign({}, defaultListQuery)\r\n      this.fetch()\r\n    },\r\n    // 点击打印\r\n    export2Excel () {\r\n      const tHeader = ['账户', '用户名', '添加时间']\r\n      const filterVal = ['loginName', 'name', 'createTime']\r\n      this._export2Excel(this.userlist, tHeader, filterVal)\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style></style>\r\n","import mod from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!./Users.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Users.vue?vue&type=template&id=53f7924e&\"\nimport script from \"./Users.vue?vue&type=script&lang=js&\"\nexport * from \"./Users.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.6@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}