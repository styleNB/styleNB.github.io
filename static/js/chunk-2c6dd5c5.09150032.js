(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c6dd5c5"],{"1dfe":function(e,t,r){"use strict";r.d(t,"d",(function(){return a})),r.d(t,"e",(function(){return o})),r.d(t,"c",(function(){return n})),r.d(t,"g",(function(){return s})),r.d(t,"f",(function(){return i})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return u})),r.d(t,"b",(function(){return c}));var l=r("b775");function a(e){return Object(l["a"])({url:"/system/dept/list",method:"get",params:e})}function o(e){return Object(l["a"])({url:"/system/dept/list/exclude/"+e,method:"get"})}function n(e){return Object(l["a"])({url:"/system/dept/"+e,method:"get"})}function s(){return Object(l["a"])({url:"/system/dept/treeselect",method:"get"})}function i(e){return Object(l["a"])({url:"/system/dept/roleDeptTreeselect/"+e,method:"get"})}function p(e){return Object(l["a"])({url:"/system/dept/add",method:"post",data:e})}function u(e){return Object(l["a"])({url:"/system/dept",method:"put",data:e})}function c(e){return Object(l["a"])({url:"/system/dept/"+e,method:"delete"})}},"2dc7":function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-form",{staticClass:"form-search",attrs:{inline:!0,model:e.formSearch,size:"small"}},[r("el-form-item",{attrs:{label:"审批人"}},[r("el-input",{attrs:{placeholder:"审批人"},model:{value:e.formSearch.user,callback:function(t){e.$set(e.formSearch,"user",t)},expression:"formSearch.user"}})],1),r("el-form-item",{attrs:{label:"活动区域"}},[r("el-select",{attrs:{placeholder:"活动区域"},model:{value:e.formSearch.region,callback:function(t){e.$set(e.formSearch,"region",t)},expression:"formSearch.region"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")])],1)],1),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.handleAdd}},[e._v("新增用户")]),r("el-dialog",{attrs:{visible:e.addDialog,"close-on-click-modal":!1,title:"新增用户",width:"500px"},on:{"update:visible":function(t){e.addDialog=t}}},[r("el-form",{ref:"peopleForm",attrs:{model:e.peopleForm,rules:e.rules,"label-width":"80px",size:"small"}},[r("el-form-item",{attrs:{label:"姓名",prop:"showName"}},[r("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.peopleForm.showName,callback:function(t){e.$set(e.peopleForm,"showName",t)},expression:"peopleForm.showName"}})],1),r("el-form-item",{attrs:{label:"用户名",prop:"userName"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.peopleForm.userName,callback:function(t){e.$set(e.peopleForm,"userName",t)},expression:"peopleForm.userName"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.peopleForm.password,callback:function(t){e.$set(e.peopleForm,"password",t)},expression:"peopleForm.password"}})],1),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.peopleForm.email,callback:function(t){e.$set(e.peopleForm,"email",t)},expression:"peopleForm.email"}})],1),r("el-form-item",{attrs:{label:"手机号",prop:"phoneNum"}},[r("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.peopleForm.phoneNum,callback:function(t){e.$set(e.peopleForm,"phoneNum",t)},expression:"peopleForm.phoneNum"}})],1),r("el-form-item",{attrs:{label:"性别",prop:"sex"}},[r("el-radio-group",{model:{value:e.peopleForm.sex,callback:function(t){e.$set(e.peopleForm,"sex",t)},expression:"peopleForm.sex"}},[r("el-radio",{attrs:{label:"1"}},[e._v("男")]),r("el-radio",{attrs:{label:"2"}},[e._v("女")])],1)],1),r("el-form-item",{attrs:{label:"归属部门"}},[r("treeselect",{attrs:{options:e.deptOptions,"show-count":!0,placeholder:"请选择归属部门"},model:{value:e.peopleForm.deptId,callback:function(t){e.$set(e.peopleForm,"deptId",t)},expression:"peopleForm.deptId"}})],1),r("el-form-item",{attrs:{label:"角色"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.peopleForm.roleIds,callback:function(t){e.$set(e.peopleForm,"roleIds",t)},expression:"peopleForm.roleIds"}},e._l(e.roleOptions,(function(e){return r("el-option",{key:e.roleId,attrs:{label:e.roleName,value:e.roleId,disabled:1==e.status}})})),1)],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:e.peopleForm.remark,callback:function(t){e.$set(e.peopleForm,"remark",t)},expression:"peopleForm.remark"}})],1)],1),r("div",{staticStyle:{"text-align":"right"}},[r("el-button",{attrs:{type:"danger"},on:{click:function(t){e.addDialog=!1}}},[e._v("取消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("确定")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.peopleList,"max-height":"500"}},[r("el-table-column",{attrs:{prop:"showName",label:"姓名",width:"120"}}),r("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"120"}}),r("el-table-column",{attrs:{prop:"phoneNum",label:"手机号",width:"120"}}),r("el-table-column",{attrs:{prop:"email",label:"邮编",width:"120"}}),r("el-table-column",{attrs:{prop:"dept.deptName",label:"部门",width:"120"}}),r("el-table-column",{attrs:{prop:"remark",label:"备注"}}),r("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},nativeOn:{click:function(r){return r.preventDefault(),e.deleteRow(t.$index,e.tableData)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{attrs:{background:"","current-page":e.queryInit.pageNo,"page-sizes":[10,20,30,40],"page-size":e.queryInit.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.queryInit.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},a=[],o=r("99a5"),n=(r("6a61"),r("b775")),s=r("c38a");function i(e){return Object(n["a"])({url:"/system/user/list",method:"get",params:e})}function p(e){return Object(n["a"])({url:"/system/user/add",method:"post",data:e})}function u(e){return Object(n["a"])({url:"/system/user/"+Object(s["e"])(e),method:"get"})}var c=r("1dfe"),m=r("7d66"),d=r.n(m),h=(r("5166"),{name:"people",components:{Treeselect:d.a},data:function(){return{peopleList:[],formSearch:{},addDialog:!1,roleOptions:[],deptOptions:[],peopleForm:{showName:"",userName:"",password:"",email:"",phoneNum:"",sex:"1",roleIds:[],deptId:void 0,remark:""},rules:{showName:[{required:!0,message:"请输入姓名",trigger:"blur"}],userName:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],phoneNum:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"}]},queryInit:{pageNo:1,pageSize:10,total:0}}},created:function(){this.listPeople()},methods:{handleSizeChange:function(e){this.queryInit.pageSize=e},handleCurrentChange:function(e){this.queryInit.pageNo=e},listPeople:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i();case 2:r=t.sent,e.peopleList=r.rows;case 4:case"end":return t.stop()}}),t)})))()},handleAdd:function(){var e=this;this.getTreeselect(),u().then((function(t){e.roleOptions=t.roles,e.addDialog=!0}))},getTreeselect:function(){var e=this;Object(c["g"])().then((function(t){e.deptOptions=t.data}))},deleteRow:function(e,t){console.log(e,t)},onSearch:function(){console.log("搜索")},confirmRole:function(){var e=this;this.$refs.peopleForm.validate(function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=8;break}return t.next=3,p(e.peopleForm);case 3:e.$message.success("创建成功"),e.addDialog=!1,e.getAreaList(),t.next=9;break;case 8:return t.abrupt("return",!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}}),f=h,b=(r("8ee3"),r("4ac2")),g=Object(b["a"])(f,l,a,!1,null,"00869222",null);t["default"]=g.exports},"8ee3":function(e,t,r){"use strict";r("e429")},e429:function(e,t,r){}}]);