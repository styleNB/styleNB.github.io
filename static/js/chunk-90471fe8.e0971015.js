(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90471fe8"],{"2b1d":function(e,t,n){"use strict";var r=n("8662"),i=n("5ec1");e.exports=r("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),i)},"3f94":function(e,t,n){"use strict";var r=n("0ef9"),i=n("719e"),o=n("512c"),a=n("b191"),s=n("acaa"),l=n("f1ae");r("match",1,(function(e,t,n){return[function(t){var n=a(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var r=n(t,e,this);if(r.done)return r.value;var a=i(e),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;var f,d=[],h=0;while(null!==(f=l(a,c))){var v=String(f[0]);d[h]=v,""===v&&(a.lastIndex=s(c,o(a.lastIndex),u)),h++}return 0===h?null:d}]}))},"470f":function(e,t,n){"use strict";var r=n("e1de"),i=n("5d56").start,o=n("a2f5");r({target:"String",proto:!0,forced:o},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4f69":function(e,t,n){"use strict";n("86c0")},"5cb1":function(e,t,n){"use strict";var r=n("e1de"),i=n("03a8"),o=n("25b6"),a=n("1790"),s=[].join,l=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(e){return s.call(o(this),void 0===e?",":e)}})},"5d56":function(e,t,n){var r=n("512c"),i=n("d4c0"),o=n("b191"),a=Math.ceil,s=function(e){return function(t,n,s){var l,c,u=String(o(t)),f=u.length,d=void 0===s?" ":String(s),h=r(n);return h<=f||""==d?u:(l=h-f,c=i.call(d,a(l/d.length)),c.length>l&&(c=c.slice(0,l)),e?u+c:c+u)}};e.exports={start:s(!1),end:s(!0)}},"5ec1":function(e,t,n){"use strict";var r=n("e4b3").f,i=n("f75f"),o=n("1e99"),a=n("8b6d"),s=n("81f5"),l=n("59f4"),c=n("54fe"),u=n("ee60"),f=n("0484"),d=n("b209").fastKey,h=n("88a3"),v=h.set,p=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e((function(e,r){s(e,u,t),v(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&l(r,e[c],{that:e,AS_ENTRIES:n})})),h=p(t),b=function(e,t,n){var r,i,o=h(e),a=g(e,t);return a?a.value=n:(o.last=a={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},g=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(u.prototype,{clear:function(){var e=this,t=h(e),n=t.index,r=t.first;while(r)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=g(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);while(t=t?t.next:n.first){r(t.value,t.key,this);while(t&&t.removed)t=t.previous}},has:function(e){return!!g(this,e)}}),o(u.prototype,n?{get:function(e){var t=g(this,e);return t&&t.value},set:function(e,t){return b(this,0===e?0:e,t)}}:{add:function(e){return b(this,e=0===e?0:e,e)}}),f&&r(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",i=p(t),o=p(r);c(e,t,(function(e,t){v(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){var e=o(this),t=e.kind,n=e.last;while(n&&n.removed)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(t)}}},8662:function(e,t,n){"use strict";var r=n("e1de"),i=n("749e"),o=n("28bf"),a=n("d546"),s=n("b209"),l=n("59f4"),c=n("81f5"),u=n("ef03"),f=n("a299"),d=n("5f2a"),h=n("1106"),v=n("0137");e.exports=function(e,t,n){var p=-1!==e.indexOf("Map"),b=-1!==e.indexOf("Weak"),g=p?"set":"add",m=i[e],y=m&&m.prototype,x=m,w={},k=function(e){var t=y[e];a(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return b&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(b&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})},R=o(e,"function"!=typeof m||!(b||y.forEach&&!f((function(){(new m).entries().next()}))));if(R)x=n.getConstructor(t,e,p,g),s.REQUIRED=!0;else if(o(e,!0)){var S=new x,j=S[g](b?{}:-0,1)!=S,O=f((function(){S.has(1)})),E=d((function(e){new m(e)})),_=!b&&f((function(){var e=new m,t=5;while(t--)e[g](t,t);return!e.has(-0)}));E||(x=t((function(t,n){c(t,x,e);var r=v(new m,t,x);return void 0!=n&&l(n,r[g],{that:r,AS_ENTRIES:p}),r})),x.prototype=y,y.constructor=x),(O||_)&&(k("delete"),k("has"),p&&k("get")),(_||j)&&k(g),b&&y.clear&&delete y.clear}return w[e]=x,r({global:!0,forced:x!=m},w),h(x,e),b||n.setStrong(x,e,p),x}},"86c0":function(e,t,n){},a2f5:function(e,t,n){var r=n("2d31");e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},b209:function(e,t,n){var r=n("4e41"),i=n("ef03"),o=n("5555"),a=n("e4b3").f,s=n("6530"),l=n("f8b7"),c=s("meta"),u=0,f=Object.isExtensible||function(){return!0},d=function(e){a(e,c,{value:{objectID:"O"+ ++u,weakData:{}}})},h=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,c)){if(!f(e))return"F";if(!t)return"E";d(e)}return e[c].objectID},v=function(e,t){if(!o(e,c)){if(!f(e))return!0;if(!t)return!1;d(e)}return e[c].weakData},p=function(e){return l&&b.REQUIRED&&f(e)&&!o(e,c)&&d(e),e},b=e.exports={REQUIRED:!1,fastKey:h,getWeakData:v,onFreeze:p};r[c]=!0},d4c0:function(e,t,n){"use strict";var r=n("eb95"),i=n("b191");e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},d78e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-button",{attrs:{type:"primary"},on:{click:e.handleAddRole}},[e._v("New Role")]),n("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:e.rolesList,border:""}},[n("el-table-column",{attrs:{align:"center",label:"Role Key",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.key)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Role Name",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.name)+" ")]}}])}),n("el-table-column",{attrs:{align:"header-center",label:"Description"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.description)+" ")]}}])}),n("el-table-column",{attrs:{align:"center",label:"Operations"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){return e.handleEdit(t)}}},[e._v("Edit")]),n("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(n){return e.handleDelete(t)}}},[e._v("Delete")])]}}])})],1),n("el-dialog",{attrs:{visible:e.dialogVisible,title:"edit"===e.dialogType?"Edit Role":"New Role"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{attrs:{model:e.role,"label-width":"80px","label-position":"left"}},[n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Role Name"},model:{value:e.role.name,callback:function(t){e.$set(e.role,"name",t)},expression:"role.name"}})],1),n("el-form-item",{attrs:{label:"Desc"}},[n("el-input",{attrs:{autosize:{minRows:2,maxRows:4},type:"textarea",placeholder:"Role Description"},model:{value:e.role.description,callback:function(t){e.$set(e.role,"description",t)},expression:"role.description"}})],1),n("el-form-item",{attrs:{label:"Menus"}},[n("el-tree",{ref:"tree",staticClass:"permission-tree",attrs:{"check-strictly":e.checkStrictly,data:e.routesData,props:e.defaultProps,"show-checkbox":"","node-key":"path"}})],1)],1),n("div",{staticStyle:{"text-align":"right"}},[n("el-button",{attrs:{type:"danger"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("Cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:e.confirmRole}},[e._v("Confirm")])],1)],1)],1)},i=[],o=n("efe2"),a=n("e7e7"),s=n("a892"),l=n("4833"),c=(n("dd8d"),n("a573"),n("74e1"),n("d84b"),n("fa87"),n("7869"),n("1b18"),n("9113"),n("9438"),n("6a61"),n("6266")),u=n.n(c);n("1e1b"),n("43c5"),n("9ee9"),n("5611");function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}n("6dbb"),n("e0e8"),n("eee8"),n("ff25"),n("470f"),n("5cb1"),n("7f0d"),n("69ea"),n("e116"),n("9e79"),n("08fc"),n("2b1d"),n("3f94");function d(e){if(!e&&"object"!==f(e))throw new Error("error arguments","deepClone");var t=e.constructor===Array?[]:{};return Object.keys(e).forEach((function(n){e[n]&&"object"===f(e[n])?t[n]=d(e[n]):t[n]=e[n]})),t}var h=n("b775");function v(){return Object(h["a"])({url:"/vue-element-admin/routes",method:"get"})}function p(){return Object(h["a"])({url:"/vue-element-admin/roles",method:"get"})}function b(e){return Object(h["a"])({url:"/vue-element-admin/role",method:"post",data:e})}function g(e,t){return Object(h["a"])({url:"/vue-element-admin/role/".concat(e),method:"put",data:t})}function m(e){return Object(h["a"])({url:"/vue-element-admin/role/".concat(e),method:"delete"})}var y={key:"",name:"",description:"",routes:[]},x={data:function(){return{role:Object.assign({},y),routes:[],rolesList:[],dialogVisible:!1,dialogType:"new",checkStrictly:!1,defaultProps:{children:"children",label:"title"}}},computed:{routesData:function(){return this.routes}},created:function(){this.getRoutes(),this.getRoles()},methods:{getRoutes:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:n=t.sent,e.serviceRoutes=n.data,e.routes=e.generateRoutes(n.data);case 5:case"end":return t.stop()}}),t)})))()},getRoles:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p();case 2:n=t.sent,e.rolesList=n.data;case 4:case"end":return t.stop()}}),t)})))()},generateRoutes:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=[],i=Object(s["a"])(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(!o.hidden){var a=this.onlyOneShowingChild(o.children,o);o.children&&a&&!o.alwaysShow&&(o=a);var l={path:u.a.resolve(n,o.path),title:o.meta&&o.meta.title};o.children&&(l.children=this.generateRoutes(o.children,l.path)),r.push(l)}}}catch(c){i.e(c)}finally{i.f()}return r},generateArr:function(e){var t=this,n=[];return e.forEach((function(e){if(n.push(e),e.children){var r=t.generateArr(e.children);r.length>0&&(n=[].concat(Object(a["a"])(n),Object(a["a"])(r)))}})),n},handleAddRole:function(){this.role=Object.assign({},y),this.$refs.tree&&this.$refs.tree.setCheckedNodes([]),this.dialogType="new",this.dialogVisible=!0},handleEdit:function(e){var t=this;this.dialogType="edit",this.dialogVisible=!0,this.checkStrictly=!0,this.role=d(e.row),this.$nextTick((function(){var e=t.generateRoutes(t.role.routes);t.$refs.tree.setCheckedNodes(t.generateArr(e)),t.checkStrictly=!1}))},handleDelete:function(e){var t=this,n=e.$index,r=e.row;this.$confirm("Confirm to remove the role?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(r.key);case 2:t.rolesList.splice(n,1),t.$message({type:"success",message:"Delete succed!"});case 4:case"end":return e.stop()}}),e)})))).catch((function(e){console.error(e)}))},generateTree:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=arguments.length>2?arguments[2]:void 0,i=[],o=Object(s["a"])(e);try{for(o.s();!(t=o.n()).done;){var a=t.value,l=u.a.resolve(n,a.path);a.children&&(a.children=this.generateTree(a.children,l,r)),(r.includes(l)||a.children&&a.children.length>=1)&&i.push(a)}}catch(c){o.e(c)}finally{o.f()}return i},confirmRole:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var n,r,i,o,a,s,l,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n="edit"===e.dialogType,r=e.$refs.tree.getCheckedKeys(),e.role.routes=e.generateTree(d(e.serviceRoutes),"/",r),!n){t.next=16;break}return t.next=6,g(e.role.key,e.role);case 6:i=0;case 7:if(!(i<e.rolesList.length)){t.next=14;break}if(e.rolesList[i].key!==e.role.key){t.next=11;break}return e.rolesList.splice(i,1,Object.assign({},e.role)),t.abrupt("break",14);case 11:i++,t.next=7;break;case 14:t.next=22;break;case 16:return t.next=18,b(e.role);case 18:o=t.sent,a=o.data,e.role.key=a.key,e.rolesList.push(e.role);case 22:s=e.role,l=s.description,c=s.key,u=s.name,e.dialogVisible=!1,e.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:"\n            <div>Role Key: ".concat(c,"</div>\n            <div>Role Name: ").concat(u,"</div>\n            <div>Description: ").concat(l,"</div>\n          "),type:"success"});case 25:case"end":return t.stop()}}),t)})))()},onlyOneShowingChild:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=null,r=e.filter((function(e){return!e.hidden}));return 1===r.length?(n=r[0],n.path=u.a.resolve(t.path,n.path),n):0===r.length&&(n=Object(o["a"])(Object(o["a"])({},t),{},{path:"",noShowingChildren:!0}),n)}}},w=x,k=(n("4f69"),n("4ac2")),R=Object(k["a"])(w,r,i,!1,null,"52fb79f9",null);t["default"]=R.exports},f8b7:function(e,t,n){var r=n("a299");e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))}}]);